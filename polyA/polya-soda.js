"use strict";var ps=(()=>{var Cl=Object.create;var gr=Object.defineProperty,Al=Object.defineProperties,Pl=Object.getOwnPropertyDescriptor,Rl=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertyNames,Au=Object.getOwnPropertySymbols,El=Object.getPrototypeOf,Ru=Object.prototype.hasOwnProperty,Ol=Object.prototype.propertyIsEnumerable;var Pu=(t,e,n)=>e in t?gr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yi=(t,e)=>{for(var n in e||(e={}))Ru.call(e,n)&&Pu(t,n,e[n]);if(Au)for(var n of Au(e))Ol.call(e,n)&&Pu(t,n,e[n]);return t},vi=(t,e)=>Al(t,Rl(e));var Te=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ve=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Tu=(t,e)=>{for(var n in e)gr(t,n,{get:e[n],enumerable:!0})},Eu=(t,e,n,m)=>{if(e&&typeof e=="object"||typeof e=="function")for(let g of Tl(e))!Ru.call(t,g)&&g!==n&&gr(t,g,{get:()=>e[g],enumerable:!(m=Pl(e,g))||m.enumerable});return t};var xn=(t,e,n)=>(n=t!=null?Cl(El(t)):{},Eu(e||!t||!t.__esModule?gr(n,"default",{value:t,enumerable:!0}):n,t)),mr=t=>Eu(gr({},"__esModule",{value:!0}),t);function Br(t){return t=="+"?Ln.Forward:t=="-"?Ln.Reverse:t=="."?Ln.Unoriented:Ln.Unknown}var Ln,yr=Te(()=>{(function(t){t.Forward="+",t.Reverse="-",t.Unknown="?",t.Unoriented="."})(Ln||(Ln={}))});function Le(t){t=t||Ou;let e=_o.get(t)||0,n=`${t}-${e}`;return e++,_o.set(t,e),n}var Ou,_o,bn=Te(()=>{Ou="soda-id",_o=new Map;_o.set(Ou,0)});var Yn,xo=Te(()=>{bn();Yn=class{constructor(e){if(this.annotations=[],this.id=e.id!=null?e.id:Le("annotation-group"),this.start=e.start||0,this.end=e.end||0,e.annotations!=null)for(let n of e.annotations)this.add(n)}add(e){if(Array.isArray(e))for(let n of e)this.addAnnotation(n);else this.addAnnotation(e)}addAnnotation(e){this.annotations.length==0?(this.start=e.start,this.end=e.end):(this.start>e.start&&(this.start=e.start),this.start=Math.min(this.start,e.start),this.end=Math.max(this.end,e.end)),this.annotations.push(e)}}});var zu=Te(()=>{yr();xo()});var Bi=Ve((Hr,Nu)=>{(function(t,e){typeof Hr=="object"&&typeof Nu<"u"?e(Hr):typeof define=="function"&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(Hr,function(t){"use strict";function e(l,S){return l<S?-1:l>S?1:l>=S?0:NaN}function n(l){return l.length===1&&(l=m(l)),{left:function(S,k,d,r){for(d==null&&(d=0),r==null&&(r=S.length);d<r;){var M=d+r>>>1;l(S[M],k)<0?d=M+1:r=M}return d},right:function(S,k,d,r){for(d==null&&(d=0),r==null&&(r=S.length);d<r;){var M=d+r>>>1;l(S[M],k)>0?r=M:d=M+1}return d}}}function m(l){return function(S,k){return e(l(S),k)}}var g=n(e),Q=g.right,F=g.left;function z(l,S){S==null&&(S=I);for(var k=0,d=l.length-1,r=l[0],M=new Array(d<0?0:d);k<d;)M[k]=S(r,r=l[++k]);return M}function I(l,S){return[l,S]}function E(l,S,k){var d=l.length,r=S.length,M=new Array(d*r),H,ht,J,Tt;for(k==null&&(k=I),H=J=0;H<d;++H)for(Tt=l[H],ht=0;ht<r;++ht,++J)M[J]=k(Tt,S[ht]);return M}function T(l,S){return S<l?-1:S>l?1:S>=l?0:NaN}function Y(l){return l===null?NaN:+l}function C(l,S){var k=l.length,d=0,r=-1,M=0,H,ht,J=0;if(S==null)for(;++r<k;)isNaN(H=Y(l[r]))||(ht=H-M,M+=ht/++d,J+=ht*(H-M));else for(;++r<k;)isNaN(H=Y(S(l[r],r,l)))||(ht=H-M,M+=ht/++d,J+=ht*(H-M));if(d>1)return J/(d-1)}function it(l,S){var k=C(l,S);return k&&Math.sqrt(k)}function at(l,S){var k=l.length,d=-1,r,M,H;if(S==null){for(;++d<k;)if((r=l[d])!=null&&r>=r)for(M=H=r;++d<k;)(r=l[d])!=null&&(M>r&&(M=r),H<r&&(H=r))}else for(;++d<k;)if((r=S(l[d],d,l))!=null&&r>=r)for(M=H=r;++d<k;)(r=S(l[d],d,l))!=null&&(M>r&&(M=r),H<r&&(H=r));return[M,H]}var lt=Array.prototype,Pt=lt.slice,vt=lt.map;function It(l){return function(){return l}}function kt(l){return l}function et(l,S,k){l=+l,S=+S,k=(r=arguments.length)<2?(S=l,l=0,1):r<3?1:+k;for(var d=-1,r=Math.max(0,Math.ceil((S-l)/k))|0,M=new Array(r);++d<r;)M[d]=l+d*k;return M}var dt=Math.sqrt(50),V=Math.sqrt(10),h=Math.sqrt(2);function v(l,S,k){var d,r=-1,M,H,ht;if(S=+S,l=+l,k=+k,l===S&&k>0)return[l];if((d=S<l)&&(M=l,l=S,S=M),(ht=x(l,S,k))===0||!isFinite(ht))return[];if(ht>0)for(l=Math.ceil(l/ht),S=Math.floor(S/ht),H=new Array(M=Math.ceil(S-l+1));++r<M;)H[r]=(l+r)*ht;else for(l=Math.floor(l*ht),S=Math.ceil(S*ht),H=new Array(M=Math.ceil(l-S+1));++r<M;)H[r]=(l-r)/ht;return d&&H.reverse(),H}function x(l,S,k){var d=(S-l)/Math.max(0,k),r=Math.floor(Math.log(d)/Math.LN10),M=d/Math.pow(10,r);return r>=0?(M>=dt?10:M>=V?5:M>=h?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(M>=dt?10:M>=V?5:M>=h?2:1)}function D(l,S,k){var d=Math.abs(S-l)/Math.max(0,k),r=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),M=d/r;return M>=dt?r*=10:M>=V?r*=5:M>=h&&(r*=2),S<l?-r:r}function j(l){return Math.ceil(Math.log(l.length)/Math.LN2)+1}function mt(){var l=kt,S=at,k=j;function d(r){var M,H=r.length,ht,J=new Array(H);for(M=0;M<H;++M)J[M]=l(r[M],M,r);var Tt=S(J),$t=Tt[0],Nt=Tt[1],Ft=k(J,$t,Nt);Array.isArray(Ft)||(Ft=D($t,Nt,Ft),Ft=et(Math.ceil($t/Ft)*Ft,Nt,Ft));for(var te=Ft.length;Ft[0]<=$t;)Ft.shift(),--te;for(;Ft[te-1]>Nt;)Ft.pop(),--te;var ie=new Array(te+1),Yt;for(M=0;M<=te;++M)Yt=ie[M]=[],Yt.x0=M>0?Ft[M-1]:$t,Yt.x1=M<te?Ft[M]:Nt;for(M=0;M<H;++M)ht=J[M],$t<=ht&&ht<=Nt&&ie[Q(Ft,ht,0,te)].push(r[M]);return ie}return d.value=function(r){return arguments.length?(l=typeof r=="function"?r:It(r),d):l},d.domain=function(r){return arguments.length?(S=typeof r=="function"?r:It([r[0],r[1]]),d):S},d.thresholds=function(r){return arguments.length?(k=typeof r=="function"?r:Array.isArray(r)?It(Pt.call(r)):It(r),d):k},d}function ot(l,S,k){if(k==null&&(k=Y),!!(d=l.length)){if((S=+S)<=0||d<2)return+k(l[0],0,l);if(S>=1)return+k(l[d-1],d-1,l);var d,r=(d-1)*S,M=Math.floor(r),H=+k(l[M],M,l),ht=+k(l[M+1],M+1,l);return H+(ht-H)*(r-M)}}function Z(l,S,k){return l=vt.call(l,Y).sort(e),Math.ceil((k-S)/(2*(ot(l,.75)-ot(l,.25))*Math.pow(l.length,-1/3)))}function tt(l,S,k){return Math.ceil((k-S)/(3.5*it(l)*Math.pow(l.length,-1/3)))}function yt(l,S){var k=l.length,d=-1,r,M;if(S==null){for(;++d<k;)if((r=l[d])!=null&&r>=r)for(M=r;++d<k;)(r=l[d])!=null&&r>M&&(M=r)}else for(;++d<k;)if((r=S(l[d],d,l))!=null&&r>=r)for(M=r;++d<k;)(r=S(l[d],d,l))!=null&&r>M&&(M=r);return M}function St(l,S){var k=l.length,d=k,r=-1,M,H=0;if(S==null)for(;++r<k;)isNaN(M=Y(l[r]))?--d:H+=M;else for(;++r<k;)isNaN(M=Y(S(l[r],r,l)))?--d:H+=M;if(d)return H/d}function K(l,S){var k=l.length,d=-1,r,M=[];if(S==null)for(;++d<k;)isNaN(r=Y(l[d]))||M.push(r);else for(;++d<k;)isNaN(r=Y(S(l[d],d,l)))||M.push(r);return ot(M.sort(e),.5)}function nt(l){for(var S=l.length,k,d=-1,r=0,M,H;++d<S;)r+=l[d].length;for(M=new Array(r);--S>=0;)for(H=l[S],k=H.length;--k>=0;)M[--r]=H[k];return M}function rt(l,S){var k=l.length,d=-1,r,M;if(S==null){for(;++d<k;)if((r=l[d])!=null&&r>=r)for(M=r;++d<k;)(r=l[d])!=null&&M>r&&(M=r)}else for(;++d<k;)if((r=S(l[d],d,l))!=null&&r>=r)for(M=r;++d<k;)(r=S(l[d],d,l))!=null&&M>r&&(M=r);return M}function st(l,S){for(var k=S.length,d=new Array(k);k--;)d[k]=l[S[k]];return d}function ct(l,S){if(!!(k=l.length)){var k,d=0,r=0,M,H=l[r];for(S==null&&(S=e);++d<k;)(S(M=l[d],H)<0||S(H,H)!==0)&&(H=M,r=d);if(S(H,H)===0)return r}}function wt(l,S,k){for(var d=(k??l.length)-(S=S==null?0:+S),r,M;d;)M=Math.random()*d--|0,r=l[d+S],l[d+S]=l[M+S],l[M+S]=r;return l}function qt(l,S){var k=l.length,d=-1,r,M=0;if(S==null)for(;++d<k;)(r=+l[d])&&(M+=r);else for(;++d<k;)(r=+S(l[d],d,l))&&(M+=r);return M}function Xt(l){if(!(M=l.length))return[];for(var S=-1,k=rt(l,zt),d=new Array(k);++S<k;)for(var r=-1,M,H=d[S]=new Array(M);++r<M;)H[r]=l[r][S];return d}function zt(l){return l.length}function ee(){return Xt(arguments)}t.bisect=Q,t.bisectRight=Q,t.bisectLeft=F,t.ascending=e,t.bisector=n,t.cross=E,t.descending=T,t.deviation=it,t.extent=at,t.histogram=mt,t.thresholdFreedmanDiaconis=Z,t.thresholdScott=tt,t.thresholdSturges=j,t.max=yt,t.mean=St,t.median=K,t.merge=nt,t.min=rt,t.pairs=z,t.permute=st,t.quantile=ot,t.range=et,t.scan=ct,t.shuffle=wt,t.sum=qt,t.ticks=v,t.tickIncrement=x,t.tickStep=D,t.transpose=Xt,t.variance=C,t.zip=ee,Object.defineProperty(t,"__esModule",{value:!0})})});var Iu=Ve((Ur,Du)=>{(function(t,e){typeof Ur=="object"&&typeof Du<"u"?e(Ur):typeof define=="function"&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(Ur,function(t){"use strict";var e=Array.prototype.slice;function n(It){return It}var m=1,g=2,Q=3,F=4,z=1e-6;function I(It){return"translate("+(It+.5)+",0)"}function E(It){return"translate(0,"+(It+.5)+")"}function T(It){return function(kt){return+It(kt)}}function Y(It){var kt=Math.max(0,It.bandwidth()-1)/2;return It.round()&&(kt=Math.round(kt)),function(et){return+It(et)+kt}}function C(){return!this.__axis}function it(It,kt){var et=[],dt=null,V=null,h=6,v=6,x=3,D=It===m||It===F?-1:1,j=It===F||It===g?"x":"y",mt=It===m||It===Q?I:E;function ot(Z){var tt=dt??(kt.ticks?kt.ticks.apply(kt,et):kt.domain()),yt=V??(kt.tickFormat?kt.tickFormat.apply(kt,et):n),St=Math.max(h,0)+x,K=kt.range(),nt=+K[0]+.5,rt=+K[K.length-1]+.5,st=(kt.bandwidth?Y:T)(kt.copy()),ct=Z.selection?Z.selection():Z,wt=ct.selectAll(".domain").data([null]),qt=ct.selectAll(".tick").data(tt,kt).order(),Xt=qt.exit(),zt=qt.enter().append("g").attr("class","tick"),ee=qt.select("line"),l=qt.select("text");wt=wt.merge(wt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),qt=qt.merge(zt),ee=ee.merge(zt.append("line").attr("stroke","currentColor").attr(j+"2",D*h)),l=l.merge(zt.append("text").attr("fill","currentColor").attr(j,D*St).attr("dy",It===m?"0em":It===Q?"0.71em":"0.32em")),Z!==ct&&(wt=wt.transition(Z),qt=qt.transition(Z),ee=ee.transition(Z),l=l.transition(Z),Xt=Xt.transition(Z).attr("opacity",z).attr("transform",function(S){return isFinite(S=st(S))?mt(S):this.getAttribute("transform")}),zt.attr("opacity",z).attr("transform",function(S){var k=this.parentNode.__axis;return mt(k&&isFinite(k=k(S))?k:st(S))})),Xt.remove(),wt.attr("d",It===F||It==g?v?"M"+D*v+","+nt+"H0.5V"+rt+"H"+D*v:"M0.5,"+nt+"V"+rt:v?"M"+nt+","+D*v+"V0.5H"+rt+"V"+D*v:"M"+nt+",0.5H"+rt),qt.attr("opacity",1).attr("transform",function(S){return mt(st(S))}),ee.attr(j+"2",D*h),l.attr(j,D*St).text(yt),ct.filter(C).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",It===g?"start":It===F?"end":"middle"),ct.each(function(){this.__axis=st})}return ot.scale=function(Z){return arguments.length?(kt=Z,ot):kt},ot.ticks=function(){return et=e.call(arguments),ot},ot.tickArguments=function(Z){return arguments.length?(et=Z==null?[]:e.call(Z),ot):et.slice()},ot.tickValues=function(Z){return arguments.length?(dt=Z==null?null:e.call(Z),ot):dt&&dt.slice()},ot.tickFormat=function(Z){return arguments.length?(V=Z,ot):V},ot.tickSize=function(Z){return arguments.length?(h=v=+Z,ot):h},ot.tickSizeInner=function(Z){return arguments.length?(h=+Z,ot):h},ot.tickSizeOuter=function(Z){return arguments.length?(v=+Z,ot):v},ot.tickPadding=function(Z){return arguments.length?(x=+Z,ot):x},ot}function at(It){return it(m,It)}function lt(It){return it(g,It)}function Pt(It){return it(Q,It)}function vt(It){return it(F,It)}t.axisTop=at,t.axisRight=lt,t.axisBottom=Pt,t.axisLeft=vt,Object.defineProperty(t,"__esModule",{value:!0})})});var Ri=Ve((Yr,qu)=>{(function(t,e){typeof Yr=="object"&&typeof qu<"u"?e(Yr):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Yr,function(t){"use strict";var e={value:function(){}};function n(){for(var z=0,I=arguments.length,E={},T;z<I;++z){if(!(T=arguments[z]+"")||T in E||/[\s.]/.test(T))throw new Error("illegal type: "+T);E[T]=[]}return new m(E)}function m(z){this._=z}function g(z,I){return z.trim().split(/^|\s+/).map(function(E){var T="",Y=E.indexOf(".");if(Y>=0&&(T=E.slice(Y+1),E=E.slice(0,Y)),E&&!I.hasOwnProperty(E))throw new Error("unknown type: "+E);return{type:E,name:T}})}m.prototype=n.prototype={constructor:m,on:function(z,I){var E=this._,T=g(z+"",E),Y,C=-1,it=T.length;if(arguments.length<2){for(;++C<it;)if((Y=(z=T[C]).type)&&(Y=Q(E[Y],z.name)))return Y;return}if(I!=null&&typeof I!="function")throw new Error("invalid callback: "+I);for(;++C<it;)if(Y=(z=T[C]).type)E[Y]=F(E[Y],z.name,I);else if(I==null)for(Y in E)E[Y]=F(E[Y],z.name,null);return this},copy:function(){var z={},I=this._;for(var E in I)z[E]=I[E].slice();return new m(z)},call:function(z,I){if((Y=arguments.length-2)>0)for(var E=new Array(Y),T=0,Y,C;T<Y;++T)E[T]=arguments[T+2];if(!this._.hasOwnProperty(z))throw new Error("unknown type: "+z);for(C=this._[z],T=0,Y=C.length;T<Y;++T)C[T].value.apply(I,E)},apply:function(z,I,E){if(!this._.hasOwnProperty(z))throw new Error("unknown type: "+z);for(var T=this._[z],Y=0,C=T.length;Y<C;++Y)T[Y].value.apply(I,E)}};function Q(z,I){for(var E=0,T=z.length,Y;E<T;++E)if((Y=z[E]).name===I)return Y.value}function F(z,I,E){for(var T=0,Y=z.length;T<Y;++T)if(z[T].name===I){z[T]=e,z=z.slice(0,T).concat(z.slice(T+1));break}return E!=null&&z.push({name:I,value:E}),z}t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})})});var Hi=Ve((Wr,Lu)=>{(function(t,e){typeof Wr=="object"&&typeof Lu<"u"?e(Wr):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Wr,function(t){"use strict";var e="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function m(L){var gt=L+="",Zt=gt.indexOf(":");return Zt>=0&&(gt=L.slice(0,Zt))!=="xmlns"&&(L=L.slice(Zt+1)),n.hasOwnProperty(gt)?{space:n[gt],local:L}:L}function g(L){return function(){var gt=this.ownerDocument,Zt=this.namespaceURI;return Zt===e&&gt.documentElement.namespaceURI===e?gt.createElement(L):gt.createElementNS(Zt,L)}}function Q(L){return function(){return this.ownerDocument.createElementNS(L.space,L.local)}}function F(L){var gt=m(L);return(gt.local?Q:g)(gt)}function z(){}function I(L){return L==null?z:function(){return this.querySelector(L)}}function E(L){typeof L!="function"&&(L=I(L));for(var gt=this._groups,Zt=gt.length,ue=new Array(Zt),fe=0;fe<Zt;++fe)for(var we=gt[fe],Oe=we.length,xe=ue[fe]=new Array(Oe),Re,qe,Ue=0;Ue<Oe;++Ue)(Re=we[Ue])&&(qe=L.call(Re,Re.__data__,Ue,we))&&("__data__"in Re&&(qe.__data__=Re.__data__),xe[Ue]=qe);return new ne(ue,this._parents)}function T(){return[]}function Y(L){return L==null?T:function(){return this.querySelectorAll(L)}}function C(L){typeof L!="function"&&(L=Y(L));for(var gt=this._groups,Zt=gt.length,ue=[],fe=[],we=0;we<Zt;++we)for(var Oe=gt[we],xe=Oe.length,Re,qe=0;qe<xe;++qe)(Re=Oe[qe])&&(ue.push(L.call(Re,Re.__data__,qe,Oe)),fe.push(Re));return new ne(ue,fe)}function it(L){return function(){return this.matches(L)}}function at(L){typeof L!="function"&&(L=it(L));for(var gt=this._groups,Zt=gt.length,ue=new Array(Zt),fe=0;fe<Zt;++fe)for(var we=gt[fe],Oe=we.length,xe=ue[fe]=[],Re,qe=0;qe<Oe;++qe)(Re=we[qe])&&L.call(Re,Re.__data__,qe,we)&&xe.push(Re);return new ne(ue,this._parents)}function lt(L){return new Array(L.length)}function Pt(){return new ne(this._enter||this._groups.map(lt),this._parents)}function vt(L,gt){this.ownerDocument=L.ownerDocument,this.namespaceURI=L.namespaceURI,this._next=null,this._parent=L,this.__data__=gt}vt.prototype={constructor:vt,appendChild:function(L){return this._parent.insertBefore(L,this._next)},insertBefore:function(L,gt){return this._parent.insertBefore(L,gt)},querySelector:function(L){return this._parent.querySelector(L)},querySelectorAll:function(L){return this._parent.querySelectorAll(L)}};function It(L){return function(){return L}}var kt="$";function et(L,gt,Zt,ue,fe,we){for(var Oe=0,xe,Re=gt.length,qe=we.length;Oe<qe;++Oe)(xe=gt[Oe])?(xe.__data__=we[Oe],ue[Oe]=xe):Zt[Oe]=new vt(L,we[Oe]);for(;Oe<Re;++Oe)(xe=gt[Oe])&&(fe[Oe]=xe)}function dt(L,gt,Zt,ue,fe,we,Oe){var xe,Re,qe={},Ue=gt.length,yn=we.length,An=new Array(Ue),gn;for(xe=0;xe<Ue;++xe)(Re=gt[xe])&&(An[xe]=gn=kt+Oe.call(Re,Re.__data__,xe,gt),gn in qe?fe[xe]=Re:qe[gn]=Re);for(xe=0;xe<yn;++xe)gn=kt+Oe.call(L,we[xe],xe,we),(Re=qe[gn])?(ue[xe]=Re,Re.__data__=we[xe],qe[gn]=null):Zt[xe]=new vt(L,we[xe]);for(xe=0;xe<Ue;++xe)(Re=gt[xe])&&qe[An[xe]]===Re&&(fe[xe]=Re)}function V(L,gt){if(!L)return gn=new Array(this.size()),qe=-1,this.each(function(At){gn[++qe]=At}),gn;var Zt=gt?dt:et,ue=this._parents,fe=this._groups;typeof L!="function"&&(L=It(L));for(var we=fe.length,Oe=new Array(we),xe=new Array(we),Re=new Array(we),qe=0;qe<we;++qe){var Ue=ue[qe],yn=fe[qe],An=yn.length,gn=L.call(Ue,Ue&&Ue.__data__,qe,ue),Bn=gn.length,Kn=xe[qe]=new Array(Bn),ri=Oe[qe]=new Array(Bn),gi=Re[qe]=new Array(An);Zt(Ue,yn,Kn,ri,gi,gn,gt);for(var o=0,O=0,q,ut;o<Bn;++o)if(q=Kn[o]){for(o>=O&&(O=o+1);!(ut=ri[O])&&++O<Bn;);q._next=ut||null}}return Oe=new ne(Oe,ue),Oe._enter=xe,Oe._exit=Re,Oe}function h(){return new ne(this._exit||this._groups.map(lt),this._parents)}function v(L,gt,Zt){var ue=this.enter(),fe=this,we=this.exit();return ue=typeof L=="function"?L(ue):ue.append(L+""),gt!=null&&(fe=gt(fe)),Zt==null?we.remove():Zt(we),ue&&fe?ue.merge(fe).order():fe}function x(L){for(var gt=this._groups,Zt=L._groups,ue=gt.length,fe=Zt.length,we=Math.min(ue,fe),Oe=new Array(ue),xe=0;xe<we;++xe)for(var Re=gt[xe],qe=Zt[xe],Ue=Re.length,yn=Oe[xe]=new Array(Ue),An,gn=0;gn<Ue;++gn)(An=Re[gn]||qe[gn])&&(yn[gn]=An);for(;xe<ue;++xe)Oe[xe]=gt[xe];return new ne(Oe,this._parents)}function D(){for(var L=this._groups,gt=-1,Zt=L.length;++gt<Zt;)for(var ue=L[gt],fe=ue.length-1,we=ue[fe],Oe;--fe>=0;)(Oe=ue[fe])&&(we&&Oe.compareDocumentPosition(we)^4&&we.parentNode.insertBefore(Oe,we),we=Oe);return this}function j(L){L||(L=mt);function gt(yn,An){return yn&&An?L(yn.__data__,An.__data__):!yn-!An}for(var Zt=this._groups,ue=Zt.length,fe=new Array(ue),we=0;we<ue;++we){for(var Oe=Zt[we],xe=Oe.length,Re=fe[we]=new Array(xe),qe,Ue=0;Ue<xe;++Ue)(qe=Oe[Ue])&&(Re[Ue]=qe);Re.sort(gt)}return new ne(fe,this._parents).order()}function mt(L,gt){return L<gt?-1:L>gt?1:L>=gt?0:NaN}function ot(){var L=arguments[0];return arguments[0]=this,L.apply(null,arguments),this}function Z(){var L=new Array(this.size()),gt=-1;return this.each(function(){L[++gt]=this}),L}function tt(){for(var L=this._groups,gt=0,Zt=L.length;gt<Zt;++gt)for(var ue=L[gt],fe=0,we=ue.length;fe<we;++fe){var Oe=ue[fe];if(Oe)return Oe}return null}function yt(){var L=0;return this.each(function(){++L}),L}function St(){return!this.node()}function K(L){for(var gt=this._groups,Zt=0,ue=gt.length;Zt<ue;++Zt)for(var fe=gt[Zt],we=0,Oe=fe.length,xe;we<Oe;++we)(xe=fe[we])&&L.call(xe,xe.__data__,we,fe);return this}function nt(L){return function(){this.removeAttribute(L)}}function rt(L){return function(){this.removeAttributeNS(L.space,L.local)}}function st(L,gt){return function(){this.setAttribute(L,gt)}}function ct(L,gt){return function(){this.setAttributeNS(L.space,L.local,gt)}}function wt(L,gt){return function(){var Zt=gt.apply(this,arguments);Zt==null?this.removeAttribute(L):this.setAttribute(L,Zt)}}function qt(L,gt){return function(){var Zt=gt.apply(this,arguments);Zt==null?this.removeAttributeNS(L.space,L.local):this.setAttributeNS(L.space,L.local,Zt)}}function Xt(L,gt){var Zt=m(L);if(arguments.length<2){var ue=this.node();return Zt.local?ue.getAttributeNS(Zt.space,Zt.local):ue.getAttribute(Zt)}return this.each((gt==null?Zt.local?rt:nt:typeof gt=="function"?Zt.local?qt:wt:Zt.local?ct:st)(Zt,gt))}function zt(L){return L.ownerDocument&&L.ownerDocument.defaultView||L.document&&L||L.defaultView}function ee(L){return function(){this.style.removeProperty(L)}}function l(L,gt,Zt){return function(){this.style.setProperty(L,gt,Zt)}}function S(L,gt,Zt){return function(){var ue=gt.apply(this,arguments);ue==null?this.style.removeProperty(L):this.style.setProperty(L,ue,Zt)}}function k(L,gt,Zt){return arguments.length>1?this.each((gt==null?ee:typeof gt=="function"?S:l)(L,gt,Zt??"")):d(this.node(),L)}function d(L,gt){return L.style.getPropertyValue(gt)||zt(L).getComputedStyle(L,null).getPropertyValue(gt)}function r(L){return function(){delete this[L]}}function M(L,gt){return function(){this[L]=gt}}function H(L,gt){return function(){var Zt=gt.apply(this,arguments);Zt==null?delete this[L]:this[L]=Zt}}function ht(L,gt){return arguments.length>1?this.each((gt==null?r:typeof gt=="function"?H:M)(L,gt)):this.node()[L]}function J(L){return L.trim().split(/^|\s+/)}function Tt(L){return L.classList||new $t(L)}function $t(L){this._node=L,this._names=J(L.getAttribute("class")||"")}$t.prototype={add:function(L){var gt=this._names.indexOf(L);gt<0&&(this._names.push(L),this._node.setAttribute("class",this._names.join(" ")))},remove:function(L){var gt=this._names.indexOf(L);gt>=0&&(this._names.splice(gt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(L){return this._names.indexOf(L)>=0}};function Nt(L,gt){for(var Zt=Tt(L),ue=-1,fe=gt.length;++ue<fe;)Zt.add(gt[ue])}function Ft(L,gt){for(var Zt=Tt(L),ue=-1,fe=gt.length;++ue<fe;)Zt.remove(gt[ue])}function te(L){return function(){Nt(this,L)}}function ie(L){return function(){Ft(this,L)}}function Yt(L,gt){return function(){(gt.apply(this,arguments)?Nt:Ft)(this,L)}}function pe(L,gt){var Zt=J(L+"");if(arguments.length<2){for(var ue=Tt(this.node()),fe=-1,we=Zt.length;++fe<we;)if(!ue.contains(Zt[fe]))return!1;return!0}return this.each((typeof gt=="function"?Yt:gt?te:ie)(Zt,gt))}function me(){this.textContent=""}function Ee(L){return function(){this.textContent=L}}function b(L){return function(){var gt=L.apply(this,arguments);this.textContent=gt??""}}function N(L){return arguments.length?this.each(L==null?me:(typeof L=="function"?b:Ee)(L)):this.node().textContent}function Mt(){this.innerHTML=""}function Kt(L){return function(){this.innerHTML=L}}function Dt(L){return function(){var gt=L.apply(this,arguments);this.innerHTML=gt??""}}function y(L){return arguments.length?this.each(L==null?Mt:(typeof L=="function"?Dt:Kt)(L)):this.node().innerHTML}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){return this.each(X)}function jt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function re(){return this.each(jt)}function oe(L){var gt=typeof L=="function"?L:F(L);return this.select(function(){return this.appendChild(gt.apply(this,arguments))})}function Me(){return null}function ve(L,gt){var Zt=typeof L=="function"?L:F(L),ue=gt==null?Me:typeof gt=="function"?gt:I(gt);return this.select(function(){return this.insertBefore(Zt.apply(this,arguments),ue.apply(this,arguments)||null)})}function Fe(){var L=this.parentNode;L&&L.removeChild(this)}function $e(){return this.each(Fe)}function en(){var L=this.cloneNode(!1),gt=this.parentNode;return gt?gt.insertBefore(L,this.nextSibling):L}function Xe(){var L=this.cloneNode(!0),gt=this.parentNode;return gt?gt.insertBefore(L,this.nextSibling):L}function $(L){return this.select(L?Xe:en)}function U(L){return arguments.length?this.property("__data__",L):this.node().__data__}var s={};if(t.event=null,typeof document<"u"){var R=document.documentElement;"onmouseenter"in R||(s={mouseenter:"mouseover",mouseleave:"mouseout"})}function u(L,gt,Zt){return L=f(L,gt,Zt),function(ue){var fe=ue.relatedTarget;(!fe||fe!==this&&!(fe.compareDocumentPosition(this)&8))&&L.call(this,ue)}}function f(L,gt,Zt){return function(ue){var fe=t.event;t.event=ue;try{L.call(this,this.__data__,gt,Zt)}finally{t.event=fe}}}function a(L){return L.trim().split(/^|\s+/).map(function(gt){var Zt="",ue=gt.indexOf(".");return ue>=0&&(Zt=gt.slice(ue+1),gt=gt.slice(0,ue)),{type:gt,name:Zt}})}function p(L){return function(){var gt=this.__on;if(!!gt){for(var Zt=0,ue=-1,fe=gt.length,we;Zt<fe;++Zt)we=gt[Zt],(!L.type||we.type===L.type)&&we.name===L.name?this.removeEventListener(we.type,we.listener,we.capture):gt[++ue]=we;++ue?gt.length=ue:delete this.__on}}}function w(L,gt,Zt){var ue=s.hasOwnProperty(L.type)?u:f;return function(fe,we,Oe){var xe=this.__on,Re,qe=ue(gt,we,Oe);if(xe){for(var Ue=0,yn=xe.length;Ue<yn;++Ue)if((Re=xe[Ue]).type===L.type&&Re.name===L.name){this.removeEventListener(Re.type,Re.listener,Re.capture),this.addEventListener(Re.type,Re.listener=qe,Re.capture=Zt),Re.value=gt;return}}this.addEventListener(L.type,qe,Zt),Re={type:L.type,name:L.name,value:gt,listener:qe,capture:Zt},xe?xe.push(Re):this.__on=[Re]}}function A(L,gt,Zt){var ue=a(L+""),fe,we=ue.length,Oe;if(arguments.length<2){var xe=this.node().__on;if(xe){for(var Re=0,qe=xe.length,Ue;Re<qe;++Re)for(fe=0,Ue=xe[Re];fe<we;++fe)if((Oe=ue[fe]).type===Ue.type&&Oe.name===Ue.name)return Ue.value}return}for(xe=gt?w:p,Zt==null&&(Zt=!1),fe=0;fe<we;++fe)this.each(xe(ue[fe],gt,Zt));return this}function W(L,gt,Zt,ue){var fe=t.event;L.sourceEvent=t.event,t.event=L;try{return gt.apply(Zt,ue)}finally{t.event=fe}}function pt(L,gt,Zt){var ue=zt(L),fe=ue.CustomEvent;typeof fe=="function"?fe=new fe(gt,Zt):(fe=ue.document.createEvent("Event"),Zt?(fe.initEvent(gt,Zt.bubbles,Zt.cancelable),fe.detail=Zt.detail):fe.initEvent(gt,!1,!1)),L.dispatchEvent(fe)}function B(L,gt){return function(){return pt(this,L,gt)}}function Et(L,gt){return function(){return pt(this,L,gt.apply(this,arguments))}}function Ot(L,gt){return this.each((typeof gt=="function"?Et:B)(L,gt))}var Ut=[null];function ne(L,gt){this._groups=L,this._parents=gt}function ye(){return new ne([[document.documentElement]],Ut)}ne.prototype=ye.prototype={constructor:ne,select:E,selectAll:C,filter:at,data:V,enter:Pt,exit:h,join:v,merge:x,order:D,sort:j,call:ot,nodes:Z,node:tt,size:yt,empty:St,each:K,attr:Xt,style:k,property:ht,classed:pe,text:N,html:y,raise:xt,lower:re,append:oe,insert:ve,remove:$e,clone:$,datum:U,on:A,dispatch:Ot};function be(L){return typeof L=="string"?new ne([[document.querySelector(L)]],[document.documentElement]):new ne([[L]],Ut)}function Ne(L){return be(F(L).call(document.documentElement))}var Ze=0;function We(){return new nn}function nn(){this._="@"+(++Ze).toString(36)}nn.prototype=We.prototype={constructor:nn,get:function(L){for(var gt=this._;!(gt in L);)if(!(L=L.parentNode))return;return L[gt]},set:function(L,gt){return L[this._]=gt},remove:function(L){return this._ in L&&delete L[this._]},toString:function(){return this._}};function pn(){for(var L=t.event,gt;gt=L.sourceEvent;)L=gt;return L}function fn(L,gt){var Zt=L.ownerSVGElement||L;if(Zt.createSVGPoint){var ue=Zt.createSVGPoint();return ue.x=gt.clientX,ue.y=gt.clientY,ue=ue.matrixTransform(L.getScreenCTM().inverse()),[ue.x,ue.y]}var fe=L.getBoundingClientRect();return[gt.clientX-fe.left-L.clientLeft,gt.clientY-fe.top-L.clientTop]}function ze(L){var gt=pn();return gt.changedTouches&&(gt=gt.changedTouches[0]),fn(L,gt)}function on(L){return typeof L=="string"?new ne([document.querySelectorAll(L)],[document.documentElement]):new ne([L??[]],Ut)}function rn(L,gt,Zt){arguments.length<3&&(Zt=gt,gt=pn().changedTouches);for(var ue=0,fe=gt?gt.length:0,we;ue<fe;++ue)if((we=gt[ue]).identifier===Zt)return fn(L,we);return null}function cn(L,gt){gt==null&&(gt=pn().touches);for(var Zt=0,ue=gt?gt.length:0,fe=new Array(ue);Zt<ue;++Zt)fe[Zt]=fn(L,gt[Zt]);return fe}t.clientPoint=fn,t.create=Ne,t.creator=F,t.customEvent=W,t.local=We,t.matcher=it,t.mouse=ze,t.namespace=m,t.namespaces=n,t.select=be,t.selectAll=on,t.selection=ye,t.selector=I,t.selectorAll=Y,t.style=d,t.touch=rn,t.touches=cn,t.window=zt,Object.defineProperty(t,"__esModule",{value:!0})})});var Vr=Ve((Gr,Fu)=>{(function(t,e){typeof Gr=="object"&&typeof Fu<"u"?e(Gr,Ri(),Hi()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-selection"],e):(t=t||self,e(t.d3=t.d3||{},t.d3,t.d3))})(Gr,function(t,e,n){"use strict";function m(){n.event.stopImmediatePropagation()}function g(){n.event.preventDefault(),n.event.stopImmediatePropagation()}function Q(at){var lt=at.document.documentElement,Pt=n.select(at).on("dragstart.drag",g,!0);"onselectstart"in lt?Pt.on("selectstart.drag",g,!0):(lt.__noselect=lt.style.MozUserSelect,lt.style.MozUserSelect="none")}function F(at,lt){var Pt=at.document.documentElement,vt=n.select(at).on("dragstart.drag",null);lt&&(vt.on("click.drag",g,!0),setTimeout(function(){vt.on("click.drag",null)},0)),"onselectstart"in Pt?vt.on("selectstart.drag",null):(Pt.style.MozUserSelect=Pt.__noselect,delete Pt.__noselect)}function z(at){return function(){return at}}function I(at,lt,Pt,vt,It,kt,et,dt,V,h){this.target=at,this.type=lt,this.subject=Pt,this.identifier=vt,this.active=It,this.x=kt,this.y=et,this.dx=dt,this.dy=V,this._=h}I.prototype.on=function(){var at=this._.on.apply(this._,arguments);return at===this._?this:at};function E(){return!n.event.ctrlKey&&!n.event.button}function T(){return this.parentNode}function Y(at){return at??{x:n.event.x,y:n.event.y}}function C(){return navigator.maxTouchPoints||"ontouchstart"in this}function it(){var at=E,lt=T,Pt=Y,vt=C,It={},kt=e.dispatch("start","drag","end"),et=0,dt,V,h,v,x=0;function D(K){K.on("mousedown.drag",j).filter(vt).on("touchstart.drag",Z).on("touchmove.drag",tt).on("touchend.drag touchcancel.drag",yt).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function j(){if(!(v||!at.apply(this,arguments))){var K=St("mouse",lt.apply(this,arguments),n.mouse,this,arguments);!K||(n.select(n.event.view).on("mousemove.drag",mt,!0).on("mouseup.drag",ot,!0),Q(n.event.view),m(),h=!1,dt=n.event.clientX,V=n.event.clientY,K("start"))}}function mt(){if(g(),!h){var K=n.event.clientX-dt,nt=n.event.clientY-V;h=K*K+nt*nt>x}It.mouse("drag")}function ot(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),F(n.event.view,h),g(),It.mouse("end")}function Z(){if(!!at.apply(this,arguments)){var K=n.event.changedTouches,nt=lt.apply(this,arguments),rt=K.length,st,ct;for(st=0;st<rt;++st)(ct=St(K[st].identifier,nt,n.touch,this,arguments))&&(m(),ct("start"))}}function tt(){var K=n.event.changedTouches,nt=K.length,rt,st;for(rt=0;rt<nt;++rt)(st=It[K[rt].identifier])&&(g(),st("drag"))}function yt(){var K=n.event.changedTouches,nt=K.length,rt,st;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),rt=0;rt<nt;++rt)(st=It[K[rt].identifier])&&(m(),st("end"))}function St(K,nt,rt,st,ct){var wt=rt(nt,K),qt,Xt,zt,ee=kt.copy();if(!!n.customEvent(new I(D,"beforestart",qt,K,et,wt[0],wt[1],0,0,ee),function(){return(n.event.subject=qt=Pt.apply(st,ct))==null?!1:(Xt=qt.x-wt[0]||0,zt=qt.y-wt[1]||0,!0)}))return function l(S){var k=wt,d;switch(S){case"start":It[K]=l,d=et++;break;case"end":delete It[K],--et;case"drag":wt=rt(nt,K),d=et;break}n.customEvent(new I(D,S,qt,K,d,wt[0]+Xt,wt[1]+zt,wt[0]-k[0],wt[1]-k[1],ee),ee.apply,ee,[S,st,ct])}}return D.filter=function(K){return arguments.length?(at=typeof K=="function"?K:z(!!K),D):at},D.container=function(K){return arguments.length?(lt=typeof K=="function"?K:z(K),D):lt},D.subject=function(K){return arguments.length?(Pt=typeof K=="function"?K:z(K),D):Pt},D.touchable=function(K){return arguments.length?(vt=typeof K=="function"?K:z(!!K),D):vt},D.on=function(){var K=kt.on.apply(kt,arguments);return K===kt?D:K},D.clickDistance=function(K){return arguments.length?(x=(K=+K)*K,D):Math.sqrt(x)},D}t.drag=it,t.dragDisable=Q,t.dragEnable=F,Object.defineProperty(t,"__esModule",{value:!0})})});var vr=Ve((jr,$u)=>{(function(t,e){typeof jr=="object"&&typeof $u<"u"?e(jr):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(jr,function(t){"use strict";function e(y,X,xt){y.prototype=X.prototype=xt,xt.constructor=y}function n(y,X){var xt=Object.create(y.prototype);for(var jt in X)xt[jt]=X[jt];return xt}function m(){}var g=.7,Q=1/g,F="\\s*([+-]?\\d+)\\s*",z="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E=/^#([0-9a-f]{3,8})$/,T=new RegExp("^rgb\\("+[F,F,F]+"\\)$"),Y=new RegExp("^rgb\\("+[I,I,I]+"\\)$"),C=new RegExp("^rgba\\("+[F,F,F,z]+"\\)$"),it=new RegExp("^rgba\\("+[I,I,I,z]+"\\)$"),at=new RegExp("^hsl\\("+[z,I,I]+"\\)$"),lt=new RegExp("^hsla\\("+[z,I,I,z]+"\\)$"),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(m,et,{copy:function(y){return Object.assign(new this.constructor,this,y)},displayable:function(){return this.rgb().displayable()},hex:vt,formatHex:vt,formatHsl:It,formatRgb:kt,toString:kt});function vt(){return this.rgb().formatHex()}function It(){return Z(this).formatHsl()}function kt(){return this.rgb().formatRgb()}function et(y){var X,xt;return y=(y+"").trim().toLowerCase(),(X=E.exec(y))?(xt=X[1].length,X=parseInt(X[1],16),xt===6?dt(X):xt===3?new x(X>>8&15|X>>4&240,X>>4&15|X&240,(X&15)<<4|X&15,1):xt===8?V(X>>24&255,X>>16&255,X>>8&255,(X&255)/255):xt===4?V(X>>12&15|X>>8&240,X>>8&15|X>>4&240,X>>4&15|X&240,((X&15)<<4|X&15)/255):null):(X=T.exec(y))?new x(X[1],X[2],X[3],1):(X=Y.exec(y))?new x(X[1]*255/100,X[2]*255/100,X[3]*255/100,1):(X=C.exec(y))?V(X[1],X[2],X[3],X[4]):(X=it.exec(y))?V(X[1]*255/100,X[2]*255/100,X[3]*255/100,X[4]):(X=at.exec(y))?ot(X[1],X[2]/100,X[3]/100,1):(X=lt.exec(y))?ot(X[1],X[2]/100,X[3]/100,X[4]):Pt.hasOwnProperty(y)?dt(Pt[y]):y==="transparent"?new x(NaN,NaN,NaN,0):null}function dt(y){return new x(y>>16&255,y>>8&255,y&255,1)}function V(y,X,xt,jt){return jt<=0&&(y=X=xt=NaN),new x(y,X,xt,jt)}function h(y){return y instanceof m||(y=et(y)),y?(y=y.rgb(),new x(y.r,y.g,y.b,y.opacity)):new x}function v(y,X,xt,jt){return arguments.length===1?h(y):new x(y,X,xt,jt??1)}function x(y,X,xt,jt){this.r=+y,this.g=+X,this.b=+xt,this.opacity=+jt}e(x,v,n(m,{brighter:function(y){return y=y==null?Q:Math.pow(Q,y),new x(this.r*y,this.g*y,this.b*y,this.opacity)},darker:function(y){return y=y==null?g:Math.pow(g,y),new x(this.r*y,this.g*y,this.b*y,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D,formatHex:D,formatRgb:j,toString:j}));function D(){return"#"+mt(this.r)+mt(this.g)+mt(this.b)}function j(){var y=this.opacity;return y=isNaN(y)?1:Math.max(0,Math.min(1,y)),(y===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(y===1?")":", "+y+")")}function mt(y){return y=Math.max(0,Math.min(255,Math.round(y)||0)),(y<16?"0":"")+y.toString(16)}function ot(y,X,xt,jt){return jt<=0?y=X=xt=NaN:xt<=0||xt>=1?y=X=NaN:X<=0&&(y=NaN),new yt(y,X,xt,jt)}function Z(y){if(y instanceof yt)return new yt(y.h,y.s,y.l,y.opacity);if(y instanceof m||(y=et(y)),!y)return new yt;if(y instanceof yt)return y;y=y.rgb();var X=y.r/255,xt=y.g/255,jt=y.b/255,re=Math.min(X,xt,jt),oe=Math.max(X,xt,jt),Me=NaN,ve=oe-re,Fe=(oe+re)/2;return ve?(X===oe?Me=(xt-jt)/ve+(xt<jt)*6:xt===oe?Me=(jt-X)/ve+2:Me=(X-xt)/ve+4,ve/=Fe<.5?oe+re:2-oe-re,Me*=60):ve=Fe>0&&Fe<1?0:Me,new yt(Me,ve,Fe,y.opacity)}function tt(y,X,xt,jt){return arguments.length===1?Z(y):new yt(y,X,xt,jt??1)}function yt(y,X,xt,jt){this.h=+y,this.s=+X,this.l=+xt,this.opacity=+jt}e(yt,tt,n(m,{brighter:function(y){return y=y==null?Q:Math.pow(Q,y),new yt(this.h,this.s,this.l*y,this.opacity)},darker:function(y){return y=y==null?g:Math.pow(g,y),new yt(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=this.h%360+(this.h<0)*360,X=isNaN(y)||isNaN(this.s)?0:this.s,xt=this.l,jt=xt+(xt<.5?xt:1-xt)*X,re=2*xt-jt;return new x(St(y>=240?y-240:y+120,re,jt),St(y,re,jt),St(y<120?y+240:y-120,re,jt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var y=this.opacity;return y=isNaN(y)?1:Math.max(0,Math.min(1,y)),(y===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(y===1?")":", "+y+")")}}));function St(y,X,xt){return(y<60?X+(xt-X)*y/60:y<180?xt:y<240?X+(xt-X)*(240-y)/60:X)*255}var K=Math.PI/180,nt=180/Math.PI,rt=18,st=.96422,ct=1,wt=.82521,qt=4/29,Xt=6/29,zt=3*Xt*Xt,ee=Xt*Xt*Xt;function l(y){if(y instanceof d)return new d(y.l,y.a,y.b,y.opacity);if(y instanceof Nt)return Ft(y);y instanceof x||(y=h(y));var X=ht(y.r),xt=ht(y.g),jt=ht(y.b),re=r((.2225045*X+.7168786*xt+.0606169*jt)/ct),oe,Me;return X===xt&&xt===jt?oe=Me=re:(oe=r((.4360747*X+.3850649*xt+.1430804*jt)/st),Me=r((.0139322*X+.0971045*xt+.7141733*jt)/wt)),new d(116*re-16,500*(oe-re),200*(re-Me),y.opacity)}function S(y,X){return new d(y,0,0,X??1)}function k(y,X,xt,jt){return arguments.length===1?l(y):new d(y,X,xt,jt??1)}function d(y,X,xt,jt){this.l=+y,this.a=+X,this.b=+xt,this.opacity=+jt}e(d,k,n(m,{brighter:function(y){return new d(this.l+rt*(y??1),this.a,this.b,this.opacity)},darker:function(y){return new d(this.l-rt*(y??1),this.a,this.b,this.opacity)},rgb:function(){var y=(this.l+16)/116,X=isNaN(this.a)?y:y+this.a/500,xt=isNaN(this.b)?y:y-this.b/200;return X=st*M(X),y=ct*M(y),xt=wt*M(xt),new x(H(3.1338561*X-1.6168667*y-.4906146*xt),H(-.9787684*X+1.9161415*y+.033454*xt),H(.0719453*X-.2289914*y+1.4052427*xt),this.opacity)}}));function r(y){return y>ee?Math.pow(y,1/3):y/zt+qt}function M(y){return y>Xt?y*y*y:zt*(y-qt)}function H(y){return 255*(y<=.0031308?12.92*y:1.055*Math.pow(y,1/2.4)-.055)}function ht(y){return(y/=255)<=.04045?y/12.92:Math.pow((y+.055)/1.055,2.4)}function J(y){if(y instanceof Nt)return new Nt(y.h,y.c,y.l,y.opacity);if(y instanceof d||(y=l(y)),y.a===0&&y.b===0)return new Nt(NaN,0<y.l&&y.l<100?0:NaN,y.l,y.opacity);var X=Math.atan2(y.b,y.a)*nt;return new Nt(X<0?X+360:X,Math.sqrt(y.a*y.a+y.b*y.b),y.l,y.opacity)}function Tt(y,X,xt,jt){return arguments.length===1?J(y):new Nt(xt,X,y,jt??1)}function $t(y,X,xt,jt){return arguments.length===1?J(y):new Nt(y,X,xt,jt??1)}function Nt(y,X,xt,jt){this.h=+y,this.c=+X,this.l=+xt,this.opacity=+jt}function Ft(y){if(isNaN(y.h))return new d(y.l,0,0,y.opacity);var X=y.h*K;return new d(y.l,Math.cos(X)*y.c,Math.sin(X)*y.c,y.opacity)}e(Nt,$t,n(m,{brighter:function(y){return new Nt(this.h,this.c,this.l+rt*(y??1),this.opacity)},darker:function(y){return new Nt(this.h,this.c,this.l-rt*(y??1),this.opacity)},rgb:function(){return Ft(this).rgb()}}));var te=-.14861,ie=1.78277,Yt=-.29227,pe=-.90649,me=1.97294,Ee=me*pe,b=me*ie,N=ie*Yt-pe*te;function Mt(y){if(y instanceof Dt)return new Dt(y.h,y.s,y.l,y.opacity);y instanceof x||(y=h(y));var X=y.r/255,xt=y.g/255,jt=y.b/255,re=(N*jt+Ee*X-b*xt)/(N+Ee-b),oe=jt-re,Me=(me*(xt-re)-Yt*oe)/pe,ve=Math.sqrt(Me*Me+oe*oe)/(me*re*(1-re)),Fe=ve?Math.atan2(Me,oe)*nt-120:NaN;return new Dt(Fe<0?Fe+360:Fe,ve,re,y.opacity)}function Kt(y,X,xt,jt){return arguments.length===1?Mt(y):new Dt(y,X,xt,jt??1)}function Dt(y,X,xt,jt){this.h=+y,this.s=+X,this.l=+xt,this.opacity=+jt}e(Dt,Kt,n(m,{brighter:function(y){return y=y==null?Q:Math.pow(Q,y),new Dt(this.h,this.s,this.l*y,this.opacity)},darker:function(y){return y=y==null?g:Math.pow(g,y),new Dt(this.h,this.s,this.l*y,this.opacity)},rgb:function(){var y=isNaN(this.h)?0:(this.h+120)*K,X=+this.l,xt=isNaN(this.s)?0:this.s*X*(1-X),jt=Math.cos(y),re=Math.sin(y);return new x(255*(X+xt*(te*jt+ie*re)),255*(X+xt*(Yt*jt+pe*re)),255*(X+xt*(me*jt)),this.opacity)}})),t.color=et,t.cubehelix=Kt,t.gray=S,t.hcl=$t,t.hsl=tt,t.lab=k,t.lch=Tt,t.rgb=v,Object.defineProperty(t,"__esModule",{value:!0})})});var Ti=Ve((Xr,Bu)=>{(function(t,e){typeof Xr=="object"&&typeof Bu<"u"?e(Xr,vr()):typeof define=="function"&&define.amd?define(["exports","d3-color"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(Xr,function(t,e){"use strict";function n(b,N,Mt,Kt,Dt){var y=b*b,X=y*b;return((1-3*b+3*y-X)*N+(4-6*y+3*X)*Mt+(1+3*b+3*y-3*X)*Kt+X*Dt)/6}function m(b){var N=b.length-1;return function(Mt){var Kt=Mt<=0?Mt=0:Mt>=1?(Mt=1,N-1):Math.floor(Mt*N),Dt=b[Kt],y=b[Kt+1],X=Kt>0?b[Kt-1]:2*Dt-y,xt=Kt<N-1?b[Kt+2]:2*y-Dt;return n((Mt-Kt/N)*N,X,Dt,y,xt)}}function g(b){var N=b.length;return function(Mt){var Kt=Math.floor(((Mt%=1)<0?++Mt:Mt)*N),Dt=b[(Kt+N-1)%N],y=b[Kt%N],X=b[(Kt+1)%N],xt=b[(Kt+2)%N];return n((Mt-Kt/N)*N,Dt,y,X,xt)}}function Q(b){return function(){return b}}function F(b,N){return function(Mt){return b+Mt*N}}function z(b,N,Mt){return b=Math.pow(b,Mt),N=Math.pow(N,Mt)-b,Mt=1/Mt,function(Kt){return Math.pow(b+Kt*N,Mt)}}function I(b,N){var Mt=N-b;return Mt?F(b,Mt>180||Mt<-180?Mt-360*Math.round(Mt/360):Mt):Q(isNaN(b)?N:b)}function E(b){return(b=+b)==1?T:function(N,Mt){return Mt-N?z(N,Mt,b):Q(isNaN(N)?Mt:N)}}function T(b,N){var Mt=N-b;return Mt?F(b,Mt):Q(isNaN(b)?N:b)}var Y=function b(N){var Mt=E(N);function Kt(Dt,y){var X=Mt((Dt=e.rgb(Dt)).r,(y=e.rgb(y)).r),xt=Mt(Dt.g,y.g),jt=Mt(Dt.b,y.b),re=T(Dt.opacity,y.opacity);return function(oe){return Dt.r=X(oe),Dt.g=xt(oe),Dt.b=jt(oe),Dt.opacity=re(oe),Dt+""}}return Kt.gamma=b,Kt}(1);function C(b){return function(N){var Mt=N.length,Kt=new Array(Mt),Dt=new Array(Mt),y=new Array(Mt),X,xt;for(X=0;X<Mt;++X)xt=e.rgb(N[X]),Kt[X]=xt.r||0,Dt[X]=xt.g||0,y[X]=xt.b||0;return Kt=b(Kt),Dt=b(Dt),y=b(y),xt.opacity=1,function(jt){return xt.r=Kt(jt),xt.g=Dt(jt),xt.b=y(jt),xt+""}}}var it=C(m),at=C(g);function lt(b,N){N||(N=[]);var Mt=b?Math.min(N.length,b.length):0,Kt=N.slice(),Dt;return function(y){for(Dt=0;Dt<Mt;++Dt)Kt[Dt]=b[Dt]*(1-y)+N[Dt]*y;return Kt}}function Pt(b){return ArrayBuffer.isView(b)&&!(b instanceof DataView)}function vt(b,N){return(Pt(N)?lt:It)(b,N)}function It(b,N){var Mt=N?N.length:0,Kt=b?Math.min(Mt,b.length):0,Dt=new Array(Kt),y=new Array(Mt),X;for(X=0;X<Kt;++X)Dt[X]=j(b[X],N[X]);for(;X<Mt;++X)y[X]=N[X];return function(xt){for(X=0;X<Kt;++X)y[X]=Dt[X](xt);return y}}function kt(b,N){var Mt=new Date;return b=+b,N=+N,function(Kt){return Mt.setTime(b*(1-Kt)+N*Kt),Mt}}function et(b,N){return b=+b,N=+N,function(Mt){return b*(1-Mt)+N*Mt}}function dt(b,N){var Mt={},Kt={},Dt;(b===null||typeof b!="object")&&(b={}),(N===null||typeof N!="object")&&(N={});for(Dt in N)Dt in b?Mt[Dt]=j(b[Dt],N[Dt]):Kt[Dt]=N[Dt];return function(y){for(Dt in Mt)Kt[Dt]=Mt[Dt](y);return Kt}}var V=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h=new RegExp(V.source,"g");function v(b){return function(){return b}}function x(b){return function(N){return b(N)+""}}function D(b,N){var Mt=V.lastIndex=h.lastIndex=0,Kt,Dt,y,X=-1,xt=[],jt=[];for(b=b+"",N=N+"";(Kt=V.exec(b))&&(Dt=h.exec(N));)(y=Dt.index)>Mt&&(y=N.slice(Mt,y),xt[X]?xt[X]+=y:xt[++X]=y),(Kt=Kt[0])===(Dt=Dt[0])?xt[X]?xt[X]+=Dt:xt[++X]=Dt:(xt[++X]=null,jt.push({i:X,x:et(Kt,Dt)})),Mt=h.lastIndex;return Mt<N.length&&(y=N.slice(Mt),xt[X]?xt[X]+=y:xt[++X]=y),xt.length<2?jt[0]?x(jt[0].x):v(N):(N=jt.length,function(re){for(var oe=0,Me;oe<N;++oe)xt[(Me=jt[oe]).i]=Me.x(re);return xt.join("")})}function j(b,N){var Mt=typeof N,Kt;return N==null||Mt==="boolean"?Q(N):(Mt==="number"?et:Mt==="string"?(Kt=e.color(N))?(N=Kt,Y):D:N instanceof e.color?Y:N instanceof Date?kt:Pt(N)?lt:Array.isArray(N)?It:typeof N.valueOf!="function"&&typeof N.toString!="function"||isNaN(N)?dt:et)(b,N)}function mt(b){var N=b.length;return function(Mt){return b[Math.max(0,Math.min(N-1,Math.floor(Mt*N)))]}}function ot(b,N){var Mt=I(+b,+N);return function(Kt){var Dt=Mt(Kt);return Dt-360*Math.floor(Dt/360)}}function Z(b,N){return b=+b,N=+N,function(Mt){return Math.round(b*(1-Mt)+N*Mt)}}var tt=180/Math.PI,yt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function St(b,N,Mt,Kt,Dt,y){var X,xt,jt;return(X=Math.sqrt(b*b+N*N))&&(b/=X,N/=X),(jt=b*Mt+N*Kt)&&(Mt-=b*jt,Kt-=N*jt),(xt=Math.sqrt(Mt*Mt+Kt*Kt))&&(Mt/=xt,Kt/=xt,jt/=xt),b*Kt<N*Mt&&(b=-b,N=-N,jt=-jt,X=-X),{translateX:Dt,translateY:y,rotate:Math.atan2(N,b)*tt,skewX:Math.atan(jt)*tt,scaleX:X,scaleY:xt}}var K,nt,rt,st;function ct(b){return b==="none"?yt:(K||(K=document.createElement("DIV"),nt=document.documentElement,rt=document.defaultView),K.style.transform=b,b=rt.getComputedStyle(nt.appendChild(K),null).getPropertyValue("transform"),nt.removeChild(K),b=b.slice(7,-1).split(","),St(+b[0],+b[1],+b[2],+b[3],+b[4],+b[5]))}function wt(b){return b==null||(st||(st=document.createElementNS("http://www.w3.org/2000/svg","g")),st.setAttribute("transform",b),!(b=st.transform.baseVal.consolidate()))?yt:(b=b.matrix,St(b.a,b.b,b.c,b.d,b.e,b.f))}function qt(b,N,Mt,Kt){function Dt(re){return re.length?re.pop()+" ":""}function y(re,oe,Me,ve,Fe,$e){if(re!==Me||oe!==ve){var en=Fe.push("translate(",null,N,null,Mt);$e.push({i:en-4,x:et(re,Me)},{i:en-2,x:et(oe,ve)})}else(Me||ve)&&Fe.push("translate("+Me+N+ve+Mt)}function X(re,oe,Me,ve){re!==oe?(re-oe>180?oe+=360:oe-re>180&&(re+=360),ve.push({i:Me.push(Dt(Me)+"rotate(",null,Kt)-2,x:et(re,oe)})):oe&&Me.push(Dt(Me)+"rotate("+oe+Kt)}function xt(re,oe,Me,ve){re!==oe?ve.push({i:Me.push(Dt(Me)+"skewX(",null,Kt)-2,x:et(re,oe)}):oe&&Me.push(Dt(Me)+"skewX("+oe+Kt)}function jt(re,oe,Me,ve,Fe,$e){if(re!==Me||oe!==ve){var en=Fe.push(Dt(Fe)+"scale(",null,",",null,")");$e.push({i:en-4,x:et(re,Me)},{i:en-2,x:et(oe,ve)})}else(Me!==1||ve!==1)&&Fe.push(Dt(Fe)+"scale("+Me+","+ve+")")}return function(re,oe){var Me=[],ve=[];return re=b(re),oe=b(oe),y(re.translateX,re.translateY,oe.translateX,oe.translateY,Me,ve),X(re.rotate,oe.rotate,Me,ve),xt(re.skewX,oe.skewX,Me,ve),jt(re.scaleX,re.scaleY,oe.scaleX,oe.scaleY,Me,ve),re=oe=null,function(Fe){for(var $e=-1,en=ve.length,Xe;++$e<en;)Me[(Xe=ve[$e]).i]=Xe.x(Fe);return Me.join("")}}}var Xt=qt(ct,"px, ","px)","deg)"),zt=qt(wt,", ",")",")"),ee=Math.SQRT2,l=2,S=4,k=1e-12;function d(b){return((b=Math.exp(b))+1/b)/2}function r(b){return((b=Math.exp(b))-1/b)/2}function M(b){return((b=Math.exp(2*b))-1)/(b+1)}function H(b,N){var Mt=b[0],Kt=b[1],Dt=b[2],y=N[0],X=N[1],xt=N[2],jt=y-Mt,re=X-Kt,oe=jt*jt+re*re,Me,ve;if(oe<k)ve=Math.log(xt/Dt)/ee,Me=function(U){return[Mt+U*jt,Kt+U*re,Dt*Math.exp(ee*U*ve)]};else{var Fe=Math.sqrt(oe),$e=(xt*xt-Dt*Dt+S*oe)/(2*Dt*l*Fe),en=(xt*xt-Dt*Dt-S*oe)/(2*xt*l*Fe),Xe=Math.log(Math.sqrt($e*$e+1)-$e),$=Math.log(Math.sqrt(en*en+1)-en);ve=($-Xe)/ee,Me=function(U){var s=U*ve,R=d(Xe),u=Dt/(l*Fe)*(R*M(ee*s+Xe)-r(Xe));return[Mt+u*jt,Kt+u*re,Dt*R/d(ee*s+Xe)]}}return Me.duration=ve*1e3,Me}function ht(b){return function(N,Mt){var Kt=b((N=e.hsl(N)).h,(Mt=e.hsl(Mt)).h),Dt=T(N.s,Mt.s),y=T(N.l,Mt.l),X=T(N.opacity,Mt.opacity);return function(xt){return N.h=Kt(xt),N.s=Dt(xt),N.l=y(xt),N.opacity=X(xt),N+""}}}var J=ht(I),Tt=ht(T);function $t(b,N){var Mt=T((b=e.lab(b)).l,(N=e.lab(N)).l),Kt=T(b.a,N.a),Dt=T(b.b,N.b),y=T(b.opacity,N.opacity);return function(X){return b.l=Mt(X),b.a=Kt(X),b.b=Dt(X),b.opacity=y(X),b+""}}function Nt(b){return function(N,Mt){var Kt=b((N=e.hcl(N)).h,(Mt=e.hcl(Mt)).h),Dt=T(N.c,Mt.c),y=T(N.l,Mt.l),X=T(N.opacity,Mt.opacity);return function(xt){return N.h=Kt(xt),N.c=Dt(xt),N.l=y(xt),N.opacity=X(xt),N+""}}}var Ft=Nt(I),te=Nt(T);function ie(b){return function N(Mt){Mt=+Mt;function Kt(Dt,y){var X=b((Dt=e.cubehelix(Dt)).h,(y=e.cubehelix(y)).h),xt=T(Dt.s,y.s),jt=T(Dt.l,y.l),re=T(Dt.opacity,y.opacity);return function(oe){return Dt.h=X(oe),Dt.s=xt(oe),Dt.l=jt(Math.pow(oe,Mt)),Dt.opacity=re(oe),Dt+""}}return Kt.gamma=N,Kt}(1)}var Yt=ie(I),pe=ie(T);function me(b,N){for(var Mt=0,Kt=N.length-1,Dt=N[0],y=new Array(Kt<0?0:Kt);Mt<Kt;)y[Mt]=b(Dt,Dt=N[++Mt]);return function(X){var xt=Math.max(0,Math.min(Kt-1,Math.floor(X*=Kt)));return y[xt](X-xt)}}function Ee(b,N){for(var Mt=new Array(N),Kt=0;Kt<N;++Kt)Mt[Kt]=b(Kt/(N-1));return Mt}t.interpolate=j,t.interpolateArray=vt,t.interpolateBasis=m,t.interpolateBasisClosed=g,t.interpolateCubehelix=Yt,t.interpolateCubehelixLong=pe,t.interpolateDate=kt,t.interpolateDiscrete=mt,t.interpolateHcl=Ft,t.interpolateHclLong=te,t.interpolateHsl=J,t.interpolateHslLong=Tt,t.interpolateHue=ot,t.interpolateLab=$t,t.interpolateNumber=et,t.interpolateNumberArray=lt,t.interpolateObject=dt,t.interpolateRgb=Y,t.interpolateRgbBasis=it,t.interpolateRgbBasisClosed=at,t.interpolateRound=Z,t.interpolateString=D,t.interpolateTransformCss=Xt,t.interpolateTransformSvg=zt,t.interpolateZoom=H,t.piecewise=me,t.quantize=Ee,Object.defineProperty(t,"__esModule",{value:!0})})});var Kr=Ve((Zr,Hu)=>{(function(t,e){typeof Zr=="object"&&typeof Hu<"u"?e(Zr):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Zr,function(t){"use strict";var e=0,n=0,m=0,g=1e3,Q,F,z=0,I=0,E=0,T=typeof performance=="object"&&performance.now?performance:Date,Y=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(h){setTimeout(h,17)};function C(){return I||(Y(it),I=T.now()+E)}function it(){I=0}function at(){this._call=this._time=this._next=null}at.prototype=lt.prototype={constructor:at,restart:function(h,v,x){if(typeof h!="function")throw new TypeError("callback is not a function");x=(x==null?C():+x)+(v==null?0:+v),!this._next&&F!==this&&(F?F._next=this:Q=this,F=this),this._call=h,this._time=x,et()},stop:function(){this._call&&(this._call=null,this._time=1/0,et())}};function lt(h,v,x){var D=new at;return D.restart(h,v,x),D}function Pt(){C(),++e;for(var h=Q,v;h;)(v=I-h._time)>=0&&h._call.call(null,v),h=h._next;--e}function vt(){I=(z=T.now())+E,e=n=0;try{Pt()}finally{e=0,kt(),I=0}}function It(){var h=T.now(),v=h-z;v>g&&(E-=v,z=h)}function kt(){for(var h,v=Q,x,D=1/0;v;)v._call?(D>v._time&&(D=v._time),h=v,v=v._next):(x=v._next,v._next=null,v=h?h._next=x:Q=x);F=h,et(D)}function et(h){if(!e){n&&(n=clearTimeout(n));var v=h-I;v>24?(h<1/0&&(n=setTimeout(vt,h-T.now()-E)),m&&(m=clearInterval(m))):(m||(z=T.now(),m=setInterval(It,g)),e=1,Y(vt))}}function dt(h,v,x){var D=new at;return v=v==null?0:+v,D.restart(function(j){D.stop(),h(j+v)},v,x),D}function V(h,v,x){var D=new at,j=v;return v==null?(D.restart(h,v,x),D):(v=+v,x=x==null?C():+x,D.restart(function mt(ot){ot+=j,D.restart(mt,j+=v,x),h(ot)},v,x),D)}t.interval=V,t.now=C,t.timeout=dt,t.timer=lt,t.timerFlush=Pt,Object.defineProperty(t,"__esModule",{value:!0})})});var Mo=Ve((Qr,Uu)=>{(function(t,e){typeof Qr=="object"&&typeof Uu<"u"?e(Qr):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(Qr,function(t){"use strict";function e(d){return+d}function n(d){return d*d}function m(d){return d*(2-d)}function g(d){return((d*=2)<=1?d*d:--d*(2-d)+1)/2}function Q(d){return d*d*d}function F(d){return--d*d*d+1}function z(d){return((d*=2)<=1?d*d*d:(d-=2)*d*d+2)/2}var I=3,E=function d(r){r=+r;function M(H){return Math.pow(H,r)}return M.exponent=d,M}(I),T=function d(r){r=+r;function M(H){return 1-Math.pow(1-H,r)}return M.exponent=d,M}(I),Y=function d(r){r=+r;function M(H){return((H*=2)<=1?Math.pow(H,r):2-Math.pow(2-H,r))/2}return M.exponent=d,M}(I),C=Math.PI,it=C/2;function at(d){return+d==1?1:1-Math.cos(d*it)}function lt(d){return Math.sin(d*it)}function Pt(d){return(1-Math.cos(C*d))/2}function vt(d){return(Math.pow(2,-10*d)-.0009765625)*1.0009775171065494}function It(d){return vt(1-+d)}function kt(d){return 1-vt(d)}function et(d){return((d*=2)<=1?vt(1-d):2-vt(d-1))/2}function dt(d){return 1-Math.sqrt(1-d*d)}function V(d){return Math.sqrt(1- --d*d)}function h(d){return((d*=2)<=1?1-Math.sqrt(1-d*d):Math.sqrt(1-(d-=2)*d)+1)/2}var v=4/11,x=6/11,D=8/11,j=3/4,mt=9/11,ot=10/11,Z=15/16,tt=21/22,yt=63/64,St=1/v/v;function K(d){return 1-nt(1-d)}function nt(d){return(d=+d)<v?St*d*d:d<D?St*(d-=x)*d+j:d<ot?St*(d-=mt)*d+Z:St*(d-=tt)*d+yt}function rt(d){return((d*=2)<=1?1-nt(1-d):nt(d-1)+1)/2}var st=1.70158,ct=function d(r){r=+r;function M(H){return(H=+H)*H*(r*(H-1)+H)}return M.overshoot=d,M}(st),wt=function d(r){r=+r;function M(H){return--H*H*((H+1)*r+H)+1}return M.overshoot=d,M}(st),qt=function d(r){r=+r;function M(H){return((H*=2)<1?H*H*((r+1)*H-r):(H-=2)*H*((r+1)*H+r)+2)/2}return M.overshoot=d,M}(st),Xt=2*Math.PI,zt=1,ee=.3,l=function d(r,M){var H=Math.asin(1/(r=Math.max(1,r)))*(M/=Xt);function ht(J){return r*vt(- --J)*Math.sin((H-J)/M)}return ht.amplitude=function(J){return d(J,M*Xt)},ht.period=function(J){return d(r,J)},ht}(zt,ee),S=function d(r,M){var H=Math.asin(1/(r=Math.max(1,r)))*(M/=Xt);function ht(J){return 1-r*vt(J=+J)*Math.sin((J+H)/M)}return ht.amplitude=function(J){return d(J,M*Xt)},ht.period=function(J){return d(r,J)},ht}(zt,ee),k=function d(r,M){var H=Math.asin(1/(r=Math.max(1,r)))*(M/=Xt);function ht(J){return((J=J*2-1)<0?r*vt(-J)*Math.sin((H-J)/M):2-r*vt(J)*Math.sin((H+J)/M))/2}return ht.amplitude=function(J){return d(J,M*Xt)},ht.period=function(J){return d(r,J)},ht}(zt,ee);t.easeBack=qt,t.easeBackIn=ct,t.easeBackInOut=qt,t.easeBackOut=wt,t.easeBounce=nt,t.easeBounceIn=K,t.easeBounceInOut=rt,t.easeBounceOut=nt,t.easeCircle=h,t.easeCircleIn=dt,t.easeCircleInOut=h,t.easeCircleOut=V,t.easeCubic=z,t.easeCubicIn=Q,t.easeCubicInOut=z,t.easeCubicOut=F,t.easeElastic=S,t.easeElasticIn=l,t.easeElasticInOut=k,t.easeElasticOut=S,t.easeExp=et,t.easeExpIn=It,t.easeExpInOut=et,t.easeExpOut=kt,t.easeLinear=e,t.easePoly=Y,t.easePolyIn=E,t.easePolyInOut=Y,t.easePolyOut=T,t.easeQuad=g,t.easeQuadIn=n,t.easeQuadInOut=g,t.easeQuadOut=m,t.easeSin=Pt,t.easeSinIn=at,t.easeSinInOut=Pt,t.easeSinOut=lt,Object.defineProperty(t,"__esModule",{value:!0})})});var ta=Ve((Jr,Yu)=>{(function(t,e){typeof Jr=="object"&&typeof Yu<"u"?e(Jr,Hi(),Ri(),Kr(),Ti(),vr(),Mo()):typeof define=="function"&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],e):(t=t||self,e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3,t.d3))})(Jr,function(t,e,n,m,g,Q,F){"use strict";var z=n.dispatch("start","end","cancel","interrupt"),I=[],E=0,T=1,Y=2,C=3,it=4,at=5,lt=6;function Pt(a,p,w,A,W,pt){var B=a.__transition;if(!B)a.__transition={};else if(w in B)return;et(a,w,{name:p,index:A,group:W,on:z,tween:I,time:pt.time,delay:pt.delay,duration:pt.duration,ease:pt.ease,timer:null,state:E})}function vt(a,p){var w=kt(a,p);if(w.state>E)throw new Error("too late; already scheduled");return w}function It(a,p){var w=kt(a,p);if(w.state>C)throw new Error("too late; already running");return w}function kt(a,p){var w=a.__transition;if(!w||!(w=w[p]))throw new Error("transition not found");return w}function et(a,p,w){var A=a.__transition,W;A[p]=w,w.timer=m.timer(pt,0,w.time);function pt(Ut){w.state=T,w.timer.restart(B,w.delay,w.time),w.delay<=Ut&&B(Ut-w.delay)}function B(Ut){var ne,ye,be,Ne;if(w.state!==T)return Ot();for(ne in A)if(Ne=A[ne],Ne.name===w.name){if(Ne.state===C)return m.timeout(B);Ne.state===it?(Ne.state=lt,Ne.timer.stop(),Ne.on.call("interrupt",a,a.__data__,Ne.index,Ne.group),delete A[ne]):+ne<p&&(Ne.state=lt,Ne.timer.stop(),Ne.on.call("cancel",a,a.__data__,Ne.index,Ne.group),delete A[ne])}if(m.timeout(function(){w.state===C&&(w.state=it,w.timer.restart(Et,w.delay,w.time),Et(Ut))}),w.state=Y,w.on.call("start",a,a.__data__,w.index,w.group),w.state===Y){for(w.state=C,W=new Array(be=w.tween.length),ne=0,ye=-1;ne<be;++ne)(Ne=w.tween[ne].value.call(a,a.__data__,w.index,w.group))&&(W[++ye]=Ne);W.length=ye+1}}function Et(Ut){for(var ne=Ut<w.duration?w.ease.call(null,Ut/w.duration):(w.timer.restart(Ot),w.state=at,1),ye=-1,be=W.length;++ye<be;)W[ye].call(a,ne);w.state===at&&(w.on.call("end",a,a.__data__,w.index,w.group),Ot())}function Ot(){w.state=lt,w.timer.stop(),delete A[p];for(var Ut in A)return;delete a.__transition}}function dt(a,p){var w=a.__transition,A,W,pt=!0,B;if(!!w){p=p==null?null:p+"";for(B in w){if((A=w[B]).name!==p){pt=!1;continue}W=A.state>Y&&A.state<at,A.state=lt,A.timer.stop(),A.on.call(W?"interrupt":"cancel",a,a.__data__,A.index,A.group),delete w[B]}pt&&delete a.__transition}}function V(a){return this.each(function(){dt(this,a)})}function h(a,p){var w,A;return function(){var W=It(this,a),pt=W.tween;if(pt!==w){A=w=pt;for(var B=0,Et=A.length;B<Et;++B)if(A[B].name===p){A=A.slice(),A.splice(B,1);break}}W.tween=A}}function v(a,p,w){var A,W;if(typeof w!="function")throw new Error;return function(){var pt=It(this,a),B=pt.tween;if(B!==A){W=(A=B).slice();for(var Et={name:p,value:w},Ot=0,Ut=W.length;Ot<Ut;++Ot)if(W[Ot].name===p){W[Ot]=Et;break}Ot===Ut&&W.push(Et)}pt.tween=W}}function x(a,p){var w=this._id;if(a+="",arguments.length<2){for(var A=kt(this.node(),w).tween,W=0,pt=A.length,B;W<pt;++W)if((B=A[W]).name===a)return B.value;return null}return this.each((p==null?h:v)(w,a,p))}function D(a,p,w){var A=a._id;return a.each(function(){var W=It(this,A);(W.value||(W.value={}))[p]=w.apply(this,arguments)}),function(W){return kt(W,A).value[p]}}function j(a,p){var w;return(typeof p=="number"?g.interpolateNumber:p instanceof Q.color?g.interpolateRgb:(w=Q.color(p))?(p=w,g.interpolateRgb):g.interpolateString)(a,p)}function mt(a){return function(){this.removeAttribute(a)}}function ot(a){return function(){this.removeAttributeNS(a.space,a.local)}}function Z(a,p,w){var A,W=w+"",pt;return function(){var B=this.getAttribute(a);return B===W?null:B===A?pt:pt=p(A=B,w)}}function tt(a,p,w){var A,W=w+"",pt;return function(){var B=this.getAttributeNS(a.space,a.local);return B===W?null:B===A?pt:pt=p(A=B,w)}}function yt(a,p,w){var A,W,pt;return function(){var B,Et=w(this),Ot;return Et==null?void this.removeAttribute(a):(B=this.getAttribute(a),Ot=Et+"",B===Ot?null:B===A&&Ot===W?pt:(W=Ot,pt=p(A=B,Et)))}}function St(a,p,w){var A,W,pt;return function(){var B,Et=w(this),Ot;return Et==null?void this.removeAttributeNS(a.space,a.local):(B=this.getAttributeNS(a.space,a.local),Ot=Et+"",B===Ot?null:B===A&&Ot===W?pt:(W=Ot,pt=p(A=B,Et)))}}function K(a,p){var w=e.namespace(a),A=w==="transform"?g.interpolateTransformSvg:j;return this.attrTween(a,typeof p=="function"?(w.local?St:yt)(w,A,D(this,"attr."+a,p)):p==null?(w.local?ot:mt)(w):(w.local?tt:Z)(w,A,p))}function nt(a,p){return function(w){this.setAttribute(a,p.call(this,w))}}function rt(a,p){return function(w){this.setAttributeNS(a.space,a.local,p.call(this,w))}}function st(a,p){var w,A;function W(){var pt=p.apply(this,arguments);return pt!==A&&(w=(A=pt)&&rt(a,pt)),w}return W._value=p,W}function ct(a,p){var w,A;function W(){var pt=p.apply(this,arguments);return pt!==A&&(w=(A=pt)&&nt(a,pt)),w}return W._value=p,W}function wt(a,p){var w="attr."+a;if(arguments.length<2)return(w=this.tween(w))&&w._value;if(p==null)return this.tween(w,null);if(typeof p!="function")throw new Error;var A=e.namespace(a);return this.tween(w,(A.local?st:ct)(A,p))}function qt(a,p){return function(){vt(this,a).delay=+p.apply(this,arguments)}}function Xt(a,p){return p=+p,function(){vt(this,a).delay=p}}function zt(a){var p=this._id;return arguments.length?this.each((typeof a=="function"?qt:Xt)(p,a)):kt(this.node(),p).delay}function ee(a,p){return function(){It(this,a).duration=+p.apply(this,arguments)}}function l(a,p){return p=+p,function(){It(this,a).duration=p}}function S(a){var p=this._id;return arguments.length?this.each((typeof a=="function"?ee:l)(p,a)):kt(this.node(),p).duration}function k(a,p){if(typeof p!="function")throw new Error;return function(){It(this,a).ease=p}}function d(a){var p=this._id;return arguments.length?this.each(k(p,a)):kt(this.node(),p).ease}function r(a){typeof a!="function"&&(a=e.matcher(a));for(var p=this._groups,w=p.length,A=new Array(w),W=0;W<w;++W)for(var pt=p[W],B=pt.length,Et=A[W]=[],Ot,Ut=0;Ut<B;++Ut)(Ot=pt[Ut])&&a.call(Ot,Ot.__data__,Ut,pt)&&Et.push(Ot);return new $e(A,this._parents,this._name,this._id)}function M(a){if(a._id!==this._id)throw new Error;for(var p=this._groups,w=a._groups,A=p.length,W=w.length,pt=Math.min(A,W),B=new Array(A),Et=0;Et<pt;++Et)for(var Ot=p[Et],Ut=w[Et],ne=Ot.length,ye=B[Et]=new Array(ne),be,Ne=0;Ne<ne;++Ne)(be=Ot[Ne]||Ut[Ne])&&(ye[Ne]=be);for(;Et<A;++Et)B[Et]=p[Et];return new $e(B,this._parents,this._name,this._id)}function H(a){return(a+"").trim().split(/^|\s+/).every(function(p){var w=p.indexOf(".");return w>=0&&(p=p.slice(0,w)),!p||p==="start"})}function ht(a,p,w){var A,W,pt=H(p)?vt:It;return function(){var B=pt(this,a),Et=B.on;Et!==A&&(W=(A=Et).copy()).on(p,w),B.on=W}}function J(a,p){var w=this._id;return arguments.length<2?kt(this.node(),w).on.on(a):this.each(ht(w,a,p))}function Tt(a){return function(){var p=this.parentNode;for(var w in this.__transition)if(+w!==a)return;p&&p.removeChild(this)}}function $t(){return this.on("end.remove",Tt(this._id))}function Nt(a){var p=this._name,w=this._id;typeof a!="function"&&(a=e.selector(a));for(var A=this._groups,W=A.length,pt=new Array(W),B=0;B<W;++B)for(var Et=A[B],Ot=Et.length,Ut=pt[B]=new Array(Ot),ne,ye,be=0;be<Ot;++be)(ne=Et[be])&&(ye=a.call(ne,ne.__data__,be,Et))&&("__data__"in ne&&(ye.__data__=ne.__data__),Ut[be]=ye,Pt(Ut[be],p,w,be,Ut,kt(ne,w)));return new $e(pt,this._parents,p,w)}function Ft(a){var p=this._name,w=this._id;typeof a!="function"&&(a=e.selectorAll(a));for(var A=this._groups,W=A.length,pt=[],B=[],Et=0;Et<W;++Et)for(var Ot=A[Et],Ut=Ot.length,ne,ye=0;ye<Ut;++ye)if(ne=Ot[ye]){for(var be=a.call(ne,ne.__data__,ye,Ot),Ne,Ze=kt(ne,w),We=0,nn=be.length;We<nn;++We)(Ne=be[We])&&Pt(Ne,p,w,We,be,Ze);pt.push(be),B.push(ne)}return new $e(pt,B,p,w)}var te=e.selection.prototype.constructor;function ie(){return new te(this._groups,this._parents)}function Yt(a,p){var w,A,W;return function(){var pt=e.style(this,a),B=(this.style.removeProperty(a),e.style(this,a));return pt===B?null:pt===w&&B===A?W:W=p(w=pt,A=B)}}function pe(a){return function(){this.style.removeProperty(a)}}function me(a,p,w){var A,W=w+"",pt;return function(){var B=e.style(this,a);return B===W?null:B===A?pt:pt=p(A=B,w)}}function Ee(a,p,w){var A,W,pt;return function(){var B=e.style(this,a),Et=w(this),Ot=Et+"";return Et==null&&(Ot=Et=(this.style.removeProperty(a),e.style(this,a))),B===Ot?null:B===A&&Ot===W?pt:(W=Ot,pt=p(A=B,Et))}}function b(a,p){var w,A,W,pt="style."+p,B="end."+pt,Et;return function(){var Ot=It(this,a),Ut=Ot.on,ne=Ot.value[pt]==null?Et||(Et=pe(p)):void 0;(Ut!==w||W!==ne)&&(A=(w=Ut).copy()).on(B,W=ne),Ot.on=A}}function N(a,p,w){var A=(a+="")=="transform"?g.interpolateTransformCss:j;return p==null?this.styleTween(a,Yt(a,A)).on("end.style."+a,pe(a)):typeof p=="function"?this.styleTween(a,Ee(a,A,D(this,"style."+a,p))).each(b(this._id,a)):this.styleTween(a,me(a,A,p),w).on("end.style."+a,null)}function Mt(a,p,w){return function(A){this.style.setProperty(a,p.call(this,A),w)}}function Kt(a,p,w){var A,W;function pt(){var B=p.apply(this,arguments);return B!==W&&(A=(W=B)&&Mt(a,B,w)),A}return pt._value=p,pt}function Dt(a,p,w){var A="style."+(a+="");if(arguments.length<2)return(A=this.tween(A))&&A._value;if(p==null)return this.tween(A,null);if(typeof p!="function")throw new Error;return this.tween(A,Kt(a,p,w??""))}function y(a){return function(){this.textContent=a}}function X(a){return function(){var p=a(this);this.textContent=p??""}}function xt(a){return this.tween("text",typeof a=="function"?X(D(this,"text",a)):y(a==null?"":a+""))}function jt(a){return function(p){this.textContent=a.call(this,p)}}function re(a){var p,w;function A(){var W=a.apply(this,arguments);return W!==w&&(p=(w=W)&&jt(W)),p}return A._value=a,A}function oe(a){var p="text";if(arguments.length<1)return(p=this.tween(p))&&p._value;if(a==null)return this.tween(p,null);if(typeof a!="function")throw new Error;return this.tween(p,re(a))}function Me(){for(var a=this._name,p=this._id,w=Xe(),A=this._groups,W=A.length,pt=0;pt<W;++pt)for(var B=A[pt],Et=B.length,Ot,Ut=0;Ut<Et;++Ut)if(Ot=B[Ut]){var ne=kt(Ot,p);Pt(Ot,a,w,Ut,B,{time:ne.time+ne.delay+ne.duration,delay:0,duration:ne.duration,ease:ne.ease})}return new $e(A,this._parents,a,w)}function ve(){var a,p,w=this,A=w._id,W=w.size();return new Promise(function(pt,B){var Et={value:B},Ot={value:function(){--W===0&&pt()}};w.each(function(){var Ut=It(this,A),ne=Ut.on;ne!==a&&(p=(a=ne).copy(),p._.cancel.push(Et),p._.interrupt.push(Et),p._.end.push(Ot)),Ut.on=p})})}var Fe=0;function $e(a,p,w,A){this._groups=a,this._parents=p,this._name=w,this._id=A}function en(a){return e.selection().transition(a)}function Xe(){return++Fe}var $=e.selection.prototype;$e.prototype=en.prototype={constructor:$e,select:Nt,selectAll:Ft,filter:r,merge:M,selection:ie,transition:Me,call:$.call,nodes:$.nodes,node:$.node,size:$.size,empty:$.empty,each:$.each,on:J,attr:K,attrTween:wt,style:N,styleTween:Dt,text:xt,textTween:oe,remove:$t,tween:x,delay:zt,duration:S,ease:d,end:ve};var U={time:null,delay:0,duration:250,ease:F.easeCubicInOut};function s(a,p){for(var w;!(w=a.__transition)||!(w=w[p]);)if(!(a=a.parentNode))return U.time=m.now(),U;return w}function R(a){var p,w;a instanceof $e?(p=a._id,a=a._name):(p=Xe(),(w=U).time=m.now(),a=a==null?null:a+"");for(var A=this._groups,W=A.length,pt=0;pt<W;++pt)for(var B=A[pt],Et=B.length,Ot,Ut=0;Ut<Et;++Ut)(Ot=B[Ut])&&Pt(Ot,a,p,Ut,B,w||s(Ot,p));return new $e(A,this._parents,a,p)}e.selection.prototype.interrupt=V,e.selection.prototype.transition=R;var u=[null];function f(a,p){var w=a.__transition,A,W;if(w){p=p==null?null:p+"";for(W in w)if((A=w[W]).state>T&&A.name===p)return new $e([[a]],u,p,+W)}return null}t.active=f,t.interrupt=dt,t.transition=en,Object.defineProperty(t,"__esModule",{value:!0})})});var Gu=Ve((ea,Wu)=>{(function(t,e){typeof ea=="object"&&typeof Wu<"u"?e(ea,Ri(),Vr(),Ti(),Hi(),ta()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],e):(t=t||self,e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3))})(ea,function(t,e,n,m,g,Q){"use strict";function F(rt){return function(){return rt}}function z(rt,st,ct){this.target=rt,this.type=st,this.selection=ct}function I(){g.event.stopImmediatePropagation()}function E(){g.event.preventDefault(),g.event.stopImmediatePropagation()}var T={name:"drag"},Y={name:"space"},C={name:"handle"},it={name:"center"};function at(rt){return[+rt[0],+rt[1]]}function lt(rt){return[at(rt[0]),at(rt[1])]}function Pt(rt){return function(st){return g.touch(st,g.event.touches,rt)}}var vt={name:"x",handles:["w","e"].map(x),input:function(rt,st){return rt==null?null:[[+rt[0],st[0][1]],[+rt[1],st[1][1]]]},output:function(rt){return rt&&[rt[0][0],rt[1][0]]}},It={name:"y",handles:["n","s"].map(x),input:function(rt,st){return rt==null?null:[[st[0][0],+rt[0]],[st[1][0],+rt[1]]]},output:function(rt){return rt&&[rt[0][1],rt[1][1]]}},kt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(x),input:function(rt){return rt==null?null:lt(rt)},output:function(rt){return rt}},et={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},dt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},V={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},h={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},v={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function x(rt){return{type:rt}}function D(){return!g.event.ctrlKey&&!g.event.button}function j(){var rt=this.ownerSVGElement||this;return rt.hasAttribute("viewBox")?(rt=rt.viewBox.baseVal,[[rt.x,rt.y],[rt.x+rt.width,rt.y+rt.height]]):[[0,0],[rt.width.baseVal.value,rt.height.baseVal.value]]}function mt(){return navigator.maxTouchPoints||"ontouchstart"in this}function ot(rt){for(;!rt.__brush;)if(!(rt=rt.parentNode))return;return rt.__brush}function Z(rt){return rt[0][0]===rt[1][0]||rt[0][1]===rt[1][1]}function tt(rt){var st=rt.__brush;return st?st.dim.output(st.selection):null}function yt(){return nt(vt)}function St(){return nt(It)}function K(){return nt(kt)}function nt(rt){var st=j,ct=D,wt=mt,qt=!0,Xt=e.dispatch("start","brush","end"),zt=6,ee;function l(J){var Tt=J.property("__brush",ht).selectAll(".overlay").data([x("overlay")]);Tt.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",et.overlay).merge(Tt).each(function(){var Nt=ot(this).extent;g.select(this).attr("x",Nt[0][0]).attr("y",Nt[0][1]).attr("width",Nt[1][0]-Nt[0][0]).attr("height",Nt[1][1]-Nt[0][1])}),J.selectAll(".selection").data([x("selection")]).enter().append("rect").attr("class","selection").attr("cursor",et.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $t=J.selectAll(".handle").data(rt.handles,function(Nt){return Nt.type});$t.exit().remove(),$t.enter().append("rect").attr("class",function(Nt){return"handle handle--"+Nt.type}).attr("cursor",function(Nt){return et[Nt.type]}),J.each(S).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",r).filter(wt).on("touchstart.brush",r).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(J,Tt){J.selection?J.on("start.brush",function(){k(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){k(this,arguments).end()}).tween("brush",function(){var $t=this,Nt=$t.__brush,Ft=k($t,arguments),te=Nt.selection,ie=rt.input(typeof Tt=="function"?Tt.apply(this,arguments):Tt,Nt.extent),Yt=m.interpolate(te,ie);function pe(me){Nt.selection=me===1&&ie===null?null:Yt(me),S.call($t),Ft.brush()}return te!==null&&ie!==null?pe:pe(1)}):J.each(function(){var $t=this,Nt=arguments,Ft=$t.__brush,te=rt.input(typeof Tt=="function"?Tt.apply($t,Nt):Tt,Ft.extent),ie=k($t,Nt).beforestart();Q.interrupt($t),Ft.selection=te===null?null:te,S.call($t),ie.start().brush().end()})},l.clear=function(J){l.move(J,null)};function S(){var J=g.select(this),Tt=ot(this).selection;Tt?(J.selectAll(".selection").style("display",null).attr("x",Tt[0][0]).attr("y",Tt[0][1]).attr("width",Tt[1][0]-Tt[0][0]).attr("height",Tt[1][1]-Tt[0][1]),J.selectAll(".handle").style("display",null).attr("x",function($t){return $t.type[$t.type.length-1]==="e"?Tt[1][0]-zt/2:Tt[0][0]-zt/2}).attr("y",function($t){return $t.type[0]==="s"?Tt[1][1]-zt/2:Tt[0][1]-zt/2}).attr("width",function($t){return $t.type==="n"||$t.type==="s"?Tt[1][0]-Tt[0][0]+zt:zt}).attr("height",function($t){return $t.type==="e"||$t.type==="w"?Tt[1][1]-Tt[0][1]+zt:zt})):J.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function k(J,Tt,$t){var Nt=J.__brush.emitter;return Nt&&(!$t||!Nt.clean)?Nt:new d(J,Tt,$t)}function d(J,Tt,$t){this.that=J,this.args=Tt,this.state=J.__brush,this.active=0,this.clean=$t}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return--this.active===0&&(delete this.state.emitter,this.emit("end")),this},emit:function(J){g.customEvent(new z(l,J,rt.output(this.state.selection)),Xt.apply,Xt,[J,this.that,this.args])}};function r(){if(ee&&!g.event.touches||!ct.apply(this,arguments))return;var J=this,Tt=g.event.target.__data__.type,$t=(qt&&g.event.metaKey?Tt="overlay":Tt)==="selection"?T:qt&&g.event.altKey?it:C,Nt=rt===It?null:h[Tt],Ft=rt===vt?null:v[Tt],te=ot(J),ie=te.extent,Yt=te.selection,pe=ie[0][0],me,Ee,b=ie[0][1],N,Mt,Kt=ie[1][0],Dt,y,X=ie[1][1],xt,jt,re=0,oe=0,Me,ve=Nt&&Ft&&qt&&g.event.shiftKey,Fe,$e,en=g.event.touches?Pt(g.event.changedTouches[0].identifier):g.mouse,Xe=en(J),$=Xe,U=k(J,arguments,!0).beforestart();Tt==="overlay"?(Yt&&(Me=!0),te.selection=Yt=[[me=rt===It?pe:Xe[0],N=rt===vt?b:Xe[1]],[Dt=rt===It?Kt:me,xt=rt===vt?X:N]]):(me=Yt[0][0],N=Yt[0][1],Dt=Yt[1][0],xt=Yt[1][1]),Ee=me,Mt=N,y=Dt,jt=xt;var s=g.select(J).attr("pointer-events","none"),R=s.selectAll(".overlay").attr("cursor",et[Tt]);if(g.event.touches)U.moved=f,U.ended=p;else{var u=g.select(g.event.view).on("mousemove.brush",f,!0).on("mouseup.brush",p,!0);qt&&u.on("keydown.brush",w,!0).on("keyup.brush",A,!0),n.dragDisable(g.event.view)}I(),Q.interrupt(J),S.call(J),U.start();function f(){var W=en(J);ve&&!Fe&&!$e&&(Math.abs(W[0]-$[0])>Math.abs(W[1]-$[1])?$e=!0:Fe=!0),$=W,Me=!0,E(),a()}function a(){var W;switch(re=$[0]-Xe[0],oe=$[1]-Xe[1],$t){case Y:case T:{Nt&&(re=Math.max(pe-me,Math.min(Kt-Dt,re)),Ee=me+re,y=Dt+re),Ft&&(oe=Math.max(b-N,Math.min(X-xt,oe)),Mt=N+oe,jt=xt+oe);break}case C:{Nt<0?(re=Math.max(pe-me,Math.min(Kt-me,re)),Ee=me+re,y=Dt):Nt>0&&(re=Math.max(pe-Dt,Math.min(Kt-Dt,re)),Ee=me,y=Dt+re),Ft<0?(oe=Math.max(b-N,Math.min(X-N,oe)),Mt=N+oe,jt=xt):Ft>0&&(oe=Math.max(b-xt,Math.min(X-xt,oe)),Mt=N,jt=xt+oe);break}case it:{Nt&&(Ee=Math.max(pe,Math.min(Kt,me-re*Nt)),y=Math.max(pe,Math.min(Kt,Dt+re*Nt))),Ft&&(Mt=Math.max(b,Math.min(X,N-oe*Ft)),jt=Math.max(b,Math.min(X,xt+oe*Ft)));break}}y<Ee&&(Nt*=-1,W=me,me=Dt,Dt=W,W=Ee,Ee=y,y=W,Tt in dt&&R.attr("cursor",et[Tt=dt[Tt]])),jt<Mt&&(Ft*=-1,W=N,N=xt,xt=W,W=Mt,Mt=jt,jt=W,Tt in V&&R.attr("cursor",et[Tt=V[Tt]])),te.selection&&(Yt=te.selection),Fe&&(Ee=Yt[0][0],y=Yt[1][0]),$e&&(Mt=Yt[0][1],jt=Yt[1][1]),(Yt[0][0]!==Ee||Yt[0][1]!==Mt||Yt[1][0]!==y||Yt[1][1]!==jt)&&(te.selection=[[Ee,Mt],[y,jt]],S.call(J),U.brush())}function p(){if(I(),g.event.touches){if(g.event.touches.length)return;ee&&clearTimeout(ee),ee=setTimeout(function(){ee=null},500)}else n.dragEnable(g.event.view,Me),u.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);s.attr("pointer-events","all"),R.attr("cursor",et.overlay),te.selection&&(Yt=te.selection),Z(Yt)&&(te.selection=null,S.call(J)),U.end()}function w(){switch(g.event.keyCode){case 16:{ve=Nt&&Ft;break}case 18:{$t===C&&(Nt&&(Dt=y-re*Nt,me=Ee+re*Nt),Ft&&(xt=jt-oe*Ft,N=Mt+oe*Ft),$t=it,a());break}case 32:{($t===C||$t===it)&&(Nt<0?Dt=y-re:Nt>0&&(me=Ee-re),Ft<0?xt=jt-oe:Ft>0&&(N=Mt-oe),$t=Y,R.attr("cursor",et.selection),a());break}default:return}E()}function A(){switch(g.event.keyCode){case 16:{ve&&(Fe=$e=ve=!1,a());break}case 18:{$t===it&&(Nt<0?Dt=y:Nt>0&&(me=Ee),Ft<0?xt=jt:Ft>0&&(N=Mt),$t=C,a());break}case 32:{$t===Y&&(g.event.altKey?(Nt&&(Dt=y-re*Nt,me=Ee+re*Nt),Ft&&(xt=jt-oe*Ft,N=Mt+oe*Ft),$t=it):(Nt<0?Dt=y:Nt>0&&(me=Ee),Ft<0?xt=jt:Ft>0&&(N=Mt),$t=C),R.attr("cursor",et[Tt]),a());break}default:return}E()}}function M(){k(this,arguments).moved()}function H(){k(this,arguments).ended()}function ht(){var J=this.__brush||{selection:null};return J.extent=lt(st.apply(this,arguments)),J.dim=rt,J}return l.extent=function(J){return arguments.length?(st=typeof J=="function"?J:F(lt(J)),l):st},l.filter=function(J){return arguments.length?(ct=typeof J=="function"?J:F(!!J),l):ct},l.touchable=function(J){return arguments.length?(wt=typeof J=="function"?J:F(!!J),l):wt},l.handleSize=function(J){return arguments.length?(zt=+J,l):zt},l.keyModifiers=function(J){return arguments.length?(qt=!!J,l):qt},l.on=function(){var J=Xt.on.apply(Xt,arguments);return J===Xt?l:J},l}t.brush=K,t.brushSelection=tt,t.brushX=yt,t.brushY=St,Object.defineProperty(t,"__esModule",{value:!0})})});var ia=Ve((na,Vu)=>{(function(t,e){typeof na=="object"&&typeof Vu<"u"?e(na):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(na,function(t){"use strict";var e=Math.PI,n=2*e,m=1e-6,g=n-m;function Q(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function F(){return new Q}Q.prototype=F.prototype={constructor:Q,moveTo:function(z,I){this._+="M"+(this._x0=this._x1=+z)+","+(this._y0=this._y1=+I)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(z,I){this._+="L"+(this._x1=+z)+","+(this._y1=+I)},quadraticCurveTo:function(z,I,E,T){this._+="Q"+ +z+","+ +I+","+(this._x1=+E)+","+(this._y1=+T)},bezierCurveTo:function(z,I,E,T,Y,C){this._+="C"+ +z+","+ +I+","+ +E+","+ +T+","+(this._x1=+Y)+","+(this._y1=+C)},arcTo:function(z,I,E,T,Y){z=+z,I=+I,E=+E,T=+T,Y=+Y;var C=this._x1,it=this._y1,at=E-z,lt=T-I,Pt=C-z,vt=it-I,It=Pt*Pt+vt*vt;if(Y<0)throw new Error("negative radius: "+Y);if(this._x1===null)this._+="M"+(this._x1=z)+","+(this._y1=I);else if(It>m)if(!(Math.abs(vt*at-lt*Pt)>m)||!Y)this._+="L"+(this._x1=z)+","+(this._y1=I);else{var kt=E-C,et=T-it,dt=at*at+lt*lt,V=kt*kt+et*et,h=Math.sqrt(dt),v=Math.sqrt(It),x=Y*Math.tan((e-Math.acos((dt+It-V)/(2*h*v)))/2),D=x/v,j=x/h;Math.abs(D-1)>m&&(this._+="L"+(z+D*Pt)+","+(I+D*vt)),this._+="A"+Y+","+Y+",0,0,"+ +(vt*kt>Pt*et)+","+(this._x1=z+j*at)+","+(this._y1=I+j*lt)}},arc:function(z,I,E,T,Y,C){z=+z,I=+I,E=+E,C=!!C;var it=E*Math.cos(T),at=E*Math.sin(T),lt=z+it,Pt=I+at,vt=1^C,It=C?T-Y:Y-T;if(E<0)throw new Error("negative radius: "+E);this._x1===null?this._+="M"+lt+","+Pt:(Math.abs(this._x1-lt)>m||Math.abs(this._y1-Pt)>m)&&(this._+="L"+lt+","+Pt),E&&(It<0&&(It=It%n+n),It>g?this._+="A"+E+","+E+",0,1,"+vt+","+(z-it)+","+(I-at)+"A"+E+","+E+",0,1,"+vt+","+(this._x1=lt)+","+(this._y1=Pt):It>m&&(this._+="A"+E+","+E+",0,"+ +(It>=e)+","+vt+","+(this._x1=z+E*Math.cos(Y))+","+(this._y1=I+E*Math.sin(Y))))},rect:function(z,I,E,T){this._+="M"+(this._x0=this._x1=+z)+","+(this._y0=this._y1=+I)+"h"+ +E+"v"+ +T+"h"+-E+"Z"},toString:function(){return this._}},t.path=F,Object.defineProperty(t,"__esModule",{value:!0})})});var Xu=Ve((ra,ju)=>{(function(t,e){typeof ra=="object"&&typeof ju<"u"?e(ra,Bi(),ia()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-path"],e):e(t.d3=t.d3||{},t.d3,t.d3)})(ra,function(t,e,n){"use strict";var m=Math.cos,g=Math.sin,Q=Math.PI,F=Q/2,z=Q*2,I=Math.max;function E(kt){return function(et,dt){return kt(et.source.value+et.target.value,dt.source.value+dt.target.value)}}function T(){var kt=0,et=null,dt=null,V=null;function h(v){var x=v.length,D=[],j=e.range(x),mt=[],ot=[],Z=ot.groups=new Array(x),tt=new Array(x*x),yt,St,K,nt,rt,st;for(yt=0,rt=-1;++rt<x;){for(St=0,st=-1;++st<x;)St+=v[rt][st];D.push(St),mt.push(e.range(x)),yt+=St}for(et&&j.sort(function(S,k){return et(D[S],D[k])}),dt&&mt.forEach(function(S,k){S.sort(function(d,r){return dt(v[k][d],v[k][r])})}),yt=I(0,z-kt*x)/yt,nt=yt?kt:z/x,St=0,rt=-1;++rt<x;){for(K=St,st=-1;++st<x;){var ct=j[rt],wt=mt[ct][st],qt=v[ct][wt],Xt=St,zt=St+=qt*yt;tt[wt*x+ct]={index:ct,subindex:wt,startAngle:Xt,endAngle:zt,value:qt}}Z[ct]={index:ct,startAngle:K,endAngle:St,value:D[ct]},St+=nt}for(rt=-1;++rt<x;)for(st=rt-1;++st<x;){var ee=tt[st*x+rt],l=tt[rt*x+st];(ee.value||l.value)&&ot.push(ee.value<l.value?{source:l,target:ee}:{source:ee,target:l})}return V?ot.sort(V):ot}return h.padAngle=function(v){return arguments.length?(kt=I(0,v),h):kt},h.sortGroups=function(v){return arguments.length?(et=v,h):et},h.sortSubgroups=function(v){return arguments.length?(dt=v,h):dt},h.sortChords=function(v){return arguments.length?(v==null?V=null:(V=E(v))._=v,h):V&&V._},h}var Y=Array.prototype.slice;function C(kt){return function(){return kt}}function it(kt){return kt.source}function at(kt){return kt.target}function lt(kt){return kt.radius}function Pt(kt){return kt.startAngle}function vt(kt){return kt.endAngle}function It(){var kt=it,et=at,dt=lt,V=Pt,h=vt,v=null;function x(){var D,j=Y.call(arguments),mt=kt.apply(this,j),ot=et.apply(this,j),Z=+dt.apply(this,(j[0]=mt,j)),tt=V.apply(this,j)-F,yt=h.apply(this,j)-F,St=Z*m(tt),K=Z*g(tt),nt=+dt.apply(this,(j[0]=ot,j)),rt=V.apply(this,j)-F,st=h.apply(this,j)-F;if(v||(v=D=n.path()),v.moveTo(St,K),v.arc(0,0,Z,tt,yt),(tt!==rt||yt!==st)&&(v.quadraticCurveTo(0,0,nt*m(rt),nt*g(rt)),v.arc(0,0,nt,rt,st)),v.quadraticCurveTo(0,0,St,K),v.closePath(),D)return v=null,D+""||null}return x.radius=function(D){return arguments.length?(dt=typeof D=="function"?D:C(+D),x):dt},x.startAngle=function(D){return arguments.length?(V=typeof D=="function"?D:C(+D),x):V},x.endAngle=function(D){return arguments.length?(h=typeof D=="function"?D:C(+D),x):h},x.source=function(D){return arguments.length?(kt=D,x):kt},x.target=function(D){return arguments.length?(et=D,x):et},x.context=function(D){return arguments.length?(v=D??null,x):v},x}t.chord=T,t.ribbon=It,Object.defineProperty(t,"__esModule",{value:!0})})});var oa=Ve((aa,Zu)=>{(function(t,e){typeof aa=="object"&&typeof Zu<"u"?e(aa):typeof define=="function"&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(aa,function(t){"use strict";var e="$";function n(){}n.prototype=m.prototype={constructor:n,has:function(lt){return e+lt in this},get:function(lt){return this[e+lt]},set:function(lt,Pt){return this[e+lt]=Pt,this},remove:function(lt){var Pt=e+lt;return Pt in this&&delete this[Pt]},clear:function(){for(var lt in this)lt[0]===e&&delete this[lt]},keys:function(){var lt=[];for(var Pt in this)Pt[0]===e&&lt.push(Pt.slice(1));return lt},values:function(){var lt=[];for(var Pt in this)Pt[0]===e&&lt.push(this[Pt]);return lt},entries:function(){var lt=[];for(var Pt in this)Pt[0]===e&&lt.push({key:Pt.slice(1),value:this[Pt]});return lt},size:function(){var lt=0;for(var Pt in this)Pt[0]===e&&++lt;return lt},empty:function(){for(var lt in this)if(lt[0]===e)return!1;return!0},each:function(lt){for(var Pt in this)Pt[0]===e&&lt(this[Pt],Pt.slice(1),this)}};function m(lt,Pt){var vt=new n;if(lt instanceof n)lt.each(function(V,h){vt.set(h,V)});else if(Array.isArray(lt)){var It=-1,kt=lt.length,et;if(Pt==null)for(;++It<kt;)vt.set(It,lt[It]);else for(;++It<kt;)vt.set(Pt(et=lt[It],It,lt),et)}else if(lt)for(var dt in lt)vt.set(dt,lt[dt]);return vt}function g(){var lt=[],Pt=[],vt,It,kt;function et(V,h,v,x){if(h>=lt.length)return vt!=null&&V.sort(vt),It!=null?It(V):V;for(var D=-1,j=V.length,mt=lt[h++],ot,Z,tt=m(),yt,St=v();++D<j;)(yt=tt.get(ot=mt(Z=V[D])+""))?yt.push(Z):tt.set(ot,[Z]);return tt.each(function(K,nt){x(St,nt,et(K,h,v,x))}),St}function dt(V,h){if(++h>lt.length)return V;var v,x=Pt[h-1];return It!=null&&h>=lt.length?v=V.entries():(v=[],V.each(function(D,j){v.push({key:j,values:dt(D,h)})})),x!=null?v.sort(function(D,j){return x(D.key,j.key)}):v}return kt={object:function(V){return et(V,0,Q,F)},map:function(V){return et(V,0,z,I)},entries:function(V){return dt(et(V,0,z,I),0)},key:function(V){return lt.push(V),kt},sortKeys:function(V){return Pt[lt.length-1]=V,kt},sortValues:function(V){return vt=V,kt},rollup:function(V){return It=V,kt}}}function Q(){return{}}function F(lt,Pt,vt){lt[Pt]=vt}function z(){return m()}function I(lt,Pt,vt){lt.set(Pt,vt)}function E(){}var T=m.prototype;E.prototype=Y.prototype={constructor:E,has:T.has,add:function(lt){return lt+="",this[e+lt]=lt,this},remove:T.remove,clear:T.clear,values:T.keys,size:T.size,empty:T.empty,each:T.each};function Y(lt,Pt){var vt=new E;if(lt instanceof E)lt.each(function(et){vt.add(et)});else if(lt){var It=-1,kt=lt.length;if(Pt==null)for(;++It<kt;)vt.add(lt[It]);else for(;++It<kt;)vt.add(Pt(lt[It],It,lt))}return vt}function C(lt){var Pt=[];for(var vt in lt)Pt.push(vt);return Pt}function it(lt){var Pt=[];for(var vt in lt)Pt.push(lt[vt]);return Pt}function at(lt){var Pt=[];for(var vt in lt)Pt.push({key:vt,value:lt[vt]});return Pt}t.nest=g,t.set=Y,t.map=m,t.keys=C,t.values=it,t.entries=at,Object.defineProperty(t,"__esModule",{value:!0})})});var Qu=Ve((ua,Ku)=>{(function(t,e){typeof ua=="object"&&typeof Ku<"u"?e(ua,Bi()):typeof define=="function"&&define.amd?define(["exports","d3-array"],e):e(t.d3=t.d3||{},t.d3)})(ua,function(t,e){"use strict";var n=Array.prototype,m=n.slice;function g(dt,V){return dt-V}function Q(dt){for(var V=0,h=dt.length,v=dt[h-1][1]*dt[0][0]-dt[h-1][0]*dt[0][1];++V<h;)v+=dt[V-1][1]*dt[V][0]-dt[V-1][0]*dt[V][1];return v}function F(dt){return function(){return dt}}function z(dt,V){for(var h=-1,v=V.length,x;++h<v;)if(x=I(dt,V[h]))return x;return 0}function I(dt,V){for(var h=V[0],v=V[1],x=-1,D=0,j=dt.length,mt=j-1;D<j;mt=D++){var ot=dt[D],Z=ot[0],tt=ot[1],yt=dt[mt],St=yt[0],K=yt[1];if(E(ot,yt,V))return 0;tt>v!=K>v&&h<(St-Z)*(v-tt)/(K-tt)+Z&&(x=-x)}return x}function E(dt,V,h){var v;return T(dt,V,h)&&Y(dt[v=+(dt[0]===V[0])],h[v],V[v])}function T(dt,V,h){return(V[0]-dt[0])*(h[1]-dt[1])===(h[0]-dt[0])*(V[1]-dt[1])}function Y(dt,V,h){return dt<=V&&V<=h||h<=V&&V<=dt}function C(){}var it=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function at(){var dt=1,V=1,h=e.thresholdSturges,v=ot;function x(Z){var tt=h(Z);if(Array.isArray(tt))tt=tt.slice().sort(g);else{var yt=e.extent(Z),St=yt[0],K=yt[1];tt=e.tickStep(St,K,tt),tt=e.range(Math.floor(St/tt)*tt,Math.floor(K/tt)*tt,tt)}return tt.map(function(nt){return D(Z,nt)})}function D(Z,tt){var yt=[],St=[];return j(Z,tt,function(K){v(K,Z,tt),Q(K)>0?yt.push([K]):St.push(K)}),St.forEach(function(K){for(var nt=0,rt=yt.length,st;nt<rt;++nt)if(z((st=yt[nt])[0],K)!==-1){st.push(K);return}}),{type:"MultiPolygon",value:tt,coordinates:yt}}function j(Z,tt,yt){var St=new Array,K=new Array,nt,rt,st,ct,wt,qt;for(nt=rt=-1,ct=Z[0]>=tt,it[ct<<1].forEach(Xt);++nt<dt-1;)st=ct,ct=Z[nt+1]>=tt,it[st|ct<<1].forEach(Xt);for(it[ct<<0].forEach(Xt);++rt<V-1;){for(nt=-1,ct=Z[rt*dt+dt]>=tt,wt=Z[rt*dt]>=tt,it[ct<<1|wt<<2].forEach(Xt);++nt<dt-1;)st=ct,ct=Z[rt*dt+dt+nt+1]>=tt,qt=wt,wt=Z[rt*dt+nt+1]>=tt,it[st|ct<<1|wt<<2|qt<<3].forEach(Xt);it[ct|wt<<3].forEach(Xt)}for(nt=-1,wt=Z[rt*dt]>=tt,it[wt<<2].forEach(Xt);++nt<dt-1;)qt=wt,wt=Z[rt*dt+nt+1]>=tt,it[wt<<2|qt<<3].forEach(Xt);it[wt<<3].forEach(Xt);function Xt(zt){var ee=[zt[0][0]+nt,zt[0][1]+rt],l=[zt[1][0]+nt,zt[1][1]+rt],S=mt(ee),k=mt(l),d,r;(d=K[S])?(r=St[k])?(delete K[d.end],delete St[r.start],d===r?(d.ring.push(l),yt(d.ring)):St[d.start]=K[r.end]={start:d.start,end:r.end,ring:d.ring.concat(r.ring)}):(delete K[d.end],d.ring.push(l),K[d.end=k]=d):(d=St[k])?(r=K[S])?(delete St[d.start],delete K[r.end],d===r?(d.ring.push(l),yt(d.ring)):St[r.start]=K[d.end]={start:r.start,end:d.end,ring:r.ring.concat(d.ring)}):(delete St[d.start],d.ring.unshift(ee),St[d.start=S]=d):St[S]=K[k]={start:S,end:k,ring:[ee,l]}}}function mt(Z){return Z[0]*2+Z[1]*(dt+1)*4}function ot(Z,tt,yt){Z.forEach(function(St){var K=St[0],nt=St[1],rt=K|0,st=nt|0,ct,wt=tt[st*dt+rt];K>0&&K<dt&&rt===K&&(ct=tt[st*dt+rt-1],St[0]=K+(yt-ct)/(wt-ct)-.5),nt>0&&nt<V&&st===nt&&(ct=tt[(st-1)*dt+rt],St[1]=nt+(yt-ct)/(wt-ct)-.5)})}return x.contour=D,x.size=function(Z){if(!arguments.length)return[dt,V];var tt=Math.ceil(Z[0]),yt=Math.ceil(Z[1]);if(!(tt>0)||!(yt>0))throw new Error("invalid size");return dt=tt,V=yt,x},x.thresholds=function(Z){return arguments.length?(h=typeof Z=="function"?Z:Array.isArray(Z)?F(m.call(Z)):F(Z),x):h},x.smooth=function(Z){return arguments.length?(v=Z?ot:C,x):v===ot},x}function lt(dt,V,h){for(var v=dt.width,x=dt.height,D=(h<<1)+1,j=0;j<x;++j)for(var mt=0,ot=0;mt<v+h;++mt)mt<v&&(ot+=dt.data[mt+j*v]),mt>=h&&(mt>=D&&(ot-=dt.data[mt-D+j*v]),V.data[mt-h+j*v]=ot/Math.min(mt+1,v-1+D-mt,D))}function Pt(dt,V,h){for(var v=dt.width,x=dt.height,D=(h<<1)+1,j=0;j<v;++j)for(var mt=0,ot=0;mt<x+h;++mt)mt<x&&(ot+=dt.data[j+mt*v]),mt>=h&&(mt>=D&&(ot-=dt.data[j+(mt-D)*v]),V.data[j+(mt-h)*v]=ot/Math.min(mt+1,x-1+D-mt,D))}function vt(dt){return dt[0]}function It(dt){return dt[1]}function kt(){return 1}function et(){var dt=vt,V=It,h=kt,v=960,x=500,D=20,j=2,mt=D*3,ot=v+mt*2>>j,Z=x+mt*2>>j,tt=F(20);function yt(ct){var wt=new Float32Array(ot*Z),qt=new Float32Array(ot*Z);ct.forEach(function(ee,l,S){var k=+dt(ee,l,S)+mt>>j,d=+V(ee,l,S)+mt>>j,r=+h(ee,l,S);k>=0&&k<ot&&d>=0&&d<Z&&(wt[k+d*ot]+=r)}),lt({width:ot,height:Z,data:wt},{width:ot,height:Z,data:qt},D>>j),Pt({width:ot,height:Z,data:qt},{width:ot,height:Z,data:wt},D>>j),lt({width:ot,height:Z,data:wt},{width:ot,height:Z,data:qt},D>>j),Pt({width:ot,height:Z,data:qt},{width:ot,height:Z,data:wt},D>>j),lt({width:ot,height:Z,data:wt},{width:ot,height:Z,data:qt},D>>j),Pt({width:ot,height:Z,data:qt},{width:ot,height:Z,data:wt},D>>j);var Xt=tt(wt);if(!Array.isArray(Xt)){var zt=e.max(wt);Xt=e.tickStep(0,zt,Xt),Xt=e.range(0,Math.floor(zt/Xt)*Xt,Xt),Xt.shift()}return at().thresholds(Xt).size([ot,Z])(wt).map(St)}function St(ct){return ct.value*=Math.pow(2,-2*j),ct.coordinates.forEach(K),ct}function K(ct){ct.forEach(nt)}function nt(ct){ct.forEach(rt)}function rt(ct){ct[0]=ct[0]*Math.pow(2,j)-mt,ct[1]=ct[1]*Math.pow(2,j)-mt}function st(){return mt=D*3,ot=v+mt*2>>j,Z=x+mt*2>>j,yt}return yt.x=function(ct){return arguments.length?(dt=typeof ct=="function"?ct:F(+ct),yt):dt},yt.y=function(ct){return arguments.length?(V=typeof ct=="function"?ct:F(+ct),yt):V},yt.weight=function(ct){return arguments.length?(h=typeof ct=="function"?ct:F(+ct),yt):h},yt.size=function(ct){if(!arguments.length)return[v,x];var wt=Math.ceil(ct[0]),qt=Math.ceil(ct[1]);if(!(wt>=0)&&!(wt>=0))throw new Error("invalid size");return v=wt,x=qt,st()},yt.cellSize=function(ct){if(!arguments.length)return 1<<j;if(!((ct=+ct)>=1))throw new Error("invalid cell size");return j=Math.floor(Math.log(ct)/Math.LN2),st()},yt.thresholds=function(ct){return arguments.length?(tt=typeof ct=="function"?ct:Array.isArray(ct)?F(m.call(ct)):F(ct),yt):tt},yt.bandwidth=function(ct){if(!arguments.length)return Math.sqrt(D*(D+1));if(!((ct=+ct)>=0))throw new Error("invalid bandwidth");return D=Math.round((Math.sqrt(4*ct*ct+1)-1)/2),st()},yt}t.contours=at,t.contourDensity=et,Object.defineProperty(t,"__esModule",{value:!0})})});var So=Ve((sa,Ju)=>{(function(t,e){typeof sa=="object"&&typeof Ju<"u"?e(sa):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(sa,function(t){"use strict";var e={},n={},m=34,g=10,Q=13;function F(tt){return new Function("d","return {"+tt.map(function(yt,St){return JSON.stringify(yt)+": d["+St+'] || ""'}).join(",")+"}")}function z(tt,yt){var St=F(tt);return function(K,nt){return yt(St(K),nt,tt)}}function I(tt){var yt=Object.create(null),St=[];return tt.forEach(function(K){for(var nt in K)nt in yt||St.push(yt[nt]=nt)}),St}function E(tt,yt){var St=tt+"",K=St.length;return K<yt?new Array(yt-K+1).join(0)+St:St}function T(tt){return tt<0?"-"+E(-tt,6):tt>9999?"+"+E(tt,6):E(tt,4)}function Y(tt){var yt=tt.getUTCHours(),St=tt.getUTCMinutes(),K=tt.getUTCSeconds(),nt=tt.getUTCMilliseconds();return isNaN(tt)?"Invalid Date":T(tt.getUTCFullYear())+"-"+E(tt.getUTCMonth()+1,2)+"-"+E(tt.getUTCDate(),2)+(nt?"T"+E(yt,2)+":"+E(St,2)+":"+E(K,2)+"."+E(nt,3)+"Z":K?"T"+E(yt,2)+":"+E(St,2)+":"+E(K,2)+"Z":St||yt?"T"+E(yt,2)+":"+E(St,2)+"Z":"")}function C(tt){var yt=new RegExp('["'+tt+`
\r]`),St=tt.charCodeAt(0);function K(zt,ee){var l,S,k=nt(zt,function(d,r){if(l)return l(d,r-1);S=d,l=ee?z(d,ee):F(d)});return k.columns=S||[],k}function nt(zt,ee){var l=[],S=zt.length,k=0,d=0,r,M=S<=0,H=!1;zt.charCodeAt(S-1)===g&&--S,zt.charCodeAt(S-1)===Q&&--S;function ht(){if(M)return n;if(H)return H=!1,e;var Tt,$t=k,Nt;if(zt.charCodeAt($t)===m){for(;k++<S&&zt.charCodeAt(k)!==m||zt.charCodeAt(++k)===m;);return(Tt=k)>=S?M=!0:(Nt=zt.charCodeAt(k++))===g?H=!0:Nt===Q&&(H=!0,zt.charCodeAt(k)===g&&++k),zt.slice($t+1,Tt-1).replace(/""/g,'"')}for(;k<S;){if((Nt=zt.charCodeAt(Tt=k++))===g)H=!0;else if(Nt===Q)H=!0,zt.charCodeAt(k)===g&&++k;else if(Nt!==St)continue;return zt.slice($t,Tt)}return M=!0,zt.slice($t,S)}for(;(r=ht())!==n;){for(var J=[];r!==e&&r!==n;)J.push(r),r=ht();ee&&(J=ee(J,d++))==null||l.push(J)}return l}function rt(zt,ee){return zt.map(function(l){return ee.map(function(S){return Xt(l[S])}).join(tt)})}function st(zt,ee){return ee==null&&(ee=I(zt)),[ee.map(Xt).join(tt)].concat(rt(zt,ee)).join(`
`)}function ct(zt,ee){return ee==null&&(ee=I(zt)),rt(zt,ee).join(`
`)}function wt(zt){return zt.map(qt).join(`
`)}function qt(zt){return zt.map(Xt).join(tt)}function Xt(zt){return zt==null?"":zt instanceof Date?Y(zt):yt.test(zt+="")?'"'+zt.replace(/"/g,'""')+'"':zt}return{parse:K,parseRows:nt,format:st,formatBody:ct,formatRows:wt,formatRow:qt,formatValue:Xt}}var it=C(","),at=it.parse,lt=it.parseRows,Pt=it.format,vt=it.formatBody,It=it.formatRows,kt=it.formatRow,et=it.formatValue,dt=C("	"),V=dt.parse,h=dt.parseRows,v=dt.format,x=dt.formatBody,D=dt.formatRows,j=dt.formatRow,mt=dt.formatValue;function ot(tt){for(var yt in tt){var St=tt[yt].trim(),K,nt;if(!St)St=null;else if(St==="true")St=!0;else if(St==="false")St=!1;else if(St==="NaN")St=NaN;else if(!isNaN(K=+St))St=K;else if(nt=St.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Z&&!!nt[4]&&!nt[7]&&(St=St.replace(/-/g,"/").replace(/T/," ")),St=new Date(St);else continue;tt[yt]=St}return tt}var Z=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();t.autoType=ot,t.csvFormat=Pt,t.csvFormatBody=vt,t.csvFormatRow=kt,t.csvFormatRows=It,t.csvFormatValue=et,t.csvParse=at,t.csvParseRows=lt,t.dsvFormat=C,t.tsvFormat=v,t.tsvFormatBody=x,t.tsvFormatRow=j,t.tsvFormatRows=D,t.tsvFormatValue=mt,t.tsvParse=V,t.tsvParseRows=h,Object.defineProperty(t,"__esModule",{value:!0})})});var es=Ve((fa,ts)=>{(function(t,e){typeof fa=="object"&&typeof ts<"u"?e(fa,So()):typeof define=="function"&&define.amd?define(["exports","d3-dsv"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(fa,function(t,e){"use strict";function n(kt){if(!kt.ok)throw new Error(kt.status+" "+kt.statusText);return kt.blob()}function m(kt,et){return fetch(kt,et).then(n)}function g(kt){if(!kt.ok)throw new Error(kt.status+" "+kt.statusText);return kt.arrayBuffer()}function Q(kt,et){return fetch(kt,et).then(g)}function F(kt){if(!kt.ok)throw new Error(kt.status+" "+kt.statusText);return kt.text()}function z(kt,et){return fetch(kt,et).then(F)}function I(kt){return function(et,dt,V){return arguments.length===2&&typeof dt=="function"&&(V=dt,dt=void 0),z(et,dt).then(function(h){return kt(h,V)})}}function E(kt,et,dt,V){arguments.length===3&&typeof dt=="function"&&(V=dt,dt=void 0);var h=e.dsvFormat(kt);return z(et,dt).then(function(v){return h.parse(v,V)})}var T=I(e.csvParse),Y=I(e.tsvParse);function C(kt,et){return new Promise(function(dt,V){var h=new Image;for(var v in et)h[v]=et[v];h.onerror=V,h.onload=function(){dt(h)},h.src=kt})}function it(kt){if(!kt.ok)throw new Error(kt.status+" "+kt.statusText);if(!(kt.status===204||kt.status===205))return kt.json()}function at(kt,et){return fetch(kt,et).then(it)}function lt(kt){return function(et,dt){return z(et,dt).then(function(V){return new DOMParser().parseFromString(V,kt)})}}var Pt=lt("application/xml"),vt=lt("text/html"),It=lt("image/svg+xml");t.blob=m,t.buffer=Q,t.csv=T,t.dsv=E,t.html=vt,t.image=C,t.json=at,t.svg=It,t.text=z,t.tsv=Y,t.xml=Pt,Object.defineProperty(t,"__esModule",{value:!0})})});var ko=Ve((ca,ns)=>{(function(t,e){typeof ca=="object"&&typeof ns<"u"?e(ca):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(ca,function(t){"use strict";function e(h){var v=+this._x.call(null,h),x=+this._y.call(null,h);return n(this.cover(v,x),v,x,h)}function n(h,v,x,D){if(isNaN(v)||isNaN(x))return h;var j,mt=h._root,ot={data:D},Z=h._x0,tt=h._y0,yt=h._x1,St=h._y1,K,nt,rt,st,ct,wt,qt,Xt;if(!mt)return h._root=ot,h;for(;mt.length;)if((ct=v>=(K=(Z+yt)/2))?Z=K:yt=K,(wt=x>=(nt=(tt+St)/2))?tt=nt:St=nt,j=mt,!(mt=mt[qt=wt<<1|ct]))return j[qt]=ot,h;if(rt=+h._x.call(null,mt.data),st=+h._y.call(null,mt.data),v===rt&&x===st)return ot.next=mt,j?j[qt]=ot:h._root=ot,h;do j=j?j[qt]=new Array(4):h._root=new Array(4),(ct=v>=(K=(Z+yt)/2))?Z=K:yt=K,(wt=x>=(nt=(tt+St)/2))?tt=nt:St=nt;while((qt=wt<<1|ct)===(Xt=(st>=nt)<<1|rt>=K));return j[Xt]=mt,j[qt]=ot,h}function m(h){var v,x,D=h.length,j,mt,ot=new Array(D),Z=new Array(D),tt=1/0,yt=1/0,St=-1/0,K=-1/0;for(x=0;x<D;++x)isNaN(j=+this._x.call(null,v=h[x]))||isNaN(mt=+this._y.call(null,v))||(ot[x]=j,Z[x]=mt,j<tt&&(tt=j),j>St&&(St=j),mt<yt&&(yt=mt),mt>K&&(K=mt));if(tt>St||yt>K)return this;for(this.cover(tt,yt).cover(St,K),x=0;x<D;++x)n(this,ot[x],Z[x],h[x]);return this}function g(h,v){if(isNaN(h=+h)||isNaN(v=+v))return this;var x=this._x0,D=this._y0,j=this._x1,mt=this._y1;if(isNaN(x))j=(x=Math.floor(h))+1,mt=(D=Math.floor(v))+1;else{for(var ot=j-x,Z=this._root,tt,yt;x>h||h>=j||D>v||v>=mt;)switch(yt=(v<D)<<1|h<x,tt=new Array(4),tt[yt]=Z,Z=tt,ot*=2,yt){case 0:j=x+ot,mt=D+ot;break;case 1:x=j-ot,mt=D+ot;break;case 2:j=x+ot,D=mt-ot;break;case 3:x=j-ot,D=mt-ot;break}this._root&&this._root.length&&(this._root=Z)}return this._x0=x,this._y0=D,this._x1=j,this._y1=mt,this}function Q(){var h=[];return this.visit(function(v){if(!v.length)do h.push(v.data);while(v=v.next)}),h}function F(h){return arguments.length?this.cover(+h[0][0],+h[0][1]).cover(+h[1][0],+h[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function z(h,v,x,D,j){this.node=h,this.x0=v,this.y0=x,this.x1=D,this.y1=j}function I(h,v,x){var D,j=this._x0,mt=this._y0,ot,Z,tt,yt,St=this._x1,K=this._y1,nt=[],rt=this._root,st,ct;for(rt&&nt.push(new z(rt,j,mt,St,K)),x==null?x=1/0:(j=h-x,mt=v-x,St=h+x,K=v+x,x*=x);st=nt.pop();)if(!(!(rt=st.node)||(ot=st.x0)>St||(Z=st.y0)>K||(tt=st.x1)<j||(yt=st.y1)<mt))if(rt.length){var wt=(ot+tt)/2,qt=(Z+yt)/2;nt.push(new z(rt[3],wt,qt,tt,yt),new z(rt[2],ot,qt,wt,yt),new z(rt[1],wt,Z,tt,qt),new z(rt[0],ot,Z,wt,qt)),(ct=(v>=qt)<<1|h>=wt)&&(st=nt[nt.length-1],nt[nt.length-1]=nt[nt.length-1-ct],nt[nt.length-1-ct]=st)}else{var Xt=h-+this._x.call(null,rt.data),zt=v-+this._y.call(null,rt.data),ee=Xt*Xt+zt*zt;if(ee<x){var l=Math.sqrt(x=ee);j=h-l,mt=v-l,St=h+l,K=v+l,D=rt.data}}return D}function E(h){if(isNaN(St=+this._x.call(null,h))||isNaN(K=+this._y.call(null,h)))return this;var v,x=this._root,D,j,mt,ot=this._x0,Z=this._y0,tt=this._x1,yt=this._y1,St,K,nt,rt,st,ct,wt,qt;if(!x)return this;if(x.length)for(;;){if((st=St>=(nt=(ot+tt)/2))?ot=nt:tt=nt,(ct=K>=(rt=(Z+yt)/2))?Z=rt:yt=rt,v=x,!(x=x[wt=ct<<1|st]))return this;if(!x.length)break;(v[wt+1&3]||v[wt+2&3]||v[wt+3&3])&&(D=v,qt=wt)}for(;x.data!==h;)if(j=x,!(x=x.next))return this;return(mt=x.next)&&delete x.next,j?(mt?j.next=mt:delete j.next,this):v?(mt?v[wt]=mt:delete v[wt],(x=v[0]||v[1]||v[2]||v[3])&&x===(v[3]||v[2]||v[1]||v[0])&&!x.length&&(D?D[qt]=x:this._root=x),this):(this._root=mt,this)}function T(h){for(var v=0,x=h.length;v<x;++v)this.remove(h[v]);return this}function Y(){return this._root}function C(){var h=0;return this.visit(function(v){if(!v.length)do++h;while(v=v.next)}),h}function it(h){var v=[],x,D=this._root,j,mt,ot,Z,tt;for(D&&v.push(new z(D,this._x0,this._y0,this._x1,this._y1));x=v.pop();)if(!h(D=x.node,mt=x.x0,ot=x.y0,Z=x.x1,tt=x.y1)&&D.length){var yt=(mt+Z)/2,St=(ot+tt)/2;(j=D[3])&&v.push(new z(j,yt,St,Z,tt)),(j=D[2])&&v.push(new z(j,mt,St,yt,tt)),(j=D[1])&&v.push(new z(j,yt,ot,Z,St)),(j=D[0])&&v.push(new z(j,mt,ot,yt,St))}return this}function at(h){var v=[],x=[],D;for(this._root&&v.push(new z(this._root,this._x0,this._y0,this._x1,this._y1));D=v.pop();){var j=D.node;if(j.length){var mt,ot=D.x0,Z=D.y0,tt=D.x1,yt=D.y1,St=(ot+tt)/2,K=(Z+yt)/2;(mt=j[0])&&v.push(new z(mt,ot,Z,St,K)),(mt=j[1])&&v.push(new z(mt,St,Z,tt,K)),(mt=j[2])&&v.push(new z(mt,ot,K,St,yt)),(mt=j[3])&&v.push(new z(mt,St,K,tt,yt))}x.push(D)}for(;D=x.pop();)h(D.node,D.x0,D.y0,D.x1,D.y1);return this}function lt(h){return h[0]}function Pt(h){return arguments.length?(this._x=h,this):this._x}function vt(h){return h[1]}function It(h){return arguments.length?(this._y=h,this):this._y}function kt(h,v,x){var D=new et(v??lt,x??vt,NaN,NaN,NaN,NaN);return h==null?D:D.addAll(h)}function et(h,v,x,D,j,mt){this._x=h,this._y=v,this._x0=x,this._y0=D,this._x1=j,this._y1=mt,this._root=void 0}function dt(h){for(var v={data:h.data},x=v;h=h.next;)x=x.next={data:h.data};return v}var V=kt.prototype=et.prototype;V.copy=function(){var h=new et(this._x,this._y,this._x0,this._y0,this._x1,this._y1),v=this._root,x,D;if(!v)return h;if(!v.length)return h._root=dt(v),h;for(x=[{source:v,target:h._root=new Array(4)}];v=x.pop();)for(var j=0;j<4;++j)(D=v.source[j])&&(D.length?x.push({source:D,target:v.target[j]=new Array(4)}):v.target[j]=dt(D));return h},V.add=e,V.addAll=m,V.cover=g,V.data=Q,V.extent=F,V.find=I,V.remove=E,V.removeAll=T,V.root=Y,V.size=C,V.visit=it,V.visitAfter=at,V.x=Pt,V.y=It,t.quadtree=kt,Object.defineProperty(t,"__esModule",{value:!0})})});var rs=Ve((la,is)=>{(function(t,e){typeof la=="object"&&typeof is<"u"?e(la,ko(),oa(),Ri(),Kr()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3)})(la,function(t,e,n,m,g){"use strict";function Q(h,v){var x;h==null&&(h=0),v==null&&(v=0);function D(){var j,mt=x.length,ot,Z=0,tt=0;for(j=0;j<mt;++j)ot=x[j],Z+=ot.x,tt+=ot.y;for(Z=Z/mt-h,tt=tt/mt-v,j=0;j<mt;++j)ot=x[j],ot.x-=Z,ot.y-=tt}return D.initialize=function(j){x=j},D.x=function(j){return arguments.length?(h=+j,D):h},D.y=function(j){return arguments.length?(v=+j,D):v},D}function F(h){return function(){return h}}function z(){return(Math.random()-.5)*1e-6}function I(h){return h.x+h.vx}function E(h){return h.y+h.vy}function T(h){var v,x,D=1,j=1;typeof h!="function"&&(h=F(h==null?1:+h));function mt(){for(var tt,yt=v.length,St,K,nt,rt,st,ct,wt=0;wt<j;++wt)for(St=e.quadtree(v,I,E).visitAfter(ot),tt=0;tt<yt;++tt)K=v[tt],st=x[K.index],ct=st*st,nt=K.x+K.vx,rt=K.y+K.vy,St.visit(qt);function qt(Xt,zt,ee,l,S){var k=Xt.data,d=Xt.r,r=st+d;if(k){if(k.index>K.index){var M=nt-k.x-k.vx,H=rt-k.y-k.vy,ht=M*M+H*H;ht<r*r&&(M===0&&(M=z(),ht+=M*M),H===0&&(H=z(),ht+=H*H),ht=(r-(ht=Math.sqrt(ht)))/ht*D,K.vx+=(M*=ht)*(r=(d*=d)/(ct+d)),K.vy+=(H*=ht)*r,k.vx-=M*(r=1-r),k.vy-=H*r)}return}return zt>nt+r||l<nt-r||ee>rt+r||S<rt-r}}function ot(tt){if(tt.data)return tt.r=x[tt.data.index];for(var yt=tt.r=0;yt<4;++yt)tt[yt]&&tt[yt].r>tt.r&&(tt.r=tt[yt].r)}function Z(){if(!!v){var tt,yt=v.length,St;for(x=new Array(yt),tt=0;tt<yt;++tt)St=v[tt],x[St.index]=+h(St,tt,v)}}return mt.initialize=function(tt){v=tt,Z()},mt.iterations=function(tt){return arguments.length?(j=+tt,mt):j},mt.strength=function(tt){return arguments.length?(D=+tt,mt):D},mt.radius=function(tt){return arguments.length?(h=typeof tt=="function"?tt:F(+tt),Z(),mt):h},mt}function Y(h){return h.index}function C(h,v){var x=h.get(v);if(!x)throw new Error("missing: "+v);return x}function it(h){var v=Y,x=St,D,j=F(30),mt,ot,Z,tt,yt=1;h==null&&(h=[]);function St(ct){return 1/Math.min(Z[ct.source.index],Z[ct.target.index])}function K(ct){for(var wt=0,qt=h.length;wt<yt;++wt)for(var Xt=0,zt,ee,l,S,k,d,r;Xt<qt;++Xt)zt=h[Xt],ee=zt.source,l=zt.target,S=l.x+l.vx-ee.x-ee.vx||z(),k=l.y+l.vy-ee.y-ee.vy||z(),d=Math.sqrt(S*S+k*k),d=(d-mt[Xt])/d*ct*D[Xt],S*=d,k*=d,l.vx-=S*(r=tt[Xt]),l.vy-=k*r,ee.vx+=S*(r=1-r),ee.vy+=k*r}function nt(){if(!!ot){var ct,wt=ot.length,qt=h.length,Xt=n.map(ot,v),zt;for(ct=0,Z=new Array(wt);ct<qt;++ct)zt=h[ct],zt.index=ct,typeof zt.source!="object"&&(zt.source=C(Xt,zt.source)),typeof zt.target!="object"&&(zt.target=C(Xt,zt.target)),Z[zt.source.index]=(Z[zt.source.index]||0)+1,Z[zt.target.index]=(Z[zt.target.index]||0)+1;for(ct=0,tt=new Array(qt);ct<qt;++ct)zt=h[ct],tt[ct]=Z[zt.source.index]/(Z[zt.source.index]+Z[zt.target.index]);D=new Array(qt),rt(),mt=new Array(qt),st()}}function rt(){if(!!ot)for(var ct=0,wt=h.length;ct<wt;++ct)D[ct]=+x(h[ct],ct,h)}function st(){if(!!ot)for(var ct=0,wt=h.length;ct<wt;++ct)mt[ct]=+j(h[ct],ct,h)}return K.initialize=function(ct){ot=ct,nt()},K.links=function(ct){return arguments.length?(h=ct,nt(),K):h},K.id=function(ct){return arguments.length?(v=ct,K):v},K.iterations=function(ct){return arguments.length?(yt=+ct,K):yt},K.strength=function(ct){return arguments.length?(x=typeof ct=="function"?ct:F(+ct),rt(),K):x},K.distance=function(ct){return arguments.length?(j=typeof ct=="function"?ct:F(+ct),st(),K):j},K}function at(h){return h.x}function lt(h){return h.y}var Pt=10,vt=Math.PI*(3-Math.sqrt(5));function It(h){var v,x=1,D=.001,j=1-Math.pow(D,1/300),mt=0,ot=.6,Z=n.map(),tt=g.timer(St),yt=m.dispatch("tick","end");h==null&&(h=[]);function St(){K(),yt.call("tick",v),x<D&&(tt.stop(),yt.call("end",v))}function K(st){var ct,wt=h.length,qt;st===void 0&&(st=1);for(var Xt=0;Xt<st;++Xt)for(x+=(mt-x)*j,Z.each(function(zt){zt(x)}),ct=0;ct<wt;++ct)qt=h[ct],qt.fx==null?qt.x+=qt.vx*=ot:(qt.x=qt.fx,qt.vx=0),qt.fy==null?qt.y+=qt.vy*=ot:(qt.y=qt.fy,qt.vy=0);return v}function nt(){for(var st=0,ct=h.length,wt;st<ct;++st){if(wt=h[st],wt.index=st,wt.fx!=null&&(wt.x=wt.fx),wt.fy!=null&&(wt.y=wt.fy),isNaN(wt.x)||isNaN(wt.y)){var qt=Pt*Math.sqrt(st),Xt=st*vt;wt.x=qt*Math.cos(Xt),wt.y=qt*Math.sin(Xt)}(isNaN(wt.vx)||isNaN(wt.vy))&&(wt.vx=wt.vy=0)}}function rt(st){return st.initialize&&st.initialize(h),st}return nt(),v={tick:K,restart:function(){return tt.restart(St),v},stop:function(){return tt.stop(),v},nodes:function(st){return arguments.length?(h=st,nt(),Z.each(rt),v):h},alpha:function(st){return arguments.length?(x=+st,v):x},alphaMin:function(st){return arguments.length?(D=+st,v):D},alphaDecay:function(st){return arguments.length?(j=+st,v):+j},alphaTarget:function(st){return arguments.length?(mt=+st,v):mt},velocityDecay:function(st){return arguments.length?(ot=1-st,v):1-ot},force:function(st,ct){return arguments.length>1?(ct==null?Z.remove(st):Z.set(st,rt(ct)),v):Z.get(st)},find:function(st,ct,wt){var qt=0,Xt=h.length,zt,ee,l,S,k;for(wt==null?wt=1/0:wt*=wt,qt=0;qt<Xt;++qt)S=h[qt],zt=st-S.x,ee=ct-S.y,l=zt*zt+ee*ee,l<wt&&(k=S,wt=l);return k},on:function(st,ct){return arguments.length>1?(yt.on(st,ct),v):yt.on(st)}}}function kt(){var h,v,x,D=F(-30),j,mt=1,ot=1/0,Z=.81;function tt(nt){var rt,st=h.length,ct=e.quadtree(h,at,lt).visitAfter(St);for(x=nt,rt=0;rt<st;++rt)v=h[rt],ct.visit(K)}function yt(){if(!!h){var nt,rt=h.length,st;for(j=new Array(rt),nt=0;nt<rt;++nt)st=h[nt],j[st.index]=+D(st,nt,h)}}function St(nt){var rt=0,st,ct,wt=0,qt,Xt,zt;if(nt.length){for(qt=Xt=zt=0;zt<4;++zt)(st=nt[zt])&&(ct=Math.abs(st.value))&&(rt+=st.value,wt+=ct,qt+=ct*st.x,Xt+=ct*st.y);nt.x=qt/wt,nt.y=Xt/wt}else{st=nt,st.x=st.data.x,st.y=st.data.y;do rt+=j[st.data.index];while(st=st.next)}nt.value=rt}function K(nt,rt,st,ct){if(!nt.value)return!0;var wt=nt.x-v.x,qt=nt.y-v.y,Xt=ct-rt,zt=wt*wt+qt*qt;if(Xt*Xt/Z<zt)return zt<ot&&(wt===0&&(wt=z(),zt+=wt*wt),qt===0&&(qt=z(),zt+=qt*qt),zt<mt&&(zt=Math.sqrt(mt*zt)),v.vx+=wt*nt.value*x/zt,v.vy+=qt*nt.value*x/zt),!0;if(nt.length||zt>=ot)return;(nt.data!==v||nt.next)&&(wt===0&&(wt=z(),zt+=wt*wt),qt===0&&(qt=z(),zt+=qt*qt),zt<mt&&(zt=Math.sqrt(mt*zt)));do nt.data!==v&&(Xt=j[nt.data.index]*x/zt,v.vx+=wt*Xt,v.vy+=qt*Xt);while(nt=nt.next)}return tt.initialize=function(nt){h=nt,yt()},tt.strength=function(nt){return arguments.length?(D=typeof nt=="function"?nt:F(+nt),yt(),tt):D},tt.distanceMin=function(nt){return arguments.length?(mt=nt*nt,tt):Math.sqrt(mt)},tt.distanceMax=function(nt){return arguments.length?(ot=nt*nt,tt):Math.sqrt(ot)},tt.theta=function(nt){return arguments.length?(Z=nt*nt,tt):Math.sqrt(Z)},tt}function et(h,v,x){var D,j=F(.1),mt,ot;typeof h!="function"&&(h=F(+h)),v==null&&(v=0),x==null&&(x=0);function Z(yt){for(var St=0,K=D.length;St<K;++St){var nt=D[St],rt=nt.x-v||1e-6,st=nt.y-x||1e-6,ct=Math.sqrt(rt*rt+st*st),wt=(ot[St]-ct)*mt[St]*yt/ct;nt.vx+=rt*wt,nt.vy+=st*wt}}function tt(){if(!!D){var yt,St=D.length;for(mt=new Array(St),ot=new Array(St),yt=0;yt<St;++yt)ot[yt]=+h(D[yt],yt,D),mt[yt]=isNaN(ot[yt])?0:+j(D[yt],yt,D)}}return Z.initialize=function(yt){D=yt,tt()},Z.strength=function(yt){return arguments.length?(j=typeof yt=="function"?yt:F(+yt),tt(),Z):j},Z.radius=function(yt){return arguments.length?(h=typeof yt=="function"?yt:F(+yt),tt(),Z):h},Z.x=function(yt){return arguments.length?(v=+yt,Z):v},Z.y=function(yt){return arguments.length?(x=+yt,Z):x},Z}function dt(h){var v=F(.1),x,D,j;typeof h!="function"&&(h=F(h==null?0:+h));function mt(Z){for(var tt=0,yt=x.length,St;tt<yt;++tt)St=x[tt],St.vx+=(j[tt]-St.x)*D[tt]*Z}function ot(){if(!!x){var Z,tt=x.length;for(D=new Array(tt),j=new Array(tt),Z=0;Z<tt;++Z)D[Z]=isNaN(j[Z]=+h(x[Z],Z,x))?0:+v(x[Z],Z,x)}}return mt.initialize=function(Z){x=Z,ot()},mt.strength=function(Z){return arguments.length?(v=typeof Z=="function"?Z:F(+Z),ot(),mt):v},mt.x=function(Z){return arguments.length?(h=typeof Z=="function"?Z:F(+Z),ot(),mt):h},mt}function V(h){var v=F(.1),x,D,j;typeof h!="function"&&(h=F(h==null?0:+h));function mt(Z){for(var tt=0,yt=x.length,St;tt<yt;++tt)St=x[tt],St.vy+=(j[tt]-St.y)*D[tt]*Z}function ot(){if(!!x){var Z,tt=x.length;for(D=new Array(tt),j=new Array(tt),Z=0;Z<tt;++Z)D[Z]=isNaN(j[Z]=+h(x[Z],Z,x))?0:+v(x[Z],Z,x)}}return mt.initialize=function(Z){x=Z,ot()},mt.strength=function(Z){return arguments.length?(v=typeof Z=="function"?Z:F(+Z),ot(),mt):v},mt.y=function(Z){return arguments.length?(h=typeof Z=="function"?Z:F(+Z),ot(),mt):h},mt}t.forceCenter=Q,t.forceCollide=T,t.forceLink=it,t.forceManyBody=kt,t.forceRadial=et,t.forceSimulation=It,t.forceX=dt,t.forceY=V,Object.defineProperty(t,"__esModule",{value:!0})})});var Co=Ve((ha,as)=>{(function(t,e){typeof ha=="object"&&typeof as<"u"?e(ha):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.d3=t.d3||{}))})(ha,function(t){"use strict";function e(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)}function n(h,v){if((x=(h=v?h.toExponential(v-1):h.toExponential()).indexOf("e"))<0)return null;var x,D=h.slice(0,x);return[D.length>1?D[0]+D.slice(2):D,+h.slice(x+1)]}function m(h){return h=n(Math.abs(h)),h?h[1]:NaN}function g(h,v){return function(x,D){for(var j=x.length,mt=[],ot=0,Z=h[0],tt=0;j>0&&Z>0&&(tt+Z+1>D&&(Z=Math.max(1,D-tt)),mt.push(x.substring(j-=Z,j+Z)),!((tt+=Z+1)>D));)Z=h[ot=(ot+1)%h.length];return mt.reverse().join(v)}}function Q(h){return function(v){return v.replace(/[0-9]/g,function(x){return h[+x]})}}var F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z(h){if(!(v=F.exec(h)))throw new Error("invalid format: "+h);var v;return new I({fill:v[1],align:v[2],sign:v[3],symbol:v[4],zero:v[5],width:v[6],comma:v[7],precision:v[8]&&v[8].slice(1),trim:v[9],type:v[10]})}z.prototype=I.prototype;function I(h){this.fill=h.fill===void 0?" ":h.fill+"",this.align=h.align===void 0?">":h.align+"",this.sign=h.sign===void 0?"-":h.sign+"",this.symbol=h.symbol===void 0?"":h.symbol+"",this.zero=!!h.zero,this.width=h.width===void 0?void 0:+h.width,this.comma=!!h.comma,this.precision=h.precision===void 0?void 0:+h.precision,this.trim=!!h.trim,this.type=h.type===void 0?"":h.type+""}I.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E(h){t:for(var v=h.length,x=1,D=-1,j;x<v;++x)switch(h[x]){case".":D=j=x;break;case"0":D===0&&(D=x),j=x;break;default:if(!+h[x])break t;D>0&&(D=0);break}return D>0?h.slice(0,D)+h.slice(j+1):h}var T;function Y(h,v){var x=n(h,v);if(!x)return h+"";var D=x[0],j=x[1],mt=j-(T=Math.max(-8,Math.min(8,Math.floor(j/3)))*3)+1,ot=D.length;return mt===ot?D:mt>ot?D+new Array(mt-ot+1).join("0"):mt>0?D.slice(0,mt)+"."+D.slice(mt):"0."+new Array(1-mt).join("0")+n(h,Math.max(0,v+mt-1))[0]}function C(h,v){var x=n(h,v);if(!x)return h+"";var D=x[0],j=x[1];return j<0?"0."+new Array(-j).join("0")+D:D.length>j+1?D.slice(0,j+1)+"."+D.slice(j+1):D+new Array(j-D.length+2).join("0")}var it={"%":function(h,v){return(h*100).toFixed(v)},b:function(h){return Math.round(h).toString(2)},c:function(h){return h+""},d:e,e:function(h,v){return h.toExponential(v)},f:function(h,v){return h.toFixed(v)},g:function(h,v){return h.toPrecision(v)},o:function(h){return Math.round(h).toString(8)},p:function(h,v){return C(h*100,v)},r:C,s:Y,X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}};function at(h){return h}var lt=Array.prototype.map,Pt=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function vt(h){var v=h.grouping===void 0||h.thousands===void 0?at:g(lt.call(h.grouping,Number),h.thousands+""),x=h.currency===void 0?"":h.currency[0]+"",D=h.currency===void 0?"":h.currency[1]+"",j=h.decimal===void 0?".":h.decimal+"",mt=h.numerals===void 0?at:Q(lt.call(h.numerals,String)),ot=h.percent===void 0?"%":h.percent+"",Z=h.minus===void 0?"-":h.minus+"",tt=h.nan===void 0?"NaN":h.nan+"";function yt(K){K=z(K);var nt=K.fill,rt=K.align,st=K.sign,ct=K.symbol,wt=K.zero,qt=K.width,Xt=K.comma,zt=K.precision,ee=K.trim,l=K.type;l==="n"?(Xt=!0,l="g"):it[l]||(zt===void 0&&(zt=12),ee=!0,l="g"),(wt||nt==="0"&&rt==="=")&&(wt=!0,nt="0",rt="=");var S=ct==="$"?x:ct==="#"&&/[boxX]/.test(l)?"0"+l.toLowerCase():"",k=ct==="$"?D:/[%p]/.test(l)?ot:"",d=it[l],r=/[defgprs%]/.test(l);zt=zt===void 0?6:/[gprs]/.test(l)?Math.max(1,Math.min(21,zt)):Math.max(0,Math.min(20,zt));function M(H){var ht=S,J=k,Tt,$t,Nt;if(l==="c")J=d(H)+J,H="";else{H=+H;var Ft=H<0||1/H<0;if(H=isNaN(H)?tt:d(Math.abs(H),zt),ee&&(H=E(H)),Ft&&+H==0&&st!=="+"&&(Ft=!1),ht=(Ft?st==="("?st:Z:st==="-"||st==="("?"":st)+ht,J=(l==="s"?Pt[8+T/3]:"")+J+(Ft&&st==="("?")":""),r){for(Tt=-1,$t=H.length;++Tt<$t;)if(Nt=H.charCodeAt(Tt),48>Nt||Nt>57){J=(Nt===46?j+H.slice(Tt+1):H.slice(Tt))+J,H=H.slice(0,Tt);break}}}Xt&&!wt&&(H=v(H,1/0));var te=ht.length+H.length+J.length,ie=te<qt?new Array(qt-te+1).join(nt):"";switch(Xt&&wt&&(H=v(ie+H,ie.length?qt-J.length:1/0),ie=""),rt){case"<":H=ht+H+J+ie;break;case"=":H=ht+ie+H+J;break;case"^":H=ie.slice(0,te=ie.length>>1)+ht+H+J+ie.slice(te);break;default:H=ie+ht+H+J;break}return mt(H)}return M.toString=function(){return K+""},M}function St(K,nt){var rt=yt((K=z(K),K.type="f",K)),st=Math.max(-8,Math.min(8,Math.floor(m(nt)/3)))*3,ct=Math.pow(10,-st),wt=Pt[8+st/3];return function(qt){return rt(ct*qt)+wt}}return{format:yt,formatPrefix:St}}var It;kt({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function kt(h){return It=vt(h),t.format=It.format,t.formatPrefix=It.formatPrefix,It}function et(h){return Math.max(0,-m(Math.abs(h)))}function dt(h,v){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(m(v)/3)))*3-m(Math.abs(h)))}function V(h,v){return h=Math.abs(h),v=Math.abs(v)-h,Math.max(0,m(v)-m(h))+1}t.FormatSpecifier=I,t.formatDefaultLocale=kt,t.formatLocale=vt,t.formatSpecifier=z,t.precisionFixed=et,t.precisionPrefix=dt,t.precisionRound=V,Object.defineProperty(t,"__esModule",{value:!0})})});var us=Ve((da,os)=>{(function(t,e){typeof da=="object"&&typeof os<"u"?e(da,Bi()):typeof define=="function"&&define.amd?define(["exports","d3-array"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(da,function(t,e){"use strict";function n(){return new m}function m(){this.reset()}m.prototype={constructor:m,reset:function(){this.s=this.t=0},add:function(i){Q(g,i,this.t),Q(this,g.s,this.s),this.s?this.t+=g.t:this.s=g.t},valueOf:function(){return this.s}};var g=new m;function Q(i,c,P){var _=i.s=c+P,G=_-c,_t=_-G;i.t=c-_t+(P-G)}var F=1e-6,z=1e-12,I=Math.PI,E=I/2,T=I/4,Y=I*2,C=180/I,it=I/180,at=Math.abs,lt=Math.atan,Pt=Math.atan2,vt=Math.cos,It=Math.ceil,kt=Math.exp,et=Math.log,dt=Math.pow,V=Math.sin,h=Math.sign||function(i){return i>0?1:i<0?-1:0},v=Math.sqrt,x=Math.tan;function D(i){return i>1?0:i<-1?I:Math.acos(i)}function j(i){return i>1?E:i<-1?-E:Math.asin(i)}function mt(i){return(i=V(i/2))*i}function ot(){}function Z(i,c){i&&yt.hasOwnProperty(i.type)&&yt[i.type](i,c)}var tt={Feature:function(i,c){Z(i.geometry,c)},FeatureCollection:function(i,c){for(var P=i.features,_=-1,G=P.length;++_<G;)Z(P[_].geometry,c)}},yt={Sphere:function(i,c){c.sphere()},Point:function(i,c){i=i.coordinates,c.point(i[0],i[1],i[2])},MultiPoint:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)i=P[_],c.point(i[0],i[1],i[2])},LineString:function(i,c){St(i.coordinates,c,0)},MultiLineString:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)St(P[_],c,0)},Polygon:function(i,c){K(i.coordinates,c)},MultiPolygon:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)K(P[_],c)},GeometryCollection:function(i,c){for(var P=i.geometries,_=-1,G=P.length;++_<G;)Z(P[_],c)}};function St(i,c,P){var _=-1,G=i.length-P,_t;for(c.lineStart();++_<G;)_t=i[_],c.point(_t[0],_t[1],_t[2]);c.lineEnd()}function K(i,c){var P=-1,_=i.length;for(c.polygonStart();++P<_;)St(i[P],c,1);c.polygonEnd()}function nt(i,c){i&&tt.hasOwnProperty(i.type)?tt[i.type](i,c):Z(i,c)}var rt=n(),st=n(),ct,wt,qt,Xt,zt,ee={point:ot,lineStart:ot,lineEnd:ot,polygonStart:function(){rt.reset(),ee.lineStart=l,ee.lineEnd=S},polygonEnd:function(){var i=+rt;st.add(i<0?Y+i:i),this.lineStart=this.lineEnd=this.point=ot},sphere:function(){st.add(Y)}};function l(){ee.point=k}function S(){d(ct,wt)}function k(i,c){ee.point=d,ct=i,wt=c,i*=it,c*=it,qt=i,Xt=vt(c=c/2+T),zt=V(c)}function d(i,c){i*=it,c*=it,c=c/2+T;var P=i-qt,_=P>=0?1:-1,G=_*P,_t=vt(c),Ct=V(c),Lt=zt*Ct,Bt=Xt*_t+Lt*vt(G),Qt=Lt*_*V(G);rt.add(Pt(Qt,Bt)),qt=i,Xt=_t,zt=Ct}function r(i){return st.reset(),nt(i,ee),st*2}function M(i){return[Pt(i[1],i[0]),j(i[2])]}function H(i){var c=i[0],P=i[1],_=vt(P);return[_*vt(c),_*V(c),V(P)]}function ht(i,c){return i[0]*c[0]+i[1]*c[1]+i[2]*c[2]}function J(i,c){return[i[1]*c[2]-i[2]*c[1],i[2]*c[0]-i[0]*c[2],i[0]*c[1]-i[1]*c[0]]}function Tt(i,c){i[0]+=c[0],i[1]+=c[1],i[2]+=c[2]}function $t(i,c){return[i[0]*c,i[1]*c,i[2]*c]}function Nt(i){var c=v(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=c,i[1]/=c,i[2]/=c}var Ft,te,ie,Yt,pe,me,Ee,b,N=n(),Mt,Kt,Dt={point:y,lineStart:xt,lineEnd:jt,polygonStart:function(){Dt.point=re,Dt.lineStart=oe,Dt.lineEnd=Me,N.reset(),ee.polygonStart()},polygonEnd:function(){ee.polygonEnd(),Dt.point=y,Dt.lineStart=xt,Dt.lineEnd=jt,rt<0?(Ft=-(ie=180),te=-(Yt=90)):N>F?Yt=90:N<-F&&(te=-90),Kt[0]=Ft,Kt[1]=ie},sphere:function(){Ft=-(ie=180),te=-(Yt=90)}};function y(i,c){Mt.push(Kt=[Ft=i,ie=i]),c<te&&(te=c),c>Yt&&(Yt=c)}function X(i,c){var P=H([i*it,c*it]);if(b){var _=J(b,P),G=[_[1],-_[0],0],_t=J(G,_);Nt(_t),_t=M(_t);var Ct=i-pe,Lt=Ct>0?1:-1,Bt=_t[0]*C*Lt,Qt,Rt=at(Ct)>180;Rt^(Lt*pe<Bt&&Bt<Lt*i)?(Qt=_t[1]*C,Qt>Yt&&(Yt=Qt)):(Bt=(Bt+360)%360-180,Rt^(Lt*pe<Bt&&Bt<Lt*i)?(Qt=-_t[1]*C,Qt<te&&(te=Qt)):(c<te&&(te=c),c>Yt&&(Yt=c))),Rt?i<pe?ve(Ft,i)>ve(Ft,ie)&&(ie=i):ve(i,ie)>ve(Ft,ie)&&(Ft=i):ie>=Ft?(i<Ft&&(Ft=i),i>ie&&(ie=i)):i>pe?ve(Ft,i)>ve(Ft,ie)&&(ie=i):ve(i,ie)>ve(Ft,ie)&&(Ft=i)}else Mt.push(Kt=[Ft=i,ie=i]);c<te&&(te=c),c>Yt&&(Yt=c),b=P,pe=i}function xt(){Dt.point=X}function jt(){Kt[0]=Ft,Kt[1]=ie,Dt.point=y,b=null}function re(i,c){if(b){var P=i-pe;N.add(at(P)>180?P+(P>0?360:-360):P)}else me=i,Ee=c;ee.point(i,c),X(i,c)}function oe(){ee.lineStart()}function Me(){re(me,Ee),ee.lineEnd(),at(N)>F&&(Ft=-(ie=180)),Kt[0]=Ft,Kt[1]=ie,b=null}function ve(i,c){return(c-=i)<0?c+360:c}function Fe(i,c){return i[0]-c[0]}function $e(i,c){return i[0]<=i[1]?i[0]<=c&&c<=i[1]:c<i[0]||i[1]<c}function en(i){var c,P,_,G,_t,Ct,Lt;if(Yt=ie=-(Ft=te=1/0),Mt=[],nt(i,Dt),P=Mt.length){for(Mt.sort(Fe),c=1,_=Mt[0],_t=[_];c<P;++c)G=Mt[c],$e(_,G[0])||$e(_,G[1])?(ve(_[0],G[1])>ve(_[0],_[1])&&(_[1]=G[1]),ve(G[0],_[1])>ve(_[0],_[1])&&(_[0]=G[0])):_t.push(_=G);for(Ct=-1/0,P=_t.length-1,c=0,_=_t[P];c<=P;_=G,++c)G=_t[c],(Lt=ve(_[1],G[0]))>Ct&&(Ct=Lt,Ft=G[0],ie=_[1])}return Mt=Kt=null,Ft===1/0||te===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ft,te],[ie,Yt]]}var Xe,$,U,s,R,u,f,a,p,w,A,W,pt,B,Et,Ot,Ut={sphere:ot,point:ne,lineStart:be,lineEnd:We,polygonStart:function(){Ut.lineStart=nn,Ut.lineEnd=pn},polygonEnd:function(){Ut.lineStart=be,Ut.lineEnd=We}};function ne(i,c){i*=it,c*=it;var P=vt(c);ye(P*vt(i),P*V(i),V(c))}function ye(i,c,P){++Xe,U+=(i-U)/Xe,s+=(c-s)/Xe,R+=(P-R)/Xe}function be(){Ut.point=Ne}function Ne(i,c){i*=it,c*=it;var P=vt(c);B=P*vt(i),Et=P*V(i),Ot=V(c),Ut.point=Ze,ye(B,Et,Ot)}function Ze(i,c){i*=it,c*=it;var P=vt(c),_=P*vt(i),G=P*V(i),_t=V(c),Ct=Pt(v((Ct=Et*_t-Ot*G)*Ct+(Ct=Ot*_-B*_t)*Ct+(Ct=B*G-Et*_)*Ct),B*_+Et*G+Ot*_t);$+=Ct,u+=Ct*(B+(B=_)),f+=Ct*(Et+(Et=G)),a+=Ct*(Ot+(Ot=_t)),ye(B,Et,Ot)}function We(){Ut.point=ne}function nn(){Ut.point=fn}function pn(){ze(W,pt),Ut.point=ne}function fn(i,c){W=i,pt=c,i*=it,c*=it,Ut.point=ze;var P=vt(c);B=P*vt(i),Et=P*V(i),Ot=V(c),ye(B,Et,Ot)}function ze(i,c){i*=it,c*=it;var P=vt(c),_=P*vt(i),G=P*V(i),_t=V(c),Ct=Et*_t-Ot*G,Lt=Ot*_-B*_t,Bt=B*G-Et*_,Qt=v(Ct*Ct+Lt*Lt+Bt*Bt),Rt=j(Qt),Wt=Qt&&-Rt/Qt;p+=Wt*Ct,w+=Wt*Lt,A+=Wt*Bt,$+=Rt,u+=Rt*(B+(B=_)),f+=Rt*(Et+(Et=G)),a+=Rt*(Ot+(Ot=_t)),ye(B,Et,Ot)}function on(i){Xe=$=U=s=R=u=f=a=p=w=A=0,nt(i,Ut);var c=p,P=w,_=A,G=c*c+P*P+_*_;return G<z&&(c=u,P=f,_=a,$<F&&(c=U,P=s,_=R),G=c*c+P*P+_*_,G<z)?[NaN,NaN]:[Pt(P,c)*C,j(_/v(G))*C]}function rn(i){return function(){return i}}function cn(i,c){function P(_,G){return _=i(_,G),c(_[0],_[1])}return i.invert&&c.invert&&(P.invert=function(_,G){return _=c.invert(_,G),_&&i.invert(_[0],_[1])}),P}function L(i,c){return[at(i)>I?i+Math.round(-i/Y)*Y:i,c]}L.invert=L;function gt(i,c,P){return(i%=Y)?c||P?cn(ue(i),fe(c,P)):ue(i):c||P?fe(c,P):L}function Zt(i){return function(c,P){return c+=i,[c>I?c-Y:c<-I?c+Y:c,P]}}function ue(i){var c=Zt(i);return c.invert=Zt(-i),c}function fe(i,c){var P=vt(i),_=V(i),G=vt(c),_t=V(c);function Ct(Lt,Bt){var Qt=vt(Bt),Rt=vt(Lt)*Qt,Wt=V(Lt)*Qt,Ht=V(Bt),Jt=Ht*P+Rt*_;return[Pt(Wt*G-Jt*_t,Rt*P-Ht*_),j(Jt*G+Wt*_t)]}return Ct.invert=function(Lt,Bt){var Qt=vt(Bt),Rt=vt(Lt)*Qt,Wt=V(Lt)*Qt,Ht=V(Bt),Jt=Ht*G-Wt*_t;return[Pt(Wt*G+Ht*_t,Rt*P+Jt*_),j(Jt*P-Rt*_)]},Ct}function we(i){i=gt(i[0]*it,i[1]*it,i.length>2?i[2]*it:0);function c(P){return P=i(P[0]*it,P[1]*it),P[0]*=C,P[1]*=C,P}return c.invert=function(P){return P=i.invert(P[0]*it,P[1]*it),P[0]*=C,P[1]*=C,P},c}function Oe(i,c,P,_,G,_t){if(!!P){var Ct=vt(c),Lt=V(c),Bt=_*P;G==null?(G=c+_*Y,_t=c-Bt/2):(G=xe(Ct,G),_t=xe(Ct,_t),(_>0?G<_t:G>_t)&&(G+=_*Y));for(var Qt,Rt=G;_>0?Rt>_t:Rt<_t;Rt-=Bt)Qt=M([Ct,-Lt*vt(Rt),-Lt*V(Rt)]),i.point(Qt[0],Qt[1])}}function xe(i,c){c=H(c),c[0]-=i,Nt(c);var P=D(-c[1]);return((-c[2]<0?-P:P)+Y-F)%Y}function Re(){var i=rn([0,0]),c=rn(90),P=rn(6),_,G,_t={point:Ct};function Ct(Bt,Qt){_.push(Bt=G(Bt,Qt)),Bt[0]*=C,Bt[1]*=C}function Lt(){var Bt=i.apply(this,arguments),Qt=c.apply(this,arguments)*it,Rt=P.apply(this,arguments)*it;return _=[],G=gt(-Bt[0]*it,-Bt[1]*it,0).invert,Oe(_t,Qt,Rt,1),Bt={type:"Polygon",coordinates:[_]},_=G=null,Bt}return Lt.center=function(Bt){return arguments.length?(i=typeof Bt=="function"?Bt:rn([+Bt[0],+Bt[1]]),Lt):i},Lt.radius=function(Bt){return arguments.length?(c=typeof Bt=="function"?Bt:rn(+Bt),Lt):c},Lt.precision=function(Bt){return arguments.length?(P=typeof Bt=="function"?Bt:rn(+Bt),Lt):P},Lt}function qe(){var i=[],c;return{point:function(P,_,G){c.push([P,_,G])},lineStart:function(){i.push(c=[])},lineEnd:ot,rejoin:function(){i.length>1&&i.push(i.pop().concat(i.shift()))},result:function(){var P=i;return i=[],c=null,P}}}function Ue(i,c){return at(i[0]-c[0])<F&&at(i[1]-c[1])<F}function yn(i,c,P,_){this.x=i,this.z=c,this.o=P,this.e=_,this.v=!1,this.n=this.p=null}function An(i,c,P,_,G){var _t=[],Ct=[],Lt,Bt;if(i.forEach(function(ae){if(!((Se=ae.length-1)<=0)){var Se,_e=ae[0],Ce=ae[Se],Ae;if(Ue(_e,Ce)){if(!_e[2]&&!Ce[2]){for(G.lineStart(),Lt=0;Lt<Se;++Lt)G.point((_e=ae[Lt])[0],_e[1]);G.lineEnd();return}Ce[0]+=2*F}_t.push(Ae=new yn(_e,ae,null,!0)),Ct.push(Ae.o=new yn(_e,null,Ae,!1)),_t.push(Ae=new yn(Ce,ae,null,!1)),Ct.push(Ae.o=new yn(Ce,null,Ae,!0))}}),!!_t.length){for(Ct.sort(c),gn(_t),gn(Ct),Lt=0,Bt=Ct.length;Lt<Bt;++Lt)Ct[Lt].e=P=!P;for(var Qt=_t[0],Rt,Wt;;){for(var Ht=Qt,Jt=!0;Ht.v;)if((Ht=Ht.n)===Qt)return;Rt=Ht.z,G.lineStart();do{if(Ht.v=Ht.o.v=!0,Ht.e){if(Jt)for(Lt=0,Bt=Rt.length;Lt<Bt;++Lt)G.point((Wt=Rt[Lt])[0],Wt[1]);else _(Ht.x,Ht.n.x,1,G);Ht=Ht.n}else{if(Jt)for(Rt=Ht.p.z,Lt=Rt.length-1;Lt>=0;--Lt)G.point((Wt=Rt[Lt])[0],Wt[1]);else _(Ht.x,Ht.p.x,-1,G);Ht=Ht.p}Ht=Ht.o,Rt=Ht.z,Jt=!Jt}while(!Ht.v);G.lineEnd()}}}function gn(i){if(!!(c=i.length)){for(var c,P=0,_=i[0],G;++P<c;)_.n=G=i[P],G.p=_,_=G;_.n=G=i[0],G.p=_}}var Bn=n();function Kn(i){return at(i[0])<=I?i[0]:h(i[0])*((at(i[0])+I)%Y-I)}function ri(i,c){var P=Kn(c),_=c[1],G=V(_),_t=[V(P),-vt(P),0],Ct=0,Lt=0;Bn.reset(),G===1?_=E+F:G===-1&&(_=-E-F);for(var Bt=0,Qt=i.length;Bt<Qt;++Bt)if(!!(Wt=(Rt=i[Bt]).length))for(var Rt,Wt,Ht=Rt[Wt-1],Jt=Kn(Ht),ae=Ht[1]/2+T,Se=V(ae),_e=vt(ae),Ce=0;Ce<Wt;++Ce,Jt=se,Se=Pe,_e=De,Ht=Ae){var Ae=Rt[Ce],se=Kn(Ae),le=Ae[1]/2+T,Pe=V(le),De=vt(le),Qe=se-Jt,hn=Qe>=0?1:-1,sn=hn*Qe,mn=sn>I,Ye=Se*Pe;if(Bn.add(Pt(Ye*hn*V(sn),_e*De+Ye*vt(sn))),Ct+=mn?Qe+hn*Y:Qe,mn^Jt>=P^se>=P){var On=J(H(Ht),H(Ae));Nt(On);var Cn=J(_t,On);Nt(Cn);var dn=(mn^Qe>=0?-1:1)*j(Cn[2]);(_>dn||_===dn&&(On[0]||On[1]))&&(Lt+=mn^Qe>=0?1:-1)}}return(Ct<-F||Ct<F&&Bn<-F)^Lt&1}function gi(i,c,P,_){return function(G){var _t=c(G),Ct=qe(),Lt=c(Ct),Bt=!1,Qt,Rt,Wt,Ht={point:Jt,lineStart:Se,lineEnd:_e,polygonStart:function(){Ht.point=Ce,Ht.lineStart=Ae,Ht.lineEnd=se,Rt=[],Qt=[]},polygonEnd:function(){Ht.point=Jt,Ht.lineStart=Se,Ht.lineEnd=_e,Rt=e.merge(Rt);var le=ri(Qt,_);Rt.length?(Bt||(G.polygonStart(),Bt=!0),An(Rt,O,le,P,G)):le&&(Bt||(G.polygonStart(),Bt=!0),G.lineStart(),P(null,null,1,G),G.lineEnd()),Bt&&(G.polygonEnd(),Bt=!1),Rt=Qt=null},sphere:function(){G.polygonStart(),G.lineStart(),P(null,null,1,G),G.lineEnd(),G.polygonEnd()}};function Jt(le,Pe){i(le,Pe)&&G.point(le,Pe)}function ae(le,Pe){_t.point(le,Pe)}function Se(){Ht.point=ae,_t.lineStart()}function _e(){Ht.point=Jt,_t.lineEnd()}function Ce(le,Pe){Wt.push([le,Pe]),Lt.point(le,Pe)}function Ae(){Lt.lineStart(),Wt=[]}function se(){Ce(Wt[0][0],Wt[0][1]),Lt.lineEnd();var le=Lt.clean(),Pe=Ct.result(),De,Qe=Pe.length,hn,sn,mn;if(Wt.pop(),Qt.push(Wt),Wt=null,!!Qe){if(le&1){if(sn=Pe[0],(hn=sn.length-1)>0){for(Bt||(G.polygonStart(),Bt=!0),G.lineStart(),De=0;De<hn;++De)G.point((mn=sn[De])[0],mn[1]);G.lineEnd()}return}Qe>1&&le&2&&Pe.push(Pe.pop().concat(Pe.shift())),Rt.push(Pe.filter(o))}}return Ht}}function o(i){return i.length>1}function O(i,c){return((i=i.x)[0]<0?i[1]-E-F:E-i[1])-((c=c.x)[0]<0?c[1]-E-F:E-c[1])}var q=gi(function(){return!0},ut,ft,[-I,-E]);function ut(i){var c=NaN,P=NaN,_=NaN,G;return{lineStart:function(){i.lineStart(),G=1},point:function(_t,Ct){var Lt=_t>0?I:-I,Bt=at(_t-c);at(Bt-I)<F?(i.point(c,P=(P+Ct)/2>0?E:-E),i.point(_,P),i.lineEnd(),i.lineStart(),i.point(Lt,P),i.point(_t,P),G=0):_!==Lt&&Bt>=I&&(at(c-_)<F&&(c-=_*F),at(_t-Lt)<F&&(_t-=Lt*F),P=At(c,P,_t,Ct),i.point(_,P),i.lineEnd(),i.lineStart(),i.point(Lt,P),G=0),i.point(c=_t,P=Ct),_=Lt},lineEnd:function(){i.lineEnd(),c=P=NaN},clean:function(){return 2-G}}}function At(i,c,P,_){var G,_t,Ct=V(i-P);return at(Ct)>F?lt((V(c)*(_t=vt(_))*V(P)-V(_)*(G=vt(c))*V(i))/(G*_t*Ct)):(c+_)/2}function ft(i,c,P,_){var G;if(i==null)G=P*E,_.point(-I,G),_.point(0,G),_.point(I,G),_.point(I,0),_.point(I,-G),_.point(0,-G),_.point(-I,-G),_.point(-I,0),_.point(-I,G);else if(at(i[0]-c[0])>F){var _t=i[0]<c[0]?I:-I;G=P*_t/2,_.point(-_t,G),_.point(0,G),_.point(_t,G)}else _.point(c[0],c[1])}function Gt(i){var c=vt(i),P=6*it,_=c>0,G=at(c)>F;function _t(Rt,Wt,Ht,Jt){Oe(Jt,i,P,Ht,Rt,Wt)}function Ct(Rt,Wt){return vt(Rt)*vt(Wt)>c}function Lt(Rt){var Wt,Ht,Jt,ae,Se;return{lineStart:function(){ae=Jt=!1,Se=1},point:function(_e,Ce){var Ae=[_e,Ce],se,le=Ct(_e,Ce),Pe=_?le?0:Qt(_e,Ce):le?Qt(_e+(_e<0?I:-I),Ce):0;if(!Wt&&(ae=Jt=le)&&Rt.lineStart(),le!==Jt&&(se=Bt(Wt,Ae),(!se||Ue(Wt,se)||Ue(Ae,se))&&(Ae[2]=1)),le!==Jt)Se=0,le?(Rt.lineStart(),se=Bt(Ae,Wt),Rt.point(se[0],se[1])):(se=Bt(Wt,Ae),Rt.point(se[0],se[1],2),Rt.lineEnd()),Wt=se;else if(G&&Wt&&_^le){var De;!(Pe&Ht)&&(De=Bt(Ae,Wt,!0))&&(Se=0,_?(Rt.lineStart(),Rt.point(De[0][0],De[0][1]),Rt.point(De[1][0],De[1][1]),Rt.lineEnd()):(Rt.point(De[1][0],De[1][1]),Rt.lineEnd(),Rt.lineStart(),Rt.point(De[0][0],De[0][1],3)))}le&&(!Wt||!Ue(Wt,Ae))&&Rt.point(Ae[0],Ae[1]),Wt=Ae,Jt=le,Ht=Pe},lineEnd:function(){Jt&&Rt.lineEnd(),Wt=null},clean:function(){return Se|(ae&&Jt)<<1}}}function Bt(Rt,Wt,Ht){var Jt=H(Rt),ae=H(Wt),Se=[1,0,0],_e=J(Jt,ae),Ce=ht(_e,_e),Ae=_e[0],se=Ce-Ae*Ae;if(!se)return!Ht&&Rt;var le=c*Ce/se,Pe=-c*Ae/se,De=J(Se,_e),Qe=$t(Se,le),hn=$t(_e,Pe);Tt(Qe,hn);var sn=De,mn=ht(Qe,sn),Ye=ht(sn,sn),On=mn*mn-Ye*(ht(Qe,Qe)-1);if(!(On<0)){var Cn=v(On),dn=$t(sn,(-mn-Cn)/Ye);if(Tt(dn,Qe),dn=M(dn),!Ht)return dn;var de=Rt[0],Je=Wt[0],Rn=Rt[1],qn=Wt[1],Vn;Je<de&&(Vn=de,de=Je,Je=Vn);var pr=Je-de,si=at(pr-I)<F,Pi=si||pr<F;if(!si&&qn<Rn&&(Vn=Rn,Rn=qn,qn=Vn),Pi?si?Rn+qn>0^dn[1]<(at(dn[0]-de)<F?Rn:qn):Rn<=dn[1]&&dn[1]<=qn:pr>I^(de<=dn[0]&&dn[0]<=Je)){var fi=$t(sn,(-mn+Cn)/Ye);return Tt(fi,Qe),[dn,M(fi)]}}}function Qt(Rt,Wt){var Ht=_?i:I-i,Jt=0;return Rt<-Ht?Jt|=1:Rt>Ht&&(Jt|=2),Wt<-Ht?Jt|=4:Wt>Ht&&(Jt|=8),Jt}return gi(Ct,Lt,_t,_?[0,-i]:[-I,i-I])}function bt(i,c,P,_,G,_t){var Ct=i[0],Lt=i[1],Bt=c[0],Qt=c[1],Rt=0,Wt=1,Ht=Bt-Ct,Jt=Qt-Lt,ae;if(ae=P-Ct,!(!Ht&&ae>0)){if(ae/=Ht,Ht<0){if(ae<Rt)return;ae<Wt&&(Wt=ae)}else if(Ht>0){if(ae>Wt)return;ae>Rt&&(Rt=ae)}if(ae=G-Ct,!(!Ht&&ae<0)){if(ae/=Ht,Ht<0){if(ae>Wt)return;ae>Rt&&(Rt=ae)}else if(Ht>0){if(ae<Rt)return;ae<Wt&&(Wt=ae)}if(ae=_-Lt,!(!Jt&&ae>0)){if(ae/=Jt,Jt<0){if(ae<Rt)return;ae<Wt&&(Wt=ae)}else if(Jt>0){if(ae>Wt)return;ae>Rt&&(Rt=ae)}if(ae=_t-Lt,!(!Jt&&ae<0)){if(ae/=Jt,Jt<0){if(ae>Wt)return;ae>Rt&&(Rt=ae)}else if(Jt>0){if(ae<Rt)return;ae<Wt&&(Wt=ae)}return Rt>0&&(i[0]=Ct+Rt*Ht,i[1]=Lt+Rt*Jt),Wt<1&&(c[0]=Ct+Wt*Ht,c[1]=Lt+Wt*Jt),!0}}}}}var Vt=1e9,ce=-Vt;function he(i,c,P,_){function G(Qt,Rt){return i<=Qt&&Qt<=P&&c<=Rt&&Rt<=_}function _t(Qt,Rt,Wt,Ht){var Jt=0,ae=0;if(Qt==null||(Jt=Ct(Qt,Wt))!==(ae=Ct(Rt,Wt))||Bt(Qt,Rt)<0^Wt>0)do Ht.point(Jt===0||Jt===3?i:P,Jt>1?_:c);while((Jt=(Jt+Wt+4)%4)!==ae);else Ht.point(Rt[0],Rt[1])}function Ct(Qt,Rt){return at(Qt[0]-i)<F?Rt>0?0:3:at(Qt[0]-P)<F?Rt>0?2:1:at(Qt[1]-c)<F?Rt>0?1:0:Rt>0?3:2}function Lt(Qt,Rt){return Bt(Qt.x,Rt.x)}function Bt(Qt,Rt){var Wt=Ct(Qt,1),Ht=Ct(Rt,1);return Wt!==Ht?Wt-Ht:Wt===0?Rt[1]-Qt[1]:Wt===1?Qt[0]-Rt[0]:Wt===2?Qt[1]-Rt[1]:Rt[0]-Qt[0]}return function(Qt){var Rt=Qt,Wt=qe(),Ht,Jt,ae,Se,_e,Ce,Ae,se,le,Pe,De,Qe={point:hn,lineStart:On,lineEnd:Cn,polygonStart:mn,polygonEnd:Ye};function hn(de,Je){G(de,Je)&&Rt.point(de,Je)}function sn(){for(var de=0,Je=0,Rn=Jt.length;Je<Rn;++Je)for(var qn=Jt[Je],Vn=1,pr=qn.length,si=qn[0],Pi,fi,$r=si[0],$i=si[1];Vn<pr;++Vn)Pi=$r,fi=$i,si=qn[Vn],$r=si[0],$i=si[1],fi<=_?$i>_&&($r-Pi)*(_-fi)>($i-fi)*(i-Pi)&&++de:$i<=_&&($r-Pi)*(_-fi)<($i-fi)*(i-Pi)&&--de;return de}function mn(){Rt=Wt,Ht=[],Jt=[],De=!0}function Ye(){var de=sn(),Je=De&&de,Rn=(Ht=e.merge(Ht)).length;(Je||Rn)&&(Qt.polygonStart(),Je&&(Qt.lineStart(),_t(null,null,1,Qt),Qt.lineEnd()),Rn&&An(Ht,Lt,de,_t,Qt),Qt.polygonEnd()),Rt=Qt,Ht=Jt=ae=null}function On(){Qe.point=dn,Jt&&Jt.push(ae=[]),Pe=!0,le=!1,Ae=se=NaN}function Cn(){Ht&&(dn(Se,_e),Ce&&le&&Wt.rejoin(),Ht.push(Wt.result())),Qe.point=hn,le&&Rt.lineEnd()}function dn(de,Je){var Rn=G(de,Je);if(Jt&&ae.push([de,Je]),Pe)Se=de,_e=Je,Ce=Rn,Pe=!1,Rn&&(Rt.lineStart(),Rt.point(de,Je));else if(Rn&&le)Rt.point(de,Je);else{var qn=[Ae=Math.max(ce,Math.min(Vt,Ae)),se=Math.max(ce,Math.min(Vt,se))],Vn=[de=Math.max(ce,Math.min(Vt,de)),Je=Math.max(ce,Math.min(Vt,Je))];bt(qn,Vn,i,c,P,_)?(le||(Rt.lineStart(),Rt.point(qn[0],qn[1])),Rt.point(Vn[0],Vn[1]),Rn||Rt.lineEnd(),De=!1):Rn&&(Rt.lineStart(),Rt.point(de,Je),De=!1)}Ae=de,se=Je,le=Rn}return Qe}}function ke(){var i=0,c=0,P=960,_=500,G,_t,Ct;return Ct={stream:function(Lt){return G&&_t===Lt?G:G=he(i,c,P,_)(_t=Lt)},extent:function(Lt){return arguments.length?(i=+Lt[0][0],c=+Lt[0][1],P=+Lt[1][0],_=+Lt[1][1],G=_t=null,Ct):[[i,c],[P,_]]}}}var Ie=n(),Ke,He,ln,Ge={sphere:ot,point:ot,lineStart:Mn,lineEnd:ot,polygonStart:ot,polygonEnd:ot};function Mn(){Ge.point=vn,Ge.lineEnd=_n}function _n(){Ge.point=Ge.lineEnd=ot}function vn(i,c){i*=it,c*=it,Ke=i,He=V(c),ln=vt(c),Ge.point=Sn}function Sn(i,c){i*=it,c*=it;var P=V(c),_=vt(c),G=at(i-Ke),_t=vt(G),Ct=V(G),Lt=_*Ct,Bt=ln*P-He*_*_t,Qt=He*P+ln*_*_t;Ie.add(Pt(v(Lt*Lt+Bt*Bt),Qt)),Ke=i,He=P,ln=_}function Nn(i){return Ie.reset(),nt(i,Ge),+Ie}var Pn=[null,null],Qn={type:"LineString",coordinates:Pn};function Hn(i,c){return Pn[0]=i,Pn[1]=c,Nn(Qn)}var Dn={Feature:function(i,c){return En(i.geometry,c)},FeatureCollection:function(i,c){for(var P=i.features,_=-1,G=P.length;++_<G;)if(En(P[_].geometry,c))return!0;return!1}},In={Sphere:function(){return!0},Point:function(i,c){return Be(i.coordinates,c)},MultiPoint:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)if(Be(P[_],c))return!0;return!1},LineString:function(i,c){return un(i.coordinates,c)},MultiLineString:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)if(un(P[_],c))return!0;return!1},Polygon:function(i,c){return Jn(i.coordinates,c)},MultiPolygon:function(i,c){for(var P=i.coordinates,_=-1,G=P.length;++_<G;)if(Jn(P[_],c))return!0;return!1},GeometryCollection:function(i,c){for(var P=i.geometries,_=-1,G=P.length;++_<G;)if(En(P[_],c))return!0;return!1}};function En(i,c){return i&&In.hasOwnProperty(i.type)?In[i.type](i,c):!1}function Be(i,c){return Hn(i,c)===0}function un(i,c){for(var P,_,G,_t=0,Ct=i.length;_t<Ct;_t++){if(_=Hn(i[_t],c),_===0||_t>0&&(G=Hn(i[_t],i[_t-1]),G>0&&P<=G&&_<=G&&(P+_-G)*(1-Math.pow((P-_)/G,2))<z*G))return!0;P=_}return!1}function Jn(i,c){return!!ri(i.map(ai),oi(c))}function ai(i){return i=i.map(oi),i.pop(),i}function oi(i){return[i[0]*it,i[1]*it]}function mi(i,c){return(i&&Dn.hasOwnProperty(i.type)?Dn[i.type]:En)(i,c)}function xi(i,c,P){var _=e.range(i,c-F,P).concat(c);return function(G){return _.map(function(_t){return[G,_t]})}}function Mi(i,c,P){var _=e.range(i,c-F,P).concat(c);return function(G){return _.map(function(_t){return[_t,G]})}}function Si(){var i,c,P,_,G,_t,Ct,Lt,Bt=10,Qt=Bt,Rt=90,Wt=360,Ht,Jt,ae,Se,_e=2.5;function Ce(){return{type:"MultiLineString",coordinates:Ae()}}function Ae(){return e.range(It(_/Rt)*Rt,P,Rt).map(ae).concat(e.range(It(Lt/Wt)*Wt,Ct,Wt).map(Se)).concat(e.range(It(c/Bt)*Bt,i,Bt).filter(function(se){return at(se%Rt)>F}).map(Ht)).concat(e.range(It(_t/Qt)*Qt,G,Qt).filter(function(se){return at(se%Wt)>F}).map(Jt))}return Ce.lines=function(){return Ae().map(function(se){return{type:"LineString",coordinates:se}})},Ce.outline=function(){return{type:"Polygon",coordinates:[ae(_).concat(Se(Ct).slice(1),ae(P).reverse().slice(1),Se(Lt).reverse().slice(1))]}},Ce.extent=function(se){return arguments.length?Ce.extentMajor(se).extentMinor(se):Ce.extentMinor()},Ce.extentMajor=function(se){return arguments.length?(_=+se[0][0],P=+se[1][0],Lt=+se[0][1],Ct=+se[1][1],_>P&&(se=_,_=P,P=se),Lt>Ct&&(se=Lt,Lt=Ct,Ct=se),Ce.precision(_e)):[[_,Lt],[P,Ct]]},Ce.extentMinor=function(se){return arguments.length?(c=+se[0][0],i=+se[1][0],_t=+se[0][1],G=+se[1][1],c>i&&(se=c,c=i,i=se),_t>G&&(se=_t,_t=G,G=se),Ce.precision(_e)):[[c,_t],[i,G]]},Ce.step=function(se){return arguments.length?Ce.stepMajor(se).stepMinor(se):Ce.stepMinor()},Ce.stepMajor=function(se){return arguments.length?(Rt=+se[0],Wt=+se[1],Ce):[Rt,Wt]},Ce.stepMinor=function(se){return arguments.length?(Bt=+se[0],Qt=+se[1],Ce):[Bt,Qt]},Ce.precision=function(se){return arguments.length?(_e=+se,Ht=xi(_t,G,90),Jt=Mi(c,i,_e),ae=xi(Lt,Ct,90),Se=Mi(_,P,_e),Ce):_e},Ce.extentMajor([[-180,-90+F],[180,90-F]]).extentMinor([[-180,-80-F],[180,80+F]])}function Ni(){return Si()()}function Ji(i,c){var P=i[0]*it,_=i[1]*it,G=c[0]*it,_t=c[1]*it,Ct=vt(_),Lt=V(_),Bt=vt(_t),Qt=V(_t),Rt=Ct*vt(P),Wt=Ct*V(P),Ht=Bt*vt(G),Jt=Bt*V(G),ae=2*j(v(mt(_t-_)+Ct*Bt*mt(G-P))),Se=V(ae),_e=ae?function(Ce){var Ae=V(Ce*=ae)/Se,se=V(ae-Ce)/Se,le=se*Rt+Ae*Ht,Pe=se*Wt+Ae*Jt,De=se*Lt+Ae*Qt;return[Pt(Pe,le)*C,Pt(De,v(le*le+Pe*Pe))*C]}:function(){return[P*C,_*C]};return _e.distance=ae,_e}function ui(i){return i}var Un=n(),ki=n(),Di,Ii,Ci,qi,Wn={point:ot,lineStart:ot,lineEnd:ot,polygonStart:function(){Wn.lineStart=Wc,Wn.lineEnd=Vc},polygonEnd:function(){Wn.lineStart=Wn.lineEnd=Wn.point=ot,Un.add(at(ki)),ki.reset()},result:function(){var i=Un/2;return Un.reset(),i}};function Wc(){Wn.point=Gc}function Gc(i,c){Wn.point=ou,Di=Ci=i,Ii=qi=c}function ou(i,c){ki.add(qi*i-Ci*c),Ci=i,qi=c}function Vc(){ou(Di,Ii)}var Li=1/0,Er=Li,tr=-Li,Or=tr,zr={point:jc,lineStart:ot,lineEnd:ot,polygonStart:ot,polygonEnd:ot,result:function(){var i=[[Li,Er],[tr,Or]];return tr=Or=-(Er=Li=1/0),i}};function jc(i,c){i<Li&&(Li=i),i>tr&&(tr=i),c<Er&&(Er=c),c>Or&&(Or=c)}var Ja=0,to=0,er=0,Nr=0,Dr=0,Fi=0,eo=0,no=0,nr=0,uu,su,ti,ei,Gn={point:Ai,lineStart:fu,lineEnd:cu,polygonStart:function(){Gn.lineStart=Kc,Gn.lineEnd=Qc},polygonEnd:function(){Gn.point=Ai,Gn.lineStart=fu,Gn.lineEnd=cu},result:function(){var i=nr?[eo/nr,no/nr]:Fi?[Nr/Fi,Dr/Fi]:er?[Ja/er,to/er]:[NaN,NaN];return Ja=to=er=Nr=Dr=Fi=eo=no=nr=0,i}};function Ai(i,c){Ja+=i,to+=c,++er}function fu(){Gn.point=Xc}function Xc(i,c){Gn.point=Zc,Ai(ti=i,ei=c)}function Zc(i,c){var P=i-ti,_=c-ei,G=v(P*P+_*_);Nr+=G*(ti+i)/2,Dr+=G*(ei+c)/2,Fi+=G,Ai(ti=i,ei=c)}function cu(){Gn.point=Ai}function Kc(){Gn.point=Jc}function Qc(){lu(uu,su)}function Jc(i,c){Gn.point=lu,Ai(uu=ti=i,su=ei=c)}function lu(i,c){var P=i-ti,_=c-ei,G=v(P*P+_*_);Nr+=G*(ti+i)/2,Dr+=G*(ei+c)/2,Fi+=G,G=ei*i-ti*c,eo+=G*(ti+i),no+=G*(ei+c),nr+=G*3,Ai(ti=i,ei=c)}function hu(i){this._context=i}hu.prototype={_radius:4.5,pointRadius:function(i){return this._radius=i,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(i,c){switch(this._point){case 0:{this._context.moveTo(i,c),this._point=1;break}case 1:{this._context.lineTo(i,c);break}default:{this._context.moveTo(i+this._radius,c),this._context.arc(i,c,this._radius,0,Y);break}}},result:ot};var io=n(),ro,du,pu,ir,rr,ar={point:ot,lineStart:function(){ar.point=tl},lineEnd:function(){ro&&gu(du,pu),ar.point=ot},polygonStart:function(){ro=!0},polygonEnd:function(){ro=null},result:function(){var i=+io;return io.reset(),i}};function tl(i,c){ar.point=gu,du=ir=i,pu=rr=c}function gu(i,c){ir-=i,rr-=c,io.add(v(ir*ir+rr*rr)),ir=i,rr=c}function mu(){this._string=[]}mu.prototype={_radius:4.5,_circle:yu(4.5),pointRadius:function(i){return(i=+i)!==this._radius&&(this._radius=i,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(i,c){switch(this._point){case 0:{this._string.push("M",i,",",c),this._point=1;break}case 1:{this._string.push("L",i,",",c);break}default:{this._circle==null&&(this._circle=yu(this._radius)),this._string.push("M",i,",",c,this._circle);break}}},result:function(){if(this._string.length){var i=this._string.join("");return this._string=[],i}else return null}};function yu(i){return"m0,"+i+"a"+i+","+i+" 0 1,1 0,"+-2*i+"a"+i+","+i+" 0 1,1 0,"+2*i+"z"}function el(i,c){var P=4.5,_,G;function _t(Ct){return Ct&&(typeof P=="function"&&G.pointRadius(+P.apply(this,arguments)),nt(Ct,_(G))),G.result()}return _t.area=function(Ct){return nt(Ct,_(Wn)),Wn.result()},_t.measure=function(Ct){return nt(Ct,_(ar)),ar.result()},_t.bounds=function(Ct){return nt(Ct,_(zr)),zr.result()},_t.centroid=function(Ct){return nt(Ct,_(Gn)),Gn.result()},_t.projection=function(Ct){return arguments.length?(_=Ct==null?(i=null,ui):(i=Ct).stream,_t):i},_t.context=function(Ct){return arguments.length?(G=Ct==null?(c=null,new mu):new hu(c=Ct),typeof P!="function"&&G.pointRadius(P),_t):c},_t.pointRadius=function(Ct){return arguments.length?(P=typeof Ct=="function"?Ct:(G.pointRadius(+Ct),+Ct),_t):P},_t.projection(i).context(c)}function nl(i){return{stream:or(i)}}function or(i){return function(c){var P=new ao;for(var _ in i)P[_]=i[_];return P.stream=c,P}}function ao(){}ao.prototype={constructor:ao,point:function(i,c){this.stream.point(i,c)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function oo(i,c,P){var _=i.clipExtent&&i.clipExtent();return i.scale(150).translate([0,0]),_!=null&&i.clipExtent(null),nt(P,i.stream(zr)),c(zr.result()),_!=null&&i.clipExtent(_),i}function Ir(i,c,P){return oo(i,function(_){var G=c[1][0]-c[0][0],_t=c[1][1]-c[0][1],Ct=Math.min(G/(_[1][0]-_[0][0]),_t/(_[1][1]-_[0][1])),Lt=+c[0][0]+(G-Ct*(_[1][0]+_[0][0]))/2,Bt=+c[0][1]+(_t-Ct*(_[1][1]+_[0][1]))/2;i.scale(150*Ct).translate([Lt,Bt])},P)}function uo(i,c,P){return Ir(i,[[0,0],c],P)}function so(i,c,P){return oo(i,function(_){var G=+c,_t=G/(_[1][0]-_[0][0]),Ct=(G-_t*(_[1][0]+_[0][0]))/2,Lt=-_t*_[0][1];i.scale(150*_t).translate([Ct,Lt])},P)}function fo(i,c,P){return oo(i,function(_){var G=+c,_t=G/(_[1][1]-_[0][1]),Ct=-_t*_[0][0],Lt=(G-_t*(_[1][1]+_[0][1]))/2;i.scale(150*_t).translate([Ct,Lt])},P)}var vu=16,il=vt(30*it);function bu(i,c){return+c?al(i,c):rl(i)}function rl(i){return or({point:function(c,P){c=i(c,P),this.stream.point(c[0],c[1])}})}function al(i,c){function P(_,G,_t,Ct,Lt,Bt,Qt,Rt,Wt,Ht,Jt,ae,Se,_e){var Ce=Qt-_,Ae=Rt-G,se=Ce*Ce+Ae*Ae;if(se>4*c&&Se--){var le=Ct+Ht,Pe=Lt+Jt,De=Bt+ae,Qe=v(le*le+Pe*Pe+De*De),hn=j(De/=Qe),sn=at(at(De)-1)<F||at(_t-Wt)<F?(_t+Wt)/2:Pt(Pe,le),mn=i(sn,hn),Ye=mn[0],On=mn[1],Cn=Ye-_,dn=On-G,de=Ae*Cn-Ce*dn;(de*de/se>c||at((Ce*Cn+Ae*dn)/se-.5)>.3||Ct*Ht+Lt*Jt+Bt*ae<il)&&(P(_,G,_t,Ct,Lt,Bt,Ye,On,sn,le/=Qe,Pe/=Qe,De,Se,_e),_e.point(Ye,On),P(Ye,On,sn,le,Pe,De,Qt,Rt,Wt,Ht,Jt,ae,Se,_e))}}return function(_){var G,_t,Ct,Lt,Bt,Qt,Rt,Wt,Ht,Jt,ae,Se,_e={point:Ce,lineStart:Ae,lineEnd:le,polygonStart:function(){_.polygonStart(),_e.lineStart=Pe},polygonEnd:function(){_.polygonEnd(),_e.lineStart=Ae}};function Ce(hn,sn){hn=i(hn,sn),_.point(hn[0],hn[1])}function Ae(){Wt=NaN,_e.point=se,_.lineStart()}function se(hn,sn){var mn=H([hn,sn]),Ye=i(hn,sn);P(Wt,Ht,Rt,Jt,ae,Se,Wt=Ye[0],Ht=Ye[1],Rt=hn,Jt=mn[0],ae=mn[1],Se=mn[2],vu,_),_.point(Wt,Ht)}function le(){_e.point=Ce,_.lineEnd()}function Pe(){Ae(),_e.point=De,_e.lineEnd=Qe}function De(hn,sn){se(G=hn,sn),_t=Wt,Ct=Ht,Lt=Jt,Bt=ae,Qt=Se,_e.point=se}function Qe(){P(Wt,Ht,Rt,Jt,ae,Se,_t,Ct,G,Lt,Bt,Qt,vu,_),_e.lineEnd=le,le()}return _e}}var ol=or({point:function(i,c){this.stream.point(i*it,c*it)}});function ul(i){return or({point:function(c,P){var _=i(c,P);return this.stream.point(_[0],_[1])}})}function sl(i,c,P,_,G){function _t(Ct,Lt){return Ct*=_,Lt*=G,[c+i*Ct,P-i*Lt]}return _t.invert=function(Ct,Lt){return[(Ct-c)/i*_,(P-Lt)/i*G]},_t}function wu(i,c,P,_,G,_t){var Ct=vt(_t),Lt=V(_t),Bt=Ct*i,Qt=Lt*i,Rt=Ct/i,Wt=Lt/i,Ht=(Lt*P-Ct*c)/i,Jt=(Lt*c+Ct*P)/i;function ae(Se,_e){return Se*=_,_e*=G,[Bt*Se-Qt*_e+c,P-Qt*Se-Bt*_e]}return ae.invert=function(Se,_e){return[_*(Rt*Se-Wt*_e+Ht),G*(Jt-Wt*Se-Rt*_e)]},ae}function ni(i){return co(function(){return i})()}function co(i){var c,P=150,_=480,G=250,_t=0,Ct=0,Lt=0,Bt=0,Qt=0,Rt,Wt=0,Ht=1,Jt=1,ae=null,Se=q,_e=null,Ce,Ae,se,le=ui,Pe=.5,De,Qe,hn,sn,mn;function Ye(de){return hn(de[0]*it,de[1]*it)}function On(de){return de=hn.invert(de[0],de[1]),de&&[de[0]*C,de[1]*C]}Ye.stream=function(de){return sn&&mn===de?sn:sn=ol(ul(Rt)(Se(De(le(mn=de)))))},Ye.preclip=function(de){return arguments.length?(Se=de,ae=void 0,dn()):Se},Ye.postclip=function(de){return arguments.length?(le=de,_e=Ce=Ae=se=null,dn()):le},Ye.clipAngle=function(de){return arguments.length?(Se=+de?Gt(ae=de*it):(ae=null,q),dn()):ae*C},Ye.clipExtent=function(de){return arguments.length?(le=de==null?(_e=Ce=Ae=se=null,ui):he(_e=+de[0][0],Ce=+de[0][1],Ae=+de[1][0],se=+de[1][1]),dn()):_e==null?null:[[_e,Ce],[Ae,se]]},Ye.scale=function(de){return arguments.length?(P=+de,Cn()):P},Ye.translate=function(de){return arguments.length?(_=+de[0],G=+de[1],Cn()):[_,G]},Ye.center=function(de){return arguments.length?(_t=de[0]%360*it,Ct=de[1]%360*it,Cn()):[_t*C,Ct*C]},Ye.rotate=function(de){return arguments.length?(Lt=de[0]%360*it,Bt=de[1]%360*it,Qt=de.length>2?de[2]%360*it:0,Cn()):[Lt*C,Bt*C,Qt*C]},Ye.angle=function(de){return arguments.length?(Wt=de%360*it,Cn()):Wt*C},Ye.reflectX=function(de){return arguments.length?(Ht=de?-1:1,Cn()):Ht<0},Ye.reflectY=function(de){return arguments.length?(Jt=de?-1:1,Cn()):Jt<0},Ye.precision=function(de){return arguments.length?(De=bu(Qe,Pe=de*de),dn()):v(Pe)},Ye.fitExtent=function(de,Je){return Ir(Ye,de,Je)},Ye.fitSize=function(de,Je){return uo(Ye,de,Je)},Ye.fitWidth=function(de,Je){return so(Ye,de,Je)},Ye.fitHeight=function(de,Je){return fo(Ye,de,Je)};function Cn(){var de=wu(P,0,0,Ht,Jt,Wt).apply(null,c(_t,Ct)),Je=(Wt?wu:sl)(P,_-de[0],G-de[1],Ht,Jt,Wt);return Rt=gt(Lt,Bt,Qt),Qe=cn(c,Je),hn=cn(Rt,Qe),De=bu(Qe,Pe),dn()}function dn(){return sn=mn=null,Ye}return function(){return c=i.apply(this,arguments),Ye.invert=c.invert&&On,Cn()}}function lo(i){var c=0,P=I/3,_=co(i),G=_(c,P);return G.parallels=function(_t){return arguments.length?_(c=_t[0]*it,P=_t[1]*it):[c*C,P*C]},G}function fl(i){var c=vt(i);function P(_,G){return[_*c,V(G)/c]}return P.invert=function(_,G){return[_/c,j(G*c)]},P}function _u(i,c){var P=V(i),_=(P+V(c))/2;if(at(_)<F)return fl(i);var G=1+P*(2*_-P),_t=v(G)/_;function Ct(Lt,Bt){var Qt=v(G-2*_*V(Bt))/_;return[Qt*V(Lt*=_),_t-Qt*vt(Lt)]}return Ct.invert=function(Lt,Bt){var Qt=_t-Bt,Rt=Pt(Lt,at(Qt))*h(Qt);return Qt*_<0&&(Rt-=I*h(Lt)*h(Qt)),[Rt/_,j((G-(Lt*Lt+Qt*Qt)*_*_)/(2*_))]},Ct}function qr(){return lo(_u).scale(155.424).center([0,33.6442])}function xu(){return qr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function cl(i){var c=i.length;return{point:function(P,_){for(var G=-1;++G<c;)i[G].point(P,_)},sphere:function(){for(var P=-1;++P<c;)i[P].sphere()},lineStart:function(){for(var P=-1;++P<c;)i[P].lineStart()},lineEnd:function(){for(var P=-1;++P<c;)i[P].lineEnd()},polygonStart:function(){for(var P=-1;++P<c;)i[P].polygonStart()},polygonEnd:function(){for(var P=-1;++P<c;)i[P].polygonEnd()}}}function ll(){var i,c,P=xu(),_,G=qr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),_t,Ct=qr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Lt,Bt,Qt={point:function(Ht,Jt){Bt=[Ht,Jt]}};function Rt(Ht){var Jt=Ht[0],ae=Ht[1];return Bt=null,_.point(Jt,ae),Bt||(_t.point(Jt,ae),Bt)||(Lt.point(Jt,ae),Bt)}Rt.invert=function(Ht){var Jt=P.scale(),ae=P.translate(),Se=(Ht[0]-ae[0])/Jt,_e=(Ht[1]-ae[1])/Jt;return(_e>=.12&&_e<.234&&Se>=-.425&&Se<-.214?G:_e>=.166&&_e<.234&&Se>=-.214&&Se<-.115?Ct:P).invert(Ht)},Rt.stream=function(Ht){return i&&c===Ht?i:i=cl([P.stream(c=Ht),G.stream(Ht),Ct.stream(Ht)])},Rt.precision=function(Ht){return arguments.length?(P.precision(Ht),G.precision(Ht),Ct.precision(Ht),Wt()):P.precision()},Rt.scale=function(Ht){return arguments.length?(P.scale(Ht),G.scale(Ht*.35),Ct.scale(Ht),Rt.translate(P.translate())):P.scale()},Rt.translate=function(Ht){if(!arguments.length)return P.translate();var Jt=P.scale(),ae=+Ht[0],Se=+Ht[1];return _=P.translate(Ht).clipExtent([[ae-.455*Jt,Se-.238*Jt],[ae+.455*Jt,Se+.238*Jt]]).stream(Qt),_t=G.translate([ae-.307*Jt,Se+.201*Jt]).clipExtent([[ae-.425*Jt+F,Se+.12*Jt+F],[ae-.214*Jt-F,Se+.234*Jt-F]]).stream(Qt),Lt=Ct.translate([ae-.205*Jt,Se+.212*Jt]).clipExtent([[ae-.214*Jt+F,Se+.166*Jt+F],[ae-.115*Jt-F,Se+.234*Jt-F]]).stream(Qt),Wt()},Rt.fitExtent=function(Ht,Jt){return Ir(Rt,Ht,Jt)},Rt.fitSize=function(Ht,Jt){return uo(Rt,Ht,Jt)},Rt.fitWidth=function(Ht,Jt){return so(Rt,Ht,Jt)},Rt.fitHeight=function(Ht,Jt){return fo(Rt,Ht,Jt)};function Wt(){return i=c=null,Rt}return Rt.scale(1070)}function Mu(i){return function(c,P){var _=vt(c),G=vt(P),_t=i(_*G);return[_t*G*V(c),_t*V(P)]}}function ur(i){return function(c,P){var _=v(c*c+P*P),G=i(_),_t=V(G),Ct=vt(G);return[Pt(c*_t,_*Ct),j(_&&P*_t/_)]}}var ho=Mu(function(i){return v(2/(1+i))});ho.invert=ur(function(i){return 2*j(i/2)});function hl(){return ni(ho).scale(124.75).clipAngle(180-.001)}var po=Mu(function(i){return(i=D(i))&&i/V(i)});po.invert=ur(function(i){return i});function dl(){return ni(po).scale(79.4188).clipAngle(180-.001)}function sr(i,c){return[i,et(x((E+c)/2))]}sr.invert=function(i,c){return[i,2*lt(kt(c))-E]};function pl(){return Su(sr).scale(961/Y)}function Su(i){var c=ni(i),P=c.center,_=c.scale,G=c.translate,_t=c.clipExtent,Ct=null,Lt,Bt,Qt;c.scale=function(Wt){return arguments.length?(_(Wt),Rt()):_()},c.translate=function(Wt){return arguments.length?(G(Wt),Rt()):G()},c.center=function(Wt){return arguments.length?(P(Wt),Rt()):P()},c.clipExtent=function(Wt){return arguments.length?(Wt==null?Ct=Lt=Bt=Qt=null:(Ct=+Wt[0][0],Lt=+Wt[0][1],Bt=+Wt[1][0],Qt=+Wt[1][1]),Rt()):Ct==null?null:[[Ct,Lt],[Bt,Qt]]};function Rt(){var Wt=I*_(),Ht=c(we(c.rotate()).invert([0,0]));return _t(Ct==null?[[Ht[0]-Wt,Ht[1]-Wt],[Ht[0]+Wt,Ht[1]+Wt]]:i===sr?[[Math.max(Ht[0]-Wt,Ct),Lt],[Math.min(Ht[0]+Wt,Bt),Qt]]:[[Ct,Math.max(Ht[1]-Wt,Lt)],[Bt,Math.min(Ht[1]+Wt,Qt)]])}return Rt()}function Lr(i){return x((E+i)/2)}function ku(i,c){var P=vt(i),_=i===c?V(i):et(P/vt(c))/et(Lr(c)/Lr(i)),G=P*dt(Lr(i),_)/_;if(!_)return sr;function _t(Ct,Lt){G>0?Lt<-E+F&&(Lt=-E+F):Lt>E-F&&(Lt=E-F);var Bt=G/dt(Lr(Lt),_);return[Bt*V(_*Ct),G-Bt*vt(_*Ct)]}return _t.invert=function(Ct,Lt){var Bt=G-Lt,Qt=h(_)*v(Ct*Ct+Bt*Bt),Rt=Pt(Ct,at(Bt))*h(Bt);return Bt*_<0&&(Rt-=I*h(Ct)*h(Bt)),[Rt/_,2*lt(dt(G/Qt,1/_))-E]},_t}function gl(){return lo(ku).scale(109.5).parallels([30,30])}function fr(i,c){return[i,c]}fr.invert=fr;function ml(){return ni(fr).scale(152.63)}function Cu(i,c){var P=vt(i),_=i===c?V(i):(P-vt(c))/(c-i),G=P/_+i;if(at(_)<F)return fr;function _t(Ct,Lt){var Bt=G-Lt,Qt=_*Ct;return[Bt*V(Qt),G-Bt*vt(Qt)]}return _t.invert=function(Ct,Lt){var Bt=G-Lt,Qt=Pt(Ct,at(Bt))*h(Bt);return Bt*_<0&&(Qt-=I*h(Ct)*h(Bt)),[Qt/_,G-h(_)*v(Ct*Ct+Bt*Bt)]},_t}function yl(){return lo(Cu).scale(131.154).center([0,13.9389])}var cr=1.340264,lr=-.081106,hr=893e-6,dr=.003796,Fr=v(3)/2,vl=12;function go(i,c){var P=j(Fr*V(c)),_=P*P,G=_*_*_;return[i*vt(P)/(Fr*(cr+3*lr*_+G*(7*hr+9*dr*_))),P*(cr+lr*_+G*(hr+dr*_))]}go.invert=function(i,c){for(var P=c,_=P*P,G=_*_*_,_t=0,Ct,Lt,Bt;_t<vl&&(Lt=P*(cr+lr*_+G*(hr+dr*_))-c,Bt=cr+3*lr*_+G*(7*hr+9*dr*_),P-=Ct=Lt/Bt,_=P*P,G=_*_*_,!(at(Ct)<z));++_t);return[Fr*i*(cr+3*lr*_+G*(7*hr+9*dr*_))/vt(P),j(V(P)/Fr)]};function bl(){return ni(go).scale(177.158)}function mo(i,c){var P=vt(c),_=vt(i)*P;return[P*V(i)/_,V(c)/_]}mo.invert=ur(lt);function wl(){return ni(mo).scale(144.049).clipAngle(60)}function _l(){var i=1,c=0,P=0,_=1,G=1,_t=0,Ct,Lt,Bt=null,Qt,Rt,Wt,Ht=1,Jt=1,ae=or({point:function(le,Pe){var De=se([le,Pe]);this.stream.point(De[0],De[1])}}),Se=ui,_e,Ce;function Ae(){return Ht=i*_,Jt=i*G,_e=Ce=null,se}function se(le){var Pe=le[0]*Ht,De=le[1]*Jt;if(_t){var Qe=De*Ct-Pe*Lt;Pe=Pe*Ct+De*Lt,De=Qe}return[Pe+c,De+P]}return se.invert=function(le){var Pe=le[0]-c,De=le[1]-P;if(_t){var Qe=De*Ct+Pe*Lt;Pe=Pe*Ct-De*Lt,De=Qe}return[Pe/Ht,De/Jt]},se.stream=function(le){return _e&&Ce===le?_e:_e=ae(Se(Ce=le))},se.postclip=function(le){return arguments.length?(Se=le,Bt=Qt=Rt=Wt=null,Ae()):Se},se.clipExtent=function(le){return arguments.length?(Se=le==null?(Bt=Qt=Rt=Wt=null,ui):he(Bt=+le[0][0],Qt=+le[0][1],Rt=+le[1][0],Wt=+le[1][1]),Ae()):Bt==null?null:[[Bt,Qt],[Rt,Wt]]},se.scale=function(le){return arguments.length?(i=+le,Ae()):i},se.translate=function(le){return arguments.length?(c=+le[0],P=+le[1],Ae()):[c,P]},se.angle=function(le){return arguments.length?(_t=le%360*it,Lt=V(_t),Ct=vt(_t),Ae()):_t*C},se.reflectX=function(le){return arguments.length?(_=le?-1:1,Ae()):_<0},se.reflectY=function(le){return arguments.length?(G=le?-1:1,Ae()):G<0},se.fitExtent=function(le,Pe){return Ir(se,le,Pe)},se.fitSize=function(le,Pe){return uo(se,le,Pe)},se.fitWidth=function(le,Pe){return so(se,le,Pe)},se.fitHeight=function(le,Pe){return fo(se,le,Pe)},se}function yo(i,c){var P=c*c,_=P*P;return[i*(.8707-.131979*P+_*(-.013791+_*(.003971*P-.001529*_))),c*(1.007226+P*(.015085+_*(-.044475+.028874*P-.005916*_)))]}yo.invert=function(i,c){var P=c,_=25,G;do{var _t=P*P,Ct=_t*_t;P-=G=(P*(1.007226+_t*(.015085+Ct*(-.044475+.028874*_t-.005916*Ct)))-c)/(1.007226+_t*(.015085*3+Ct*(-.044475*7+.028874*9*_t-.005916*11*Ct)))}while(at(G)>F&&--_>0);return[i/(.8707+(_t=P*P)*(-.131979+_t*(-.013791+_t*_t*_t*(.003971-.001529*_t)))),P]};function xl(){return ni(yo).scale(175.295)}function vo(i,c){return[vt(c)*V(i),V(c)]}vo.invert=ur(j);function Ml(){return ni(vo).scale(249.5).clipAngle(90+F)}function bo(i,c){var P=vt(c),_=1+vt(i)*P;return[P*V(i)/_,V(c)/_]}bo.invert=ur(function(i){return 2*lt(i)});function Sl(){return ni(bo).scale(250).clipAngle(142)}function wo(i,c){return[et(x((E+c)/2)),-i]}wo.invert=function(i,c){return[-c,2*lt(kt(i))-E]};function kl(){var i=Su(wo),c=i.center,P=i.rotate;return i.center=function(_){return arguments.length?c([-_[1],_[0]]):(_=c(),[_[1],-_[0]])},i.rotate=function(_){return arguments.length?P([_[0],_[1],_.length>2?_[2]+90:90]):(_=P(),[_[0],_[1],_[2]-90])},P([0,0,90]).scale(159.155)}t.geoAlbers=xu,t.geoAlbersUsa=ll,t.geoArea=r,t.geoAzimuthalEqualArea=hl,t.geoAzimuthalEqualAreaRaw=ho,t.geoAzimuthalEquidistant=dl,t.geoAzimuthalEquidistantRaw=po,t.geoBounds=en,t.geoCentroid=on,t.geoCircle=Re,t.geoClipAntimeridian=q,t.geoClipCircle=Gt,t.geoClipExtent=ke,t.geoClipRectangle=he,t.geoConicConformal=gl,t.geoConicConformalRaw=ku,t.geoConicEqualArea=qr,t.geoConicEqualAreaRaw=_u,t.geoConicEquidistant=yl,t.geoConicEquidistantRaw=Cu,t.geoContains=mi,t.geoDistance=Hn,t.geoEqualEarth=bl,t.geoEqualEarthRaw=go,t.geoEquirectangular=ml,t.geoEquirectangularRaw=fr,t.geoGnomonic=wl,t.geoGnomonicRaw=mo,t.geoGraticule=Si,t.geoGraticule10=Ni,t.geoIdentity=_l,t.geoInterpolate=Ji,t.geoLength=Nn,t.geoMercator=pl,t.geoMercatorRaw=sr,t.geoNaturalEarth1=xl,t.geoNaturalEarth1Raw=yo,t.geoOrthographic=Ml,t.geoOrthographicRaw=vo,t.geoPath=el,t.geoProjection=ni,t.geoProjectionMutator=co,t.geoRotation=we,t.geoStereographic=Sl,t.geoStereographicRaw=bo,t.geoStream=nt,t.geoTransform=nl,t.geoTransverseMercator=kl,t.geoTransverseMercatorRaw=wo,Object.defineProperty(t,"__esModule",{value:!0})})});var fs=Ve((pa,ss)=>{(function(t,e){typeof pa=="object"&&typeof ss<"u"?e(pa):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(pa,function(t){"use strict";function e($,U){return $.parent===U.parent?1:2}function n($){return $.reduce(m,0)/$.length}function m($,U){return $+U.x}function g($){return 1+$.reduce(Q,0)}function Q($,U){return Math.max($,U.y)}function F($){for(var U;U=$.children;)$=U[0];return $}function z($){for(var U;U=$.children;)$=U[U.length-1];return $}function I(){var $=e,U=1,s=1,R=!1;function u(f){var a,p=0;f.eachAfter(function(B){var Et=B.children;Et?(B.x=n(Et),B.y=g(Et)):(B.x=a?p+=$(B,a):0,B.y=0,a=B)});var w=F(f),A=z(f),W=w.x-$(w,A)/2,pt=A.x+$(A,w)/2;return f.eachAfter(R?function(B){B.x=(B.x-f.x)*U,B.y=(f.y-B.y)*s}:function(B){B.x=(B.x-W)/(pt-W)*U,B.y=(1-(f.y?B.y/f.y:1))*s})}return u.separation=function(f){return arguments.length?($=f,u):$},u.size=function(f){return arguments.length?(R=!1,U=+f[0],s=+f[1],u):R?null:[U,s]},u.nodeSize=function(f){return arguments.length?(R=!0,U=+f[0],s=+f[1],u):R?[U,s]:null},u}function E($){var U=0,s=$.children,R=s&&s.length;if(!R)U=1;else for(;--R>=0;)U+=s[R].value;$.value=U}function T(){return this.eachAfter(E)}function Y($){var U=this,s,R=[U],u,f,a;do for(s=R.reverse(),R=[];U=s.pop();)if($(U),u=U.children,u)for(f=0,a=u.length;f<a;++f)R.push(u[f]);while(R.length);return this}function C($){for(var U=this,s=[U],R,u;U=s.pop();)if($(U),R=U.children,R)for(u=R.length-1;u>=0;--u)s.push(R[u]);return this}function it($){for(var U=this,s=[U],R=[],u,f,a;U=s.pop();)if(R.push(U),u=U.children,u)for(f=0,a=u.length;f<a;++f)s.push(u[f]);for(;U=R.pop();)$(U);return this}function at($){return this.eachAfter(function(U){for(var s=+$(U.data)||0,R=U.children,u=R&&R.length;--u>=0;)s+=R[u].value;U.value=s})}function lt($){return this.eachBefore(function(U){U.children&&U.children.sort($)})}function Pt($){for(var U=this,s=vt(U,$),R=[U];U!==s;)U=U.parent,R.push(U);for(var u=R.length;$!==s;)R.splice(u,0,$),$=$.parent;return R}function vt($,U){if($===U)return $;var s=$.ancestors(),R=U.ancestors(),u=null;for($=s.pop(),U=R.pop();$===U;)u=$,$=s.pop(),U=R.pop();return u}function It(){for(var $=this,U=[$];$=$.parent;)U.push($);return U}function kt(){var $=[];return this.each(function(U){$.push(U)}),$}function et(){var $=[];return this.eachBefore(function(U){U.children||$.push(U)}),$}function dt(){var $=this,U=[];return $.each(function(s){s!==$&&U.push({source:s.parent,target:s})}),U}function V($,U){var s=new j($),R=+$.value&&(s.value=$.value),u,f=[s],a,p,w,A;for(U==null&&(U=v);u=f.pop();)if(R&&(u.value=+u.data.value),(p=U(u.data))&&(A=p.length))for(u.children=new Array(A),w=A-1;w>=0;--w)f.push(a=u.children[w]=new j(p[w])),a.parent=u,a.depth=u.depth+1;return s.eachBefore(D)}function h(){return V(this).eachBefore(x)}function v($){return $.children}function x($){$.data=$.data.data}function D($){var U=0;do $.height=U;while(($=$.parent)&&$.height<++U)}function j($){this.data=$,this.depth=this.height=0,this.parent=null}j.prototype=V.prototype={constructor:j,count:T,each:Y,eachAfter:it,eachBefore:C,sum:at,sort:lt,path:Pt,ancestors:It,descendants:kt,leaves:et,links:dt,copy:h};var mt=Array.prototype.slice;function ot($){for(var U=$.length,s,R;U;)R=Math.random()*U--|0,s=$[U],$[U]=$[R],$[R]=s;return $}function Z($){for(var U=0,s=($=ot(mt.call($))).length,R=[],u,f;U<s;)u=$[U],f&&St(f,u)?++U:(f=nt(R=tt(R,u)),U=0);return f}function tt($,U){var s,R;if(K(U,$))return[U];for(s=0;s<$.length;++s)if(yt(U,$[s])&&K(st($[s],U),$))return[$[s],U];for(s=0;s<$.length-1;++s)for(R=s+1;R<$.length;++R)if(yt(st($[s],$[R]),U)&&yt(st($[s],U),$[R])&&yt(st($[R],U),$[s])&&K(ct($[s],$[R],U),$))return[$[s],$[R],U];throw new Error}function yt($,U){var s=$.r-U.r,R=U.x-$.x,u=U.y-$.y;return s<0||s*s<R*R+u*u}function St($,U){var s=$.r-U.r+1e-6,R=U.x-$.x,u=U.y-$.y;return s>0&&s*s>R*R+u*u}function K($,U){for(var s=0;s<U.length;++s)if(!St($,U[s]))return!1;return!0}function nt($){switch($.length){case 1:return rt($[0]);case 2:return st($[0],$[1]);case 3:return ct($[0],$[1],$[2])}}function rt($){return{x:$.x,y:$.y,r:$.r}}function st($,U){var s=$.x,R=$.y,u=$.r,f=U.x,a=U.y,p=U.r,w=f-s,A=a-R,W=p-u,pt=Math.sqrt(w*w+A*A);return{x:(s+f+w/pt*W)/2,y:(R+a+A/pt*W)/2,r:(pt+u+p)/2}}function ct($,U,s){var R=$.x,u=$.y,f=$.r,a=U.x,p=U.y,w=U.r,A=s.x,W=s.y,pt=s.r,B=R-a,Et=R-A,Ot=u-p,Ut=u-W,ne=w-f,ye=pt-f,be=R*R+u*u-f*f,Ne=be-a*a-p*p+w*w,Ze=be-A*A-W*W+pt*pt,We=Et*Ot-B*Ut,nn=(Ot*Ze-Ut*Ne)/(We*2)-R,pn=(Ut*ne-Ot*ye)/We,fn=(Et*Ne-B*Ze)/(We*2)-u,ze=(B*ye-Et*ne)/We,on=pn*pn+ze*ze-1,rn=2*(f+nn*pn+fn*ze),cn=nn*nn+fn*fn-f*f,L=-(on?(rn+Math.sqrt(rn*rn-4*on*cn))/(2*on):cn/rn);return{x:R+nn+pn*L,y:u+fn+ze*L,r:L}}function wt($,U,s){var R=$.x-U.x,u,f,a=$.y-U.y,p,w,A=R*R+a*a;A?(f=U.r+s.r,f*=f,w=$.r+s.r,w*=w,f>w?(u=(A+w-f)/(2*A),p=Math.sqrt(Math.max(0,w/A-u*u)),s.x=$.x-u*R-p*a,s.y=$.y-u*a+p*R):(u=(A+f-w)/(2*A),p=Math.sqrt(Math.max(0,f/A-u*u)),s.x=U.x+u*R-p*a,s.y=U.y+u*a+p*R)):(s.x=U.x+s.r,s.y=U.y)}function qt($,U){var s=$.r+U.r-1e-6,R=U.x-$.x,u=U.y-$.y;return s>0&&s*s>R*R+u*u}function Xt($){var U=$._,s=$.next._,R=U.r+s.r,u=(U.x*s.r+s.x*U.r)/R,f=(U.y*s.r+s.y*U.r)/R;return u*u+f*f}function zt($){this._=$,this.next=null,this.previous=null}function ee($){if(!(u=$.length))return 0;var U,s,R,u,f,a,p,w,A,W,pt;if(U=$[0],U.x=0,U.y=0,!(u>1))return U.r;if(s=$[1],U.x=-s.r,s.x=U.r,s.y=0,!(u>2))return U.r+s.r;wt(s,U,R=$[2]),U=new zt(U),s=new zt(s),R=new zt(R),U.next=R.previous=s,s.next=U.previous=R,R.next=s.previous=U;t:for(p=3;p<u;++p){wt(U._,s._,R=$[p]),R=new zt(R),w=s.next,A=U.previous,W=s._.r,pt=U._.r;do if(W<=pt){if(qt(w._,R._)){s=w,U.next=s,s.previous=U,--p;continue t}W+=w._.r,w=w.next}else{if(qt(A._,R._)){U=A,U.next=s,s.previous=U,--p;continue t}pt+=A._.r,A=A.previous}while(w!==A.next);for(R.previous=U,R.next=s,U.next=s.previous=s=R,f=Xt(U);(R=R.next)!==s;)(a=Xt(R))<f&&(U=R,f=a);s=U.next}for(U=[s._],R=s;(R=R.next)!==s;)U.push(R._);for(R=Z(U),p=0;p<u;++p)U=$[p],U.x-=R.x,U.y-=R.y;return R.r}function l($){return ee($),$}function S($){return $==null?null:k($)}function k($){if(typeof $!="function")throw new Error;return $}function d(){return 0}function r($){return function(){return $}}function M($){return Math.sqrt($.value)}function H(){var $=null,U=1,s=1,R=d;function u(f){return f.x=U/2,f.y=s/2,$?f.eachBefore(ht($)).eachAfter(J(R,.5)).eachBefore(Tt(1)):f.eachBefore(ht(M)).eachAfter(J(d,1)).eachAfter(J(R,f.r/Math.min(U,s))).eachBefore(Tt(Math.min(U,s)/(2*f.r))),f}return u.radius=function(f){return arguments.length?($=S(f),u):$},u.size=function(f){return arguments.length?(U=+f[0],s=+f[1],u):[U,s]},u.padding=function(f){return arguments.length?(R=typeof f=="function"?f:r(+f),u):R},u}function ht($){return function(U){U.children||(U.r=Math.max(0,+$(U)||0))}}function J($,U){return function(s){if(R=s.children){var R,u,f=R.length,a=$(s)*U||0,p;if(a)for(u=0;u<f;++u)R[u].r+=a;if(p=ee(R),a)for(u=0;u<f;++u)R[u].r-=a;s.r=p+a}}}function Tt($){return function(U){var s=U.parent;U.r*=$,s&&(U.x=s.x+$*U.x,U.y=s.y+$*U.y)}}function $t($){$.x0=Math.round($.x0),$.y0=Math.round($.y0),$.x1=Math.round($.x1),$.y1=Math.round($.y1)}function Nt($,U,s,R,u){for(var f=$.children,a,p=-1,w=f.length,A=$.value&&(R-U)/$.value;++p<w;)a=f[p],a.y0=s,a.y1=u,a.x0=U,a.x1=U+=a.value*A}function Ft(){var $=1,U=1,s=0,R=!1;function u(a){var p=a.height+1;return a.x0=a.y0=s,a.x1=$,a.y1=U/p,a.eachBefore(f(U,p)),R&&a.eachBefore($t),a}function f(a,p){return function(w){w.children&&Nt(w,w.x0,a*(w.depth+1)/p,w.x1,a*(w.depth+2)/p);var A=w.x0,W=w.y0,pt=w.x1-s,B=w.y1-s;pt<A&&(A=pt=(A+pt)/2),B<W&&(W=B=(W+B)/2),w.x0=A,w.y0=W,w.x1=pt,w.y1=B}}return u.round=function(a){return arguments.length?(R=!!a,u):R},u.size=function(a){return arguments.length?($=+a[0],U=+a[1],u):[$,U]},u.padding=function(a){return arguments.length?(s=+a,u):s},u}var te="$",ie={depth:-1},Yt={};function pe($){return $.id}function me($){return $.parentId}function Ee(){var $=pe,U=me;function s(R){var u,f,a=R.length,p,w,A,W=new Array(a),pt,B,Et={};for(f=0;f<a;++f)u=R[f],A=W[f]=new j(u),(pt=$(u,f,R))!=null&&(pt+="")&&(B=te+(A.id=pt),Et[B]=B in Et?Yt:A);for(f=0;f<a;++f)if(A=W[f],pt=U(R[f],f,R),pt==null||!(pt+="")){if(p)throw new Error("multiple roots");p=A}else{if(w=Et[te+pt],!w)throw new Error("missing: "+pt);if(w===Yt)throw new Error("ambiguous: "+pt);w.children?w.children.push(A):w.children=[A],A.parent=w}if(!p)throw new Error("no root");if(p.parent=ie,p.eachBefore(function(Ot){Ot.depth=Ot.parent.depth+1,--a}).eachBefore(D),p.parent=null,a>0)throw new Error("cycle");return p}return s.id=function(R){return arguments.length?($=k(R),s):$},s.parentId=function(R){return arguments.length?(U=k(R),s):U},s}function b($,U){return $.parent===U.parent?1:2}function N($){var U=$.children;return U?U[0]:$.t}function Mt($){var U=$.children;return U?U[U.length-1]:$.t}function Kt($,U,s){var R=s/(U.i-$.i);U.c-=R,U.s+=s,$.c+=R,U.z+=s,U.m+=s}function Dt($){for(var U=0,s=0,R=$.children,u=R.length,f;--u>=0;)f=R[u],f.z+=U,f.m+=U,U+=f.s+(s+=f.c)}function y($,U,s){return $.a.parent===U.parent?$.a:s}function X($,U){this._=$,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=U}X.prototype=Object.create(j.prototype);function xt($){for(var U=new X($,0),s,R=[U],u,f,a,p;s=R.pop();)if(f=s._.children)for(s.children=new Array(p=f.length),a=p-1;a>=0;--a)R.push(u=s.children[a]=new X(f[a],a)),u.parent=s;return(U.parent=new X(null,0)).children=[U],U}function jt(){var $=b,U=1,s=1,R=null;function u(A){var W=xt(A);if(W.eachAfter(f),W.parent.m=-W.z,W.eachBefore(a),R)A.eachBefore(w);else{var pt=A,B=A,Et=A;A.eachBefore(function(be){be.x<pt.x&&(pt=be),be.x>B.x&&(B=be),be.depth>Et.depth&&(Et=be)});var Ot=pt===B?1:$(pt,B)/2,Ut=Ot-pt.x,ne=U/(B.x+Ot+Ut),ye=s/(Et.depth||1);A.eachBefore(function(be){be.x=(be.x+Ut)*ne,be.y=be.depth*ye})}return A}function f(A){var W=A.children,pt=A.parent.children,B=A.i?pt[A.i-1]:null;if(W){Dt(A);var Et=(W[0].z+W[W.length-1].z)/2;B?(A.z=B.z+$(A._,B._),A.m=A.z-Et):A.z=Et}else B&&(A.z=B.z+$(A._,B._));A.parent.A=p(A,B,A.parent.A||pt[0])}function a(A){A._.x=A.z+A.parent.m,A.m+=A.parent.m}function p(A,W,pt){if(W){for(var B=A,Et=A,Ot=W,Ut=B.parent.children[0],ne=B.m,ye=Et.m,be=Ot.m,Ne=Ut.m,Ze;Ot=Mt(Ot),B=N(B),Ot&&B;)Ut=N(Ut),Et=Mt(Et),Et.a=A,Ze=Ot.z+be-B.z-ne+$(Ot._,B._),Ze>0&&(Kt(y(Ot,A,pt),A,Ze),ne+=Ze,ye+=Ze),be+=Ot.m,ne+=B.m,Ne+=Ut.m,ye+=Et.m;Ot&&!Mt(Et)&&(Et.t=Ot,Et.m+=be-ye),B&&!N(Ut)&&(Ut.t=B,Ut.m+=ne-Ne,pt=A)}return pt}function w(A){A.x*=U,A.y=A.depth*s}return u.separation=function(A){return arguments.length?($=A,u):$},u.size=function(A){return arguments.length?(R=!1,U=+A[0],s=+A[1],u):R?null:[U,s]},u.nodeSize=function(A){return arguments.length?(R=!0,U=+A[0],s=+A[1],u):R?[U,s]:null},u}function re($,U,s,R,u){for(var f=$.children,a,p=-1,w=f.length,A=$.value&&(u-s)/$.value;++p<w;)a=f[p],a.x0=U,a.x1=R,a.y0=s,a.y1=s+=a.value*A}var oe=(1+Math.sqrt(5))/2;function Me($,U,s,R,u,f){for(var a=[],p=U.children,w,A,W=0,pt=0,B=p.length,Et,Ot,Ut=U.value,ne,ye,be,Ne,Ze,We,nn;W<B;){Et=u-s,Ot=f-R;do ne=p[pt++].value;while(!ne&&pt<B);for(ye=be=ne,We=Math.max(Ot/Et,Et/Ot)/(Ut*$),nn=ne*ne*We,Ze=Math.max(be/nn,nn/ye);pt<B;++pt){if(ne+=A=p[pt].value,A<ye&&(ye=A),A>be&&(be=A),nn=ne*ne*We,Ne=Math.max(be/nn,nn/ye),Ne>Ze){ne-=A;break}Ze=Ne}a.push(w={value:ne,dice:Et<Ot,children:p.slice(W,pt)}),w.dice?Nt(w,s,R,u,Ut?R+=Ot*ne/Ut:f):re(w,s,R,Ut?s+=Et*ne/Ut:u,f),Ut-=ne,W=pt}return a}var ve=function $(U){function s(R,u,f,a,p){Me(U,R,u,f,a,p)}return s.ratio=function(R){return $((R=+R)>1?R:1)},s}(oe);function Fe(){var $=ve,U=!1,s=1,R=1,u=[0],f=d,a=d,p=d,w=d,A=d;function W(B){return B.x0=B.y0=0,B.x1=s,B.y1=R,B.eachBefore(pt),u=[0],U&&B.eachBefore($t),B}function pt(B){var Et=u[B.depth],Ot=B.x0+Et,Ut=B.y0+Et,ne=B.x1-Et,ye=B.y1-Et;ne<Ot&&(Ot=ne=(Ot+ne)/2),ye<Ut&&(Ut=ye=(Ut+ye)/2),B.x0=Ot,B.y0=Ut,B.x1=ne,B.y1=ye,B.children&&(Et=u[B.depth+1]=f(B)/2,Ot+=A(B)-Et,Ut+=a(B)-Et,ne-=p(B)-Et,ye-=w(B)-Et,ne<Ot&&(Ot=ne=(Ot+ne)/2),ye<Ut&&(Ut=ye=(Ut+ye)/2),$(B,Ot,Ut,ne,ye))}return W.round=function(B){return arguments.length?(U=!!B,W):U},W.size=function(B){return arguments.length?(s=+B[0],R=+B[1],W):[s,R]},W.tile=function(B){return arguments.length?($=k(B),W):$},W.padding=function(B){return arguments.length?W.paddingInner(B).paddingOuter(B):W.paddingInner()},W.paddingInner=function(B){return arguments.length?(f=typeof B=="function"?B:r(+B),W):f},W.paddingOuter=function(B){return arguments.length?W.paddingTop(B).paddingRight(B).paddingBottom(B).paddingLeft(B):W.paddingTop()},W.paddingTop=function(B){return arguments.length?(a=typeof B=="function"?B:r(+B),W):a},W.paddingRight=function(B){return arguments.length?(p=typeof B=="function"?B:r(+B),W):p},W.paddingBottom=function(B){return arguments.length?(w=typeof B=="function"?B:r(+B),W):w},W.paddingLeft=function(B){return arguments.length?(A=typeof B=="function"?B:r(+B),W):A},W}function $e($,U,s,R,u){var f=$.children,a,p=f.length,w,A=new Array(p+1);for(A[0]=w=a=0;a<p;++a)A[a+1]=w+=f[a].value;W(0,p,$.value,U,s,R,u);function W(pt,B,Et,Ot,Ut,ne,ye){if(pt>=B-1){var be=f[pt];be.x0=Ot,be.y0=Ut,be.x1=ne,be.y1=ye;return}for(var Ne=A[pt],Ze=Et/2+Ne,We=pt+1,nn=B-1;We<nn;){var pn=We+nn>>>1;A[pn]<Ze?We=pn+1:nn=pn}Ze-A[We-1]<A[We]-Ze&&pt+1<We&&--We;var fn=A[We]-Ne,ze=Et-fn;if(ne-Ot>ye-Ut){var on=(Ot*ze+ne*fn)/Et;W(pt,We,fn,Ot,Ut,on,ye),W(We,B,ze,on,Ut,ne,ye)}else{var rn=(Ut*ze+ye*fn)/Et;W(pt,We,fn,Ot,Ut,ne,rn),W(We,B,ze,Ot,rn,ne,ye)}}}function en($,U,s,R,u){($.depth&1?re:Nt)($,U,s,R,u)}var Xe=function $(U){function s(R,u,f,a,p){if((w=R._squarify)&&w.ratio===U)for(var w,A,W,pt,B=-1,Et,Ot=w.length,Ut=R.value;++B<Ot;){for(A=w[B],W=A.children,pt=A.value=0,Et=W.length;pt<Et;++pt)A.value+=W[pt].value;A.dice?Nt(A,u,f,a,f+=(p-f)*A.value/Ut):re(A,u,f,u+=(a-u)*A.value/Ut,p),Ut-=A.value}else R._squarify=w=Me(U,R,u,f,a,p),w.ratio=U}return s.ratio=function(R){return $((R=+R)>1?R:1)},s}(oe);t.cluster=I,t.hierarchy=V,t.pack=H,t.packEnclose=Z,t.packSiblings=l,t.partition=Ft,t.stratify=Ee,t.tree=jt,t.treemap=Fe,t.treemapBinary=$e,t.treemapDice=Nt,t.treemapResquarify=Xe,t.treemapSlice=re,t.treemapSliceDice=en,t.treemapSquarify=ve,Object.defineProperty(t,"__esModule",{value:!0})})});var ls=Ve((ga,cs)=>{(function(t,e){typeof ga=="object"&&typeof cs<"u"?e(ga):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(ga,function(t){"use strict";function e(E){for(var T=-1,Y=E.length,C,it=E[Y-1],at=0;++T<Y;)C=it,it=E[T],at+=C[1]*it[0]-C[0]*it[1];return at/2}function n(E){for(var T=-1,Y=E.length,C=0,it=0,at,lt=E[Y-1],Pt,vt=0;++T<Y;)at=lt,lt=E[T],vt+=Pt=at[0]*lt[1]-lt[0]*at[1],C+=(at[0]+lt[0])*Pt,it+=(at[1]+lt[1])*Pt;return vt*=3,[C/vt,it/vt]}function m(E,T,Y){return(T[0]-E[0])*(Y[1]-E[1])-(T[1]-E[1])*(Y[0]-E[0])}function g(E,T){return E[0]-T[0]||E[1]-T[1]}function Q(E){for(var T=E.length,Y=[0,1],C=2,it=2;it<T;++it){for(;C>1&&m(E[Y[C-2]],E[Y[C-1]],E[it])<=0;)--C;Y[C++]=it}return Y.slice(0,C)}function F(E){if((Y=E.length)<3)return null;var T,Y,C=new Array(Y),it=new Array(Y);for(T=0;T<Y;++T)C[T]=[+E[T][0],+E[T][1],T];for(C.sort(g),T=0;T<Y;++T)it[T]=[C[T][0],-C[T][1]];var at=Q(C),lt=Q(it),Pt=lt[0]===at[0],vt=lt[lt.length-1]===at[at.length-1],It=[];for(T=at.length-1;T>=0;--T)It.push(E[C[at[T]][2]]);for(T=+Pt;T<lt.length-vt;++T)It.push(E[C[lt[T]][2]]);return It}function z(E,T){for(var Y=E.length,C=E[Y-1],it=T[0],at=T[1],lt=C[0],Pt=C[1],vt,It,kt=!1,et=0;et<Y;++et)C=E[et],vt=C[0],It=C[1],It>at!=Pt>at&&it<(lt-vt)*(at-It)/(Pt-It)+vt&&(kt=!kt),lt=vt,Pt=It;return kt}function I(E){for(var T=-1,Y=E.length,C=E[Y-1],it,at,lt=C[0],Pt=C[1],vt=0;++T<Y;)it=lt,at=Pt,C=E[T],lt=C[0],Pt=C[1],it-=lt,at-=Pt,vt+=Math.sqrt(it*it+at*at);return vt}t.polygonArea=e,t.polygonCentroid=n,t.polygonContains=z,t.polygonHull=F,t.polygonLength=I,Object.defineProperty(t,"__esModule",{value:!0})})});var ds=Ve((ma,hs)=>{(function(t,e){typeof ma=="object"&&typeof hs<"u"?e(ma):typeof define=="function"&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(ma,function(t){"use strict";function e(){return Math.random()}var n=function I(E){function T(Y,C){return Y=Y==null?0:+Y,C=C==null?1:+C,arguments.length===1?(C=Y,Y=0):C-=Y,function(){return E()*C+Y}}return T.source=I,T}(e),m=function I(E){function T(Y,C){var it,at;return Y=Y==null?0:+Y,C=C==null?1:+C,function(){var lt;if(it!=null)lt=it,it=null;else do it=E()*2-1,lt=E()*2-1,at=it*it+lt*lt;while(!at||at>1);return Y+C*lt*Math.sqrt(-2*Math.log(at)/at)}}return T.source=I,T}(e),g=function I(E){function T(){var Y=m.source(E).apply(this,arguments);return function(){return Math.exp(Y())}}return T.source=I,T}(e),Q=function I(E){function T(Y){return function(){for(var C=0,it=0;it<Y;++it)C+=E();return C}}return T.source=I,T}(e),F=function I(E){function T(Y){var C=Q.source(E)(Y);return function(){return C()/Y}}return T.source=I,T}(e),z=function I(E){function T(Y){return function(){return-Math.log(1-E())/Y}}return T.source=I,T}(e);t.randomUniform=n,t.randomNormal=m,t.randomLogNormal=g,t.randomBates=F,t.randomIrwinHall=Q,t.randomExponential=z,Object.defineProperty(t,"__esModule",{value:!0})})});var va=Ve((ya,ps)=>{(function(t,e){typeof ya=="object"&&typeof ps<"u"?e(ya):typeof define=="function"&&define.amd?define(["exports"],e):(t=t||self,e(t.d3=t.d3||{}))})(ya,function(t){"use strict";var e=new Date,n=new Date;function m(b,N,Mt,Kt){function Dt(y){return b(y=arguments.length===0?new Date:new Date(+y)),y}return Dt.floor=function(y){return b(y=new Date(+y)),y},Dt.ceil=function(y){return b(y=new Date(y-1)),N(y,1),b(y),y},Dt.round=function(y){var X=Dt(y),xt=Dt.ceil(y);return y-X<xt-y?X:xt},Dt.offset=function(y,X){return N(y=new Date(+y),X==null?1:Math.floor(X)),y},Dt.range=function(y,X,xt){var jt=[],re;if(y=Dt.ceil(y),xt=xt==null?1:Math.floor(xt),!(y<X)||!(xt>0))return jt;do jt.push(re=new Date(+y)),N(y,xt),b(y);while(re<y&&y<X);return jt},Dt.filter=function(y){return m(function(X){if(X>=X)for(;b(X),!y(X);)X.setTime(X-1)},function(X,xt){if(X>=X)if(xt<0)for(;++xt<=0;)for(;N(X,-1),!y(X););else for(;--xt>=0;)for(;N(X,1),!y(X););})},Mt&&(Dt.count=function(y,X){return e.setTime(+y),n.setTime(+X),b(e),b(n),Math.floor(Mt(e,n))},Dt.every=function(y){return y=Math.floor(y),!isFinite(y)||!(y>0)?null:y>1?Dt.filter(Kt?function(X){return Kt(X)%y===0}:function(X){return Dt.count(0,X)%y===0}):Dt}),Dt}var g=m(function(){},function(b,N){b.setTime(+b+N)},function(b,N){return N-b});g.every=function(b){return b=Math.floor(b),!isFinite(b)||!(b>0)?null:b>1?m(function(N){N.setTime(Math.floor(N/b)*b)},function(N,Mt){N.setTime(+N+Mt*b)},function(N,Mt){return(Mt-N)/b}):g};var Q=g.range,F=1e3,z=6e4,I=36e5,E=864e5,T=6048e5,Y=m(function(b){b.setTime(b-b.getMilliseconds())},function(b,N){b.setTime(+b+N*F)},function(b,N){return(N-b)/F},function(b){return b.getUTCSeconds()}),C=Y.range,it=m(function(b){b.setTime(b-b.getMilliseconds()-b.getSeconds()*F)},function(b,N){b.setTime(+b+N*z)},function(b,N){return(N-b)/z},function(b){return b.getMinutes()}),at=it.range,lt=m(function(b){b.setTime(b-b.getMilliseconds()-b.getSeconds()*F-b.getMinutes()*z)},function(b,N){b.setTime(+b+N*I)},function(b,N){return(N-b)/I},function(b){return b.getHours()}),Pt=lt.range,vt=m(function(b){b.setHours(0,0,0,0)},function(b,N){b.setDate(b.getDate()+N)},function(b,N){return(N-b-(N.getTimezoneOffset()-b.getTimezoneOffset())*z)/E},function(b){return b.getDate()-1}),It=vt.range;function kt(b){return m(function(N){N.setDate(N.getDate()-(N.getDay()+7-b)%7),N.setHours(0,0,0,0)},function(N,Mt){N.setDate(N.getDate()+Mt*7)},function(N,Mt){return(Mt-N-(Mt.getTimezoneOffset()-N.getTimezoneOffset())*z)/T})}var et=kt(0),dt=kt(1),V=kt(2),h=kt(3),v=kt(4),x=kt(5),D=kt(6),j=et.range,mt=dt.range,ot=V.range,Z=h.range,tt=v.range,yt=x.range,St=D.range,K=m(function(b){b.setDate(1),b.setHours(0,0,0,0)},function(b,N){b.setMonth(b.getMonth()+N)},function(b,N){return N.getMonth()-b.getMonth()+(N.getFullYear()-b.getFullYear())*12},function(b){return b.getMonth()}),nt=K.range,rt=m(function(b){b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,N){b.setFullYear(b.getFullYear()+N)},function(b,N){return N.getFullYear()-b.getFullYear()},function(b){return b.getFullYear()});rt.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:m(function(N){N.setFullYear(Math.floor(N.getFullYear()/b)*b),N.setMonth(0,1),N.setHours(0,0,0,0)},function(N,Mt){N.setFullYear(N.getFullYear()+Mt*b)})};var st=rt.range,ct=m(function(b){b.setUTCSeconds(0,0)},function(b,N){b.setTime(+b+N*z)},function(b,N){return(N-b)/z},function(b){return b.getUTCMinutes()}),wt=ct.range,qt=m(function(b){b.setUTCMinutes(0,0,0)},function(b,N){b.setTime(+b+N*I)},function(b,N){return(N-b)/I},function(b){return b.getUTCHours()}),Xt=qt.range,zt=m(function(b){b.setUTCHours(0,0,0,0)},function(b,N){b.setUTCDate(b.getUTCDate()+N)},function(b,N){return(N-b)/E},function(b){return b.getUTCDate()-1}),ee=zt.range;function l(b){return m(function(N){N.setUTCDate(N.getUTCDate()-(N.getUTCDay()+7-b)%7),N.setUTCHours(0,0,0,0)},function(N,Mt){N.setUTCDate(N.getUTCDate()+Mt*7)},function(N,Mt){return(Mt-N)/T})}var S=l(0),k=l(1),d=l(2),r=l(3),M=l(4),H=l(5),ht=l(6),J=S.range,Tt=k.range,$t=d.range,Nt=r.range,Ft=M.range,te=H.range,ie=ht.range,Yt=m(function(b){b.setUTCDate(1),b.setUTCHours(0,0,0,0)},function(b,N){b.setUTCMonth(b.getUTCMonth()+N)},function(b,N){return N.getUTCMonth()-b.getUTCMonth()+(N.getUTCFullYear()-b.getUTCFullYear())*12},function(b){return b.getUTCMonth()}),pe=Yt.range,me=m(function(b){b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,N){b.setUTCFullYear(b.getUTCFullYear()+N)},function(b,N){return N.getUTCFullYear()-b.getUTCFullYear()},function(b){return b.getUTCFullYear()});me.every=function(b){return!isFinite(b=Math.floor(b))||!(b>0)?null:m(function(N){N.setUTCFullYear(Math.floor(N.getUTCFullYear()/b)*b),N.setUTCMonth(0,1),N.setUTCHours(0,0,0,0)},function(N,Mt){N.setUTCFullYear(N.getUTCFullYear()+Mt*b)})};var Ee=me.range;t.timeDay=vt,t.timeDays=It,t.timeFriday=x,t.timeFridays=yt,t.timeHour=lt,t.timeHours=Pt,t.timeInterval=m,t.timeMillisecond=g,t.timeMilliseconds=Q,t.timeMinute=it,t.timeMinutes=at,t.timeMonday=dt,t.timeMondays=mt,t.timeMonth=K,t.timeMonths=nt,t.timeSaturday=D,t.timeSaturdays=St,t.timeSecond=Y,t.timeSeconds=C,t.timeSunday=et,t.timeSundays=j,t.timeThursday=v,t.timeThursdays=tt,t.timeTuesday=V,t.timeTuesdays=ot,t.timeWednesday=h,t.timeWednesdays=Z,t.timeWeek=et,t.timeWeeks=j,t.timeYear=rt,t.timeYears=st,t.utcDay=zt,t.utcDays=ee,t.utcFriday=H,t.utcFridays=te,t.utcHour=qt,t.utcHours=Xt,t.utcMillisecond=g,t.utcMilliseconds=Q,t.utcMinute=ct,t.utcMinutes=wt,t.utcMonday=k,t.utcMondays=Tt,t.utcMonth=Yt,t.utcMonths=pe,t.utcSaturday=ht,t.utcSaturdays=ie,t.utcSecond=Y,t.utcSeconds=C,t.utcSunday=S,t.utcSundays=J,t.utcThursday=M,t.utcThursdays=Ft,t.utcTuesday=d,t.utcTuesdays=$t,t.utcWednesday=r,t.utcWednesdays=Nt,t.utcWeek=S,t.utcWeeks=J,t.utcYear=me,t.utcYears=Ee,Object.defineProperty(t,"__esModule",{value:!0})})});var Ao=Ve((ba,gs)=>{(function(t,e){typeof ba=="object"&&typeof gs<"u"?e(ba,va()):typeof define=="function"&&define.amd?define(["exports","d3-time"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(ba,function(t,e){"use strict";function n(u){if(0<=u.y&&u.y<100){var f=new Date(-1,u.m,u.d,u.H,u.M,u.S,u.L);return f.setFullYear(u.y),f}return new Date(u.y,u.m,u.d,u.H,u.M,u.S,u.L)}function m(u){if(0<=u.y&&u.y<100){var f=new Date(Date.UTC(-1,u.m,u.d,u.H,u.M,u.S,u.L));return f.setUTCFullYear(u.y),f}return new Date(Date.UTC(u.y,u.m,u.d,u.H,u.M,u.S,u.L))}function g(u,f,a){return{y:u,m:f,d:a,H:0,M:0,S:0,L:0}}function Q(u){var f=u.dateTime,a=u.date,p=u.time,w=u.periods,A=u.days,W=u.shortDays,pt=u.months,B=u.shortMonths,Et=C(w),Ot=it(w),Ut=C(A),ne=it(A),ye=C(W),be=it(W),Ne=C(pt),Ze=it(pt),We=C(B),nn=it(B),pn={a:Re,A:qe,b:Ue,B:yn,c:null,d:K,e:K,f:wt,g:H,G:J,H:nt,I:rt,j:st,L:ct,m:qt,M:Xt,p:An,q:gn,Q:ve,s:Fe,S:zt,u:ee,U:l,V:k,w:d,W:r,x:null,X:null,y:M,Y:ht,Z:Tt,"%":Me},fn={a:Bn,A:Kn,b:ri,B:gi,c:null,d:$t,e:$t,f:Yt,g:xt,G:re,H:Nt,I:Ft,j:te,L:ie,m:pe,M:me,p:o,q:O,Q:ve,s:Fe,S:Ee,u:b,U:N,V:Kt,w:Dt,W:y,x:null,X:null,y:X,Y:jt,Z:oe,"%":Me},ze={a:gt,A:Zt,b:ue,B:fe,c:we,d:v,e:v,f:Z,g:et,G:kt,H:D,I:D,j:x,L:ot,m:h,M:j,p:L,q:V,Q:yt,s:St,S:mt,u:lt,U:Pt,V:vt,w:at,W:It,x:Oe,X:xe,y:et,Y:kt,Z:dt,"%":tt};pn.x=on(a,pn),pn.X=on(p,pn),pn.c=on(f,pn),fn.x=on(a,fn),fn.X=on(p,fn),fn.c=on(f,fn);function on(q,ut){return function(At){var ft=[],Gt=-1,bt=0,Vt=q.length,ce,he,ke;for(At instanceof Date||(At=new Date(+At));++Gt<Vt;)q.charCodeAt(Gt)===37&&(ft.push(q.slice(bt,Gt)),(he=F[ce=q.charAt(++Gt)])!=null?ce=q.charAt(++Gt):he=ce==="e"?" ":"0",(ke=ut[ce])&&(ce=ke(At,he)),ft.push(ce),bt=Gt+1);return ft.push(q.slice(bt,Gt)),ft.join("")}}function rn(q,ut){return function(At){var ft=g(1900,void 0,1),Gt=cn(ft,q,At+="",0),bt,Vt;if(Gt!=At.length)return null;if("Q"in ft)return new Date(ft.Q);if("s"in ft)return new Date(ft.s*1e3+("L"in ft?ft.L:0));if(ut&&!("Z"in ft)&&(ft.Z=0),"p"in ft&&(ft.H=ft.H%12+ft.p*12),ft.m===void 0&&(ft.m="q"in ft?ft.q:0),"V"in ft){if(ft.V<1||ft.V>53)return null;"w"in ft||(ft.w=1),"Z"in ft?(bt=m(g(ft.y,0,1)),Vt=bt.getUTCDay(),bt=Vt>4||Vt===0?e.utcMonday.ceil(bt):e.utcMonday(bt),bt=e.utcDay.offset(bt,(ft.V-1)*7),ft.y=bt.getUTCFullYear(),ft.m=bt.getUTCMonth(),ft.d=bt.getUTCDate()+(ft.w+6)%7):(bt=n(g(ft.y,0,1)),Vt=bt.getDay(),bt=Vt>4||Vt===0?e.timeMonday.ceil(bt):e.timeMonday(bt),bt=e.timeDay.offset(bt,(ft.V-1)*7),ft.y=bt.getFullYear(),ft.m=bt.getMonth(),ft.d=bt.getDate()+(ft.w+6)%7)}else("W"in ft||"U"in ft)&&("w"in ft||(ft.w="u"in ft?ft.u%7:"W"in ft?1:0),Vt="Z"in ft?m(g(ft.y,0,1)).getUTCDay():n(g(ft.y,0,1)).getDay(),ft.m=0,ft.d="W"in ft?(ft.w+6)%7+ft.W*7-(Vt+5)%7:ft.w+ft.U*7-(Vt+6)%7);return"Z"in ft?(ft.H+=ft.Z/100|0,ft.M+=ft.Z%100,m(ft)):n(ft)}}function cn(q,ut,At,ft){for(var Gt=0,bt=ut.length,Vt=At.length,ce,he;Gt<bt;){if(ft>=Vt)return-1;if(ce=ut.charCodeAt(Gt++),ce===37){if(ce=ut.charAt(Gt++),he=ze[ce in F?ut.charAt(Gt++):ce],!he||(ft=he(q,At,ft))<0)return-1}else if(ce!=At.charCodeAt(ft++))return-1}return ft}function L(q,ut,At){var ft=Et.exec(ut.slice(At));return ft?(q.p=Ot[ft[0].toLowerCase()],At+ft[0].length):-1}function gt(q,ut,At){var ft=ye.exec(ut.slice(At));return ft?(q.w=be[ft[0].toLowerCase()],At+ft[0].length):-1}function Zt(q,ut,At){var ft=Ut.exec(ut.slice(At));return ft?(q.w=ne[ft[0].toLowerCase()],At+ft[0].length):-1}function ue(q,ut,At){var ft=We.exec(ut.slice(At));return ft?(q.m=nn[ft[0].toLowerCase()],At+ft[0].length):-1}function fe(q,ut,At){var ft=Ne.exec(ut.slice(At));return ft?(q.m=Ze[ft[0].toLowerCase()],At+ft[0].length):-1}function we(q,ut,At){return cn(q,f,ut,At)}function Oe(q,ut,At){return cn(q,a,ut,At)}function xe(q,ut,At){return cn(q,p,ut,At)}function Re(q){return W[q.getDay()]}function qe(q){return A[q.getDay()]}function Ue(q){return B[q.getMonth()]}function yn(q){return pt[q.getMonth()]}function An(q){return w[+(q.getHours()>=12)]}function gn(q){return 1+~~(q.getMonth()/3)}function Bn(q){return W[q.getUTCDay()]}function Kn(q){return A[q.getUTCDay()]}function ri(q){return B[q.getUTCMonth()]}function gi(q){return pt[q.getUTCMonth()]}function o(q){return w[+(q.getUTCHours()>=12)]}function O(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var ut=on(q+="",pn);return ut.toString=function(){return q},ut},parse:function(q){var ut=rn(q+="",!1);return ut.toString=function(){return q},ut},utcFormat:function(q){var ut=on(q+="",fn);return ut.toString=function(){return q},ut},utcParse:function(q){var ut=rn(q+="",!0);return ut.toString=function(){return q},ut}}}var F={"-":"",_:" ",0:"0"},z=/^\s*\d+/,I=/^%/,E=/[\\^$*+?|[\]().{}]/g;function T(u,f,a){var p=u<0?"-":"",w=(p?-u:u)+"",A=w.length;return p+(A<a?new Array(a-A+1).join(f)+w:w)}function Y(u){return u.replace(E,"\\$&")}function C(u){return new RegExp("^(?:"+u.map(Y).join("|")+")","i")}function it(u){for(var f={},a=-1,p=u.length;++a<p;)f[u[a].toLowerCase()]=a;return f}function at(u,f,a){var p=z.exec(f.slice(a,a+1));return p?(u.w=+p[0],a+p[0].length):-1}function lt(u,f,a){var p=z.exec(f.slice(a,a+1));return p?(u.u=+p[0],a+p[0].length):-1}function Pt(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.U=+p[0],a+p[0].length):-1}function vt(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.V=+p[0],a+p[0].length):-1}function It(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.W=+p[0],a+p[0].length):-1}function kt(u,f,a){var p=z.exec(f.slice(a,a+4));return p?(u.y=+p[0],a+p[0].length):-1}function et(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.y=+p[0]+(+p[0]>68?1900:2e3),a+p[0].length):-1}function dt(u,f,a){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(f.slice(a,a+6));return p?(u.Z=p[1]?0:-(p[2]+(p[3]||"00")),a+p[0].length):-1}function V(u,f,a){var p=z.exec(f.slice(a,a+1));return p?(u.q=p[0]*3-3,a+p[0].length):-1}function h(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.m=p[0]-1,a+p[0].length):-1}function v(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.d=+p[0],a+p[0].length):-1}function x(u,f,a){var p=z.exec(f.slice(a,a+3));return p?(u.m=0,u.d=+p[0],a+p[0].length):-1}function D(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.H=+p[0],a+p[0].length):-1}function j(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.M=+p[0],a+p[0].length):-1}function mt(u,f,a){var p=z.exec(f.slice(a,a+2));return p?(u.S=+p[0],a+p[0].length):-1}function ot(u,f,a){var p=z.exec(f.slice(a,a+3));return p?(u.L=+p[0],a+p[0].length):-1}function Z(u,f,a){var p=z.exec(f.slice(a,a+6));return p?(u.L=Math.floor(p[0]/1e3),a+p[0].length):-1}function tt(u,f,a){var p=I.exec(f.slice(a,a+1));return p?a+p[0].length:-1}function yt(u,f,a){var p=z.exec(f.slice(a));return p?(u.Q=+p[0],a+p[0].length):-1}function St(u,f,a){var p=z.exec(f.slice(a));return p?(u.s=+p[0],a+p[0].length):-1}function K(u,f){return T(u.getDate(),f,2)}function nt(u,f){return T(u.getHours(),f,2)}function rt(u,f){return T(u.getHours()%12||12,f,2)}function st(u,f){return T(1+e.timeDay.count(e.timeYear(u),u),f,3)}function ct(u,f){return T(u.getMilliseconds(),f,3)}function wt(u,f){return ct(u,f)+"000"}function qt(u,f){return T(u.getMonth()+1,f,2)}function Xt(u,f){return T(u.getMinutes(),f,2)}function zt(u,f){return T(u.getSeconds(),f,2)}function ee(u){var f=u.getDay();return f===0?7:f}function l(u,f){return T(e.timeSunday.count(e.timeYear(u)-1,u),f,2)}function S(u){var f=u.getDay();return f>=4||f===0?e.timeThursday(u):e.timeThursday.ceil(u)}function k(u,f){return u=S(u),T(e.timeThursday.count(e.timeYear(u),u)+(e.timeYear(u).getDay()===4),f,2)}function d(u){return u.getDay()}function r(u,f){return T(e.timeMonday.count(e.timeYear(u)-1,u),f,2)}function M(u,f){return T(u.getFullYear()%100,f,2)}function H(u,f){return u=S(u),T(u.getFullYear()%100,f,2)}function ht(u,f){return T(u.getFullYear()%1e4,f,4)}function J(u,f){var a=u.getDay();return u=a>=4||a===0?e.timeThursday(u):e.timeThursday.ceil(u),T(u.getFullYear()%1e4,f,4)}function Tt(u){var f=u.getTimezoneOffset();return(f>0?"-":(f*=-1,"+"))+T(f/60|0,"0",2)+T(f%60,"0",2)}function $t(u,f){return T(u.getUTCDate(),f,2)}function Nt(u,f){return T(u.getUTCHours(),f,2)}function Ft(u,f){return T(u.getUTCHours()%12||12,f,2)}function te(u,f){return T(1+e.utcDay.count(e.utcYear(u),u),f,3)}function ie(u,f){return T(u.getUTCMilliseconds(),f,3)}function Yt(u,f){return ie(u,f)+"000"}function pe(u,f){return T(u.getUTCMonth()+1,f,2)}function me(u,f){return T(u.getUTCMinutes(),f,2)}function Ee(u,f){return T(u.getUTCSeconds(),f,2)}function b(u){var f=u.getUTCDay();return f===0?7:f}function N(u,f){return T(e.utcSunday.count(e.utcYear(u)-1,u),f,2)}function Mt(u){var f=u.getUTCDay();return f>=4||f===0?e.utcThursday(u):e.utcThursday.ceil(u)}function Kt(u,f){return u=Mt(u),T(e.utcThursday.count(e.utcYear(u),u)+(e.utcYear(u).getUTCDay()===4),f,2)}function Dt(u){return u.getUTCDay()}function y(u,f){return T(e.utcMonday.count(e.utcYear(u)-1,u),f,2)}function X(u,f){return T(u.getUTCFullYear()%100,f,2)}function xt(u,f){return u=Mt(u),T(u.getUTCFullYear()%100,f,2)}function jt(u,f){return T(u.getUTCFullYear()%1e4,f,4)}function re(u,f){var a=u.getUTCDay();return u=a>=4||a===0?e.utcThursday(u):e.utcThursday.ceil(u),T(u.getUTCFullYear()%1e4,f,4)}function oe(){return"+0000"}function Me(){return"%"}function ve(u){return+u}function Fe(u){return Math.floor(+u/1e3)}var $e;en({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function en(u){return $e=Q(u),t.timeFormat=$e.format,t.timeParse=$e.parse,t.utcFormat=$e.utcFormat,t.utcParse=$e.utcParse,$e}var Xe="%Y-%m-%dT%H:%M:%S.%LZ";function $(u){return u.toISOString()}var U=Date.prototype.toISOString?$:t.utcFormat(Xe);function s(u){var f=new Date(u);return isNaN(f)?null:f}var R=+new Date("2000-01-01T00:00:00.000Z")?s:t.utcParse(Xe);t.isoFormat=U,t.isoParse=R,t.timeFormatDefaultLocale=en,t.timeFormatLocale=Q,Object.defineProperty(t,"__esModule",{value:!0})})});var ys=Ve((wa,ms)=>{(function(t,e){typeof wa=="object"&&typeof ms<"u"?e(wa,oa(),Bi(),Ti(),Co(),va(),Ao()):typeof define=="function"&&define.amd?define(["exports","d3-collection","d3-array","d3-interpolate","d3-format","d3-time","d3-time-format"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3,t.d3)})(wa,function(t,e,n,m,g,Q,F){"use strict";function z(s,R){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(R).domain(s);break}return this}function I(s,R){switch(arguments.length){case 0:break;case 1:this.interpolator(s);break;default:this.interpolator(R).domain(s);break}return this}var E=Array.prototype,T=E.map,Y=E.slice,C={name:"implicit"};function it(){var s=e.map(),R=[],u=[],f=C;function a(p){var w=p+"",A=s.get(w);if(!A){if(f!==C)return f;s.set(w,A=R.push(p))}return u[(A-1)%u.length]}return a.domain=function(p){if(!arguments.length)return R.slice();R=[],s=e.map();for(var w=-1,A=p.length,W,pt;++w<A;)s.has(pt=(W=p[w])+"")||s.set(pt,R.push(W));return a},a.range=function(p){return arguments.length?(u=Y.call(p),a):u.slice()},a.unknown=function(p){return arguments.length?(f=p,a):f},a.copy=function(){return it(R,u).unknown(f)},z.apply(a,arguments),a}function at(){var s=it().unknown(void 0),R=s.domain,u=s.range,f=[0,1],a,p,w=!1,A=0,W=0,pt=.5;delete s.unknown;function B(){var Et=R().length,Ot=f[1]<f[0],Ut=f[Ot-0],ne=f[1-Ot];a=(ne-Ut)/Math.max(1,Et-A+W*2),w&&(a=Math.floor(a)),Ut+=(ne-Ut-a*(Et-A))*pt,p=a*(1-A),w&&(Ut=Math.round(Ut),p=Math.round(p));var ye=n.range(Et).map(function(be){return Ut+a*be});return u(Ot?ye.reverse():ye)}return s.domain=function(Et){return arguments.length?(R(Et),B()):R()},s.range=function(Et){return arguments.length?(f=[+Et[0],+Et[1]],B()):f.slice()},s.rangeRound=function(Et){return f=[+Et[0],+Et[1]],w=!0,B()},s.bandwidth=function(){return p},s.step=function(){return a},s.round=function(Et){return arguments.length?(w=!!Et,B()):w},s.padding=function(Et){return arguments.length?(A=Math.min(1,W=+Et),B()):A},s.paddingInner=function(Et){return arguments.length?(A=Math.min(1,Et),B()):A},s.paddingOuter=function(Et){return arguments.length?(W=+Et,B()):W},s.align=function(Et){return arguments.length?(pt=Math.max(0,Math.min(1,Et)),B()):pt},s.copy=function(){return at(R(),f).round(w).paddingInner(A).paddingOuter(W).align(pt)},z.apply(B(),arguments)}function lt(s){var R=s.copy;return s.padding=s.paddingOuter,delete s.paddingInner,delete s.paddingOuter,s.copy=function(){return lt(R())},s}function Pt(){return lt(at.apply(null,arguments).paddingInner(1))}function vt(s){return function(){return s}}function It(s){return+s}var kt=[0,1];function et(s){return s}function dt(s,R){return(R-=s=+s)?function(u){return(u-s)/R}:vt(isNaN(R)?NaN:.5)}function V(s){var R=s[0],u=s[s.length-1],f;return R>u&&(f=R,R=u,u=f),function(a){return Math.max(R,Math.min(u,a))}}function h(s,R,u){var f=s[0],a=s[1],p=R[0],w=R[1];return a<f?(f=dt(a,f),p=u(w,p)):(f=dt(f,a),p=u(p,w)),function(A){return p(f(A))}}function v(s,R,u){var f=Math.min(s.length,R.length)-1,a=new Array(f),p=new Array(f),w=-1;for(s[f]<s[0]&&(s=s.slice().reverse(),R=R.slice().reverse());++w<f;)a[w]=dt(s[w],s[w+1]),p[w]=u(R[w],R[w+1]);return function(A){var W=n.bisect(s,A,1,f)-1;return p[W](a[W](A))}}function x(s,R){return R.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}function D(){var s=kt,R=kt,u=m.interpolate,f,a,p,w=et,A,W,pt;function B(){return A=Math.min(s.length,R.length)>2?v:h,W=pt=null,Et}function Et(Ot){return isNaN(Ot=+Ot)?p:(W||(W=A(s.map(f),R,u)))(f(w(Ot)))}return Et.invert=function(Ot){return w(a((pt||(pt=A(R,s.map(f),m.interpolateNumber)))(Ot)))},Et.domain=function(Ot){return arguments.length?(s=T.call(Ot,It),w===et||(w=V(s)),B()):s.slice()},Et.range=function(Ot){return arguments.length?(R=Y.call(Ot),B()):R.slice()},Et.rangeRound=function(Ot){return R=Y.call(Ot),u=m.interpolateRound,B()},Et.clamp=function(Ot){return arguments.length?(w=Ot?V(s):et,Et):w!==et},Et.interpolate=function(Ot){return arguments.length?(u=Ot,B()):u},Et.unknown=function(Ot){return arguments.length?(p=Ot,Et):p},function(Ot,Ut){return f=Ot,a=Ut,B()}}function j(s,R){return D()(s,R)}function mt(s,R,u,f){var a=n.tickStep(s,R,u),p;switch(f=g.formatSpecifier(f??",f"),f.type){case"s":{var w=Math.max(Math.abs(s),Math.abs(R));return f.precision==null&&!isNaN(p=g.precisionPrefix(a,w))&&(f.precision=p),g.formatPrefix(f,w)}case"":case"e":case"g":case"p":case"r":{f.precision==null&&!isNaN(p=g.precisionRound(a,Math.max(Math.abs(s),Math.abs(R))))&&(f.precision=p-(f.type==="e"));break}case"f":case"%":{f.precision==null&&!isNaN(p=g.precisionFixed(a))&&(f.precision=p-(f.type==="%")*2);break}}return g.format(f)}function ot(s){var R=s.domain;return s.ticks=function(u){var f=R();return n.ticks(f[0],f[f.length-1],u??10)},s.tickFormat=function(u,f){var a=R();return mt(a[0],a[a.length-1],u??10,f)},s.nice=function(u){u==null&&(u=10);var f=R(),a=0,p=f.length-1,w=f[a],A=f[p],W;return A<w&&(W=w,w=A,A=W,W=a,a=p,p=W),W=n.tickIncrement(w,A,u),W>0?(w=Math.floor(w/W)*W,A=Math.ceil(A/W)*W,W=n.tickIncrement(w,A,u)):W<0&&(w=Math.ceil(w*W)/W,A=Math.floor(A*W)/W,W=n.tickIncrement(w,A,u)),W>0?(f[a]=Math.floor(w/W)*W,f[p]=Math.ceil(A/W)*W,R(f)):W<0&&(f[a]=Math.ceil(w*W)/W,f[p]=Math.floor(A*W)/W,R(f)),s},s}function Z(){var s=j(et,et);return s.copy=function(){return x(s,Z())},z.apply(s,arguments),ot(s)}function tt(s){var R;function u(f){return isNaN(f=+f)?R:f}return u.invert=u,u.domain=u.range=function(f){return arguments.length?(s=T.call(f,It),u):s.slice()},u.unknown=function(f){return arguments.length?(R=f,u):R},u.copy=function(){return tt(s).unknown(R)},s=arguments.length?T.call(s,It):[0,1],ot(u)}function yt(s,R){s=s.slice();var u=0,f=s.length-1,a=s[u],p=s[f],w;return p<a&&(w=u,u=f,f=w,w=a,a=p,p=w),s[u]=R.floor(a),s[f]=R.ceil(p),s}function St(s){return Math.log(s)}function K(s){return Math.exp(s)}function nt(s){return-Math.log(-s)}function rt(s){return-Math.exp(-s)}function st(s){return isFinite(s)?+("1e"+s):s<0?0:s}function ct(s){return s===10?st:s===Math.E?Math.exp:function(R){return Math.pow(s,R)}}function wt(s){return s===Math.E?Math.log:s===10&&Math.log10||s===2&&Math.log2||(s=Math.log(s),function(R){return Math.log(R)/s})}function qt(s){return function(R){return-s(-R)}}function Xt(s){var R=s(St,K),u=R.domain,f=10,a,p;function w(){return a=wt(f),p=ct(f),u()[0]<0?(a=qt(a),p=qt(p),s(nt,rt)):s(St,K),R}return R.base=function(A){return arguments.length?(f=+A,w()):f},R.domain=function(A){return arguments.length?(u(A),w()):u()},R.ticks=function(A){var W=u(),pt=W[0],B=W[W.length-1],Et;(Et=B<pt)&&(Ot=pt,pt=B,B=Ot);var Ot=a(pt),Ut=a(B),ne,ye,be,Ne=A==null?10:+A,Ze=[];if(!(f%1)&&Ut-Ot<Ne){if(Ot=Math.round(Ot)-1,Ut=Math.round(Ut)+1,pt>0){for(;Ot<Ut;++Ot)for(ye=1,ne=p(Ot);ye<f;++ye)if(be=ne*ye,!(be<pt)){if(be>B)break;Ze.push(be)}}else for(;Ot<Ut;++Ot)for(ye=f-1,ne=p(Ot);ye>=1;--ye)if(be=ne*ye,!(be<pt)){if(be>B)break;Ze.push(be)}}else Ze=n.ticks(Ot,Ut,Math.min(Ut-Ot,Ne)).map(p);return Et?Ze.reverse():Ze},R.tickFormat=function(A,W){if(W==null&&(W=f===10?".0e":","),typeof W!="function"&&(W=g.format(W)),A===1/0)return W;A==null&&(A=10);var pt=Math.max(1,f*A/R.ticks().length);return function(B){var Et=B/p(Math.round(a(B)));return Et*f<f-.5&&(Et*=f),Et<=pt?W(B):""}},R.nice=function(){return u(yt(u(),{floor:function(A){return p(Math.floor(a(A)))},ceil:function(A){return p(Math.ceil(a(A)))}}))},R}function zt(){var s=Xt(D()).domain([1,10]);return s.copy=function(){return x(s,zt()).base(s.base())},z.apply(s,arguments),s}function ee(s){return function(R){return Math.sign(R)*Math.log1p(Math.abs(R/s))}}function l(s){return function(R){return Math.sign(R)*Math.expm1(Math.abs(R))*s}}function S(s){var R=1,u=s(ee(R),l(R));return u.constant=function(f){return arguments.length?s(ee(R=+f),l(R)):R},ot(u)}function k(){var s=S(D());return s.copy=function(){return x(s,k()).constant(s.constant())},z.apply(s,arguments)}function d(s){return function(R){return R<0?-Math.pow(-R,s):Math.pow(R,s)}}function r(s){return s<0?-Math.sqrt(-s):Math.sqrt(s)}function M(s){return s<0?-s*s:s*s}function H(s){var R=s(et,et),u=1;function f(){return u===1?s(et,et):u===.5?s(r,M):s(d(u),d(1/u))}return R.exponent=function(a){return arguments.length?(u=+a,f()):u},ot(R)}function ht(){var s=H(D());return s.copy=function(){return x(s,ht()).exponent(s.exponent())},z.apply(s,arguments),s}function J(){return ht.apply(null,arguments).exponent(.5)}function Tt(){var s=[],R=[],u=[],f;function a(){var w=0,A=Math.max(1,R.length);for(u=new Array(A-1);++w<A;)u[w-1]=n.quantile(s,w/A);return p}function p(w){return isNaN(w=+w)?f:R[n.bisect(u,w)]}return p.invertExtent=function(w){var A=R.indexOf(w);return A<0?[NaN,NaN]:[A>0?u[A-1]:s[0],A<u.length?u[A]:s[s.length-1]]},p.domain=function(w){if(!arguments.length)return s.slice();s=[];for(var A=0,W=w.length,pt;A<W;++A)pt=w[A],pt!=null&&!isNaN(pt=+pt)&&s.push(pt);return s.sort(n.ascending),a()},p.range=function(w){return arguments.length?(R=Y.call(w),a()):R.slice()},p.unknown=function(w){return arguments.length?(f=w,p):f},p.quantiles=function(){return u.slice()},p.copy=function(){return Tt().domain(s).range(R).unknown(f)},z.apply(p,arguments)}function $t(){var s=0,R=1,u=1,f=[.5],a=[0,1],p;function w(W){return W<=W?a[n.bisect(f,W,0,u)]:p}function A(){var W=-1;for(f=new Array(u);++W<u;)f[W]=((W+1)*R-(W-u)*s)/(u+1);return w}return w.domain=function(W){return arguments.length?(s=+W[0],R=+W[1],A()):[s,R]},w.range=function(W){return arguments.length?(u=(a=Y.call(W)).length-1,A()):a.slice()},w.invertExtent=function(W){var pt=a.indexOf(W);return pt<0?[NaN,NaN]:pt<1?[s,f[0]]:pt>=u?[f[u-1],R]:[f[pt-1],f[pt]]},w.unknown=function(W){return arguments.length&&(p=W),w},w.thresholds=function(){return f.slice()},w.copy=function(){return $t().domain([s,R]).range(a).unknown(p)},z.apply(ot(w),arguments)}function Nt(){var s=[.5],R=[0,1],u,f=1;function a(p){return p<=p?R[n.bisect(s,p,0,f)]:u}return a.domain=function(p){return arguments.length?(s=Y.call(p),f=Math.min(s.length,R.length-1),a):s.slice()},a.range=function(p){return arguments.length?(R=Y.call(p),f=Math.min(s.length,R.length-1),a):R.slice()},a.invertExtent=function(p){var w=R.indexOf(p);return[s[w-1],s[w]]},a.unknown=function(p){return arguments.length?(u=p,a):u},a.copy=function(){return Nt().domain(s).range(R).unknown(u)},z.apply(a,arguments)}var Ft=1e3,te=Ft*60,ie=te*60,Yt=ie*24,pe=Yt*7,me=Yt*30,Ee=Yt*365;function b(s){return new Date(s)}function N(s){return s instanceof Date?+s:+new Date(+s)}function Mt(s,R,u,f,a,p,w,A,W){var pt=j(et,et),B=pt.invert,Et=pt.domain,Ot=W(".%L"),Ut=W(":%S"),ne=W("%I:%M"),ye=W("%I %p"),be=W("%a %d"),Ne=W("%b %d"),Ze=W("%B"),We=W("%Y"),nn=[[w,1,Ft],[w,5,5*Ft],[w,15,15*Ft],[w,30,30*Ft],[p,1,te],[p,5,5*te],[p,15,15*te],[p,30,30*te],[a,1,ie],[a,3,3*ie],[a,6,6*ie],[a,12,12*ie],[f,1,Yt],[f,2,2*Yt],[u,1,pe],[R,1,me],[R,3,3*me],[s,1,Ee]];function pn(ze){return(w(ze)<ze?Ot:p(ze)<ze?Ut:a(ze)<ze?ne:f(ze)<ze?ye:R(ze)<ze?u(ze)<ze?be:Ne:s(ze)<ze?Ze:We)(ze)}function fn(ze,on,rn,cn){if(ze==null&&(ze=10),typeof ze=="number"){var L=Math.abs(rn-on)/ze,gt=n.bisector(function(Zt){return Zt[2]}).right(nn,L);gt===nn.length?(cn=n.tickStep(on/Ee,rn/Ee,ze),ze=s):gt?(gt=nn[L/nn[gt-1][2]<nn[gt][2]/L?gt-1:gt],cn=gt[1],ze=gt[0]):(cn=Math.max(n.tickStep(on,rn,ze),1),ze=A)}return cn==null?ze:ze.every(cn)}return pt.invert=function(ze){return new Date(B(ze))},pt.domain=function(ze){return arguments.length?Et(T.call(ze,N)):Et().map(b)},pt.ticks=function(ze,on){var rn=Et(),cn=rn[0],L=rn[rn.length-1],gt=L<cn,Zt;return gt&&(Zt=cn,cn=L,L=Zt),Zt=fn(ze,cn,L,on),Zt=Zt?Zt.range(cn,L+1):[],gt?Zt.reverse():Zt},pt.tickFormat=function(ze,on){return on==null?pn:W(on)},pt.nice=function(ze,on){var rn=Et();return(ze=fn(ze,rn[0],rn[rn.length-1],on))?Et(yt(rn,ze)):pt},pt.copy=function(){return x(pt,Mt(s,R,u,f,a,p,w,A,W))},pt}function Kt(){return z.apply(Mt(Q.timeYear,Q.timeMonth,Q.timeWeek,Q.timeDay,Q.timeHour,Q.timeMinute,Q.timeSecond,Q.timeMillisecond,F.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dt(){return z.apply(Mt(Q.utcYear,Q.utcMonth,Q.utcWeek,Q.utcDay,Q.utcHour,Q.utcMinute,Q.utcSecond,Q.utcMillisecond,F.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function y(){var s=0,R=1,u,f,a,p,w=et,A=!1,W;function pt(B){return isNaN(B=+B)?W:w(a===0?.5:(B=(p(B)-u)*a,A?Math.max(0,Math.min(1,B)):B))}return pt.domain=function(B){return arguments.length?(u=p(s=+B[0]),f=p(R=+B[1]),a=u===f?0:1/(f-u),pt):[s,R]},pt.clamp=function(B){return arguments.length?(A=!!B,pt):A},pt.interpolator=function(B){return arguments.length?(w=B,pt):w},pt.unknown=function(B){return arguments.length?(W=B,pt):W},function(B){return p=B,u=B(s),f=B(R),a=u===f?0:1/(f-u),pt}}function X(s,R){return R.domain(s.domain()).interpolator(s.interpolator()).clamp(s.clamp()).unknown(s.unknown())}function xt(){var s=ot(y()(et));return s.copy=function(){return X(s,xt())},I.apply(s,arguments)}function jt(){var s=Xt(y()).domain([1,10]);return s.copy=function(){return X(s,jt()).base(s.base())},I.apply(s,arguments)}function re(){var s=S(y());return s.copy=function(){return X(s,re()).constant(s.constant())},I.apply(s,arguments)}function oe(){var s=H(y());return s.copy=function(){return X(s,oe()).exponent(s.exponent())},I.apply(s,arguments)}function Me(){return oe.apply(null,arguments).exponent(.5)}function ve(){var s=[],R=et;function u(f){if(!isNaN(f=+f))return R((n.bisect(s,f)-1)/(s.length-1))}return u.domain=function(f){if(!arguments.length)return s.slice();s=[];for(var a=0,p=f.length,w;a<p;++a)w=f[a],w!=null&&!isNaN(w=+w)&&s.push(w);return s.sort(n.ascending),u},u.interpolator=function(f){return arguments.length?(R=f,u):R},u.copy=function(){return ve(R).domain(s)},I.apply(u,arguments)}function Fe(){var s=0,R=.5,u=1,f,a,p,w,A,W=et,pt,B=!1,Et;function Ot(Ut){return isNaN(Ut=+Ut)?Et:(Ut=.5+((Ut=+pt(Ut))-a)*(Ut<a?w:A),W(B?Math.max(0,Math.min(1,Ut)):Ut))}return Ot.domain=function(Ut){return arguments.length?(f=pt(s=+Ut[0]),a=pt(R=+Ut[1]),p=pt(u=+Ut[2]),w=f===a?0:.5/(a-f),A=a===p?0:.5/(p-a),Ot):[s,R,u]},Ot.clamp=function(Ut){return arguments.length?(B=!!Ut,Ot):B},Ot.interpolator=function(Ut){return arguments.length?(W=Ut,Ot):W},Ot.unknown=function(Ut){return arguments.length?(Et=Ut,Ot):Et},function(Ut){return pt=Ut,f=Ut(s),a=Ut(R),p=Ut(u),w=f===a?0:.5/(a-f),A=a===p?0:.5/(p-a),Ot}}function $e(){var s=ot(Fe()(et));return s.copy=function(){return X(s,$e())},I.apply(s,arguments)}function en(){var s=Xt(Fe()).domain([.1,1,10]);return s.copy=function(){return X(s,en()).base(s.base())},I.apply(s,arguments)}function Xe(){var s=S(Fe());return s.copy=function(){return X(s,Xe()).constant(s.constant())},I.apply(s,arguments)}function $(){var s=H(Fe());return s.copy=function(){return X(s,$()).exponent(s.exponent())},I.apply(s,arguments)}function U(){return $.apply(null,arguments).exponent(.5)}t.scaleBand=at,t.scalePoint=Pt,t.scaleIdentity=tt,t.scaleLinear=Z,t.scaleLog=zt,t.scaleSymlog=k,t.scaleOrdinal=it,t.scaleImplicit=C,t.scalePow=ht,t.scaleSqrt=J,t.scaleQuantile=Tt,t.scaleQuantize=$t,t.scaleThreshold=Nt,t.scaleTime=Kt,t.scaleUtc=Dt,t.scaleSequential=xt,t.scaleSequentialLog=jt,t.scaleSequentialPow=oe,t.scaleSequentialSqrt=Me,t.scaleSequentialSymlog=re,t.scaleSequentialQuantile=ve,t.scaleDiverging=$e,t.scaleDivergingLog=en,t.scaleDivergingPow=$,t.scaleDivergingSqrt=U,t.scaleDivergingSymlog=Xe,t.tickFormat=mt,Object.defineProperty(t,"__esModule",{value:!0})})});var bs=Ve((_a,vs)=>{(function(t,e){typeof _a=="object"&&typeof vs<"u"?e(_a,Ti(),vr()):typeof define=="function"&&define.amd?define(["exports","d3-interpolate","d3-color"],e):(t=t||self,e(t.d3=t.d3||{},t.d3,t.d3))})(_a,function(t,e,n){"use strict";function m(f){for(var a=f.length/6|0,p=new Array(a),w=0;w<a;)p[w]="#"+f.slice(w*6,++w*6);return p}var g=m("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Q=m("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),F=m("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),z=m("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),I=m("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),E=m("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),T=m("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Y=m("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C=m("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),it=m("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function at(f){return e.interpolateRgbBasis(f[f.length-1])}var lt=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(m),Pt=at(lt),vt=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(m),It=at(vt),kt=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(m),et=at(kt),dt=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(m),V=at(dt),h=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(m),v=at(h),x=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(m),D=at(x),j=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(m),mt=at(j),ot=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(m),Z=at(ot),tt=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(m),yt=at(tt),St=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(m),K=at(St),nt=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(m),rt=at(nt),st=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(m),ct=at(st),wt=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(m),qt=at(wt),Xt=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(m),zt=at(Xt),ee=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(m),l=at(ee),S=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(m),k=at(S),d=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(m),r=at(d),M=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(m),H=at(M),ht=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(m),J=at(ht),Tt=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(m),$t=at(Tt),Nt=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(m),Ft=at(Nt),te=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(m),ie=at(te),Yt=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(m),pe=at(Yt),me=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(m),Ee=at(me),b=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(m),N=at(b),Mt=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(m),Kt=at(Mt),Dt=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(m),y=at(Dt);function X(f){return f=Math.max(0,Math.min(1,f)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-f*(35.34-f*(2381.73-f*(6402.7-f*(7024.72-f*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+f*(170.73+f*(52.82-f*(131.46-f*(176.58-f*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+f*(442.36-f*(2482.43-f*(6167.24-f*(6614.94-f*2475.67)))))))+")"}var xt=e.interpolateCubehelixLong(n.cubehelix(300,.5,0),n.cubehelix(-240,.5,1)),jt=e.interpolateCubehelixLong(n.cubehelix(-100,.75,.35),n.cubehelix(80,1.5,.8)),re=e.interpolateCubehelixLong(n.cubehelix(260,.75,.35),n.cubehelix(80,1.5,.8)),oe=n.cubehelix();function Me(f){(f<0||f>1)&&(f-=Math.floor(f));var a=Math.abs(f-.5);return oe.h=360*f-100,oe.s=1.5-1.5*a,oe.l=.8-.9*a,oe+""}var ve=n.rgb(),Fe=Math.PI/3,$e=Math.PI*2/3;function en(f){var a;return f=(.5-f)*Math.PI,ve.r=255*(a=Math.sin(f))*a,ve.g=255*(a=Math.sin(f+Fe))*a,ve.b=255*(a=Math.sin(f+$e))*a,ve+""}function Xe(f){return f=Math.max(0,Math.min(1,f)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+f*(1172.33-f*(10793.56-f*(33300.12-f*(38394.49-f*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+f*(557.33+f*(1225.33-f*(3574.96-f*(1073.77+f*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+f*(3211.1-f*(15327.97-f*(27814-f*(22569.18-f*6838.66)))))))+")"}function $(f){var a=f.length;return function(p){return f[Math.max(0,Math.min(a-1,Math.floor(p*a)))]}}var U=$(m("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),s=$(m("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R=$(m("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),u=$(m("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.interpolateBlues=ie,t.interpolateBrBG=Pt,t.interpolateBuGn=K,t.interpolateBuPu=rt,t.interpolateCividis=X,t.interpolateCool=re,t.interpolateCubehelixDefault=xt,t.interpolateGnBu=ct,t.interpolateGreens=pe,t.interpolateGreys=Ee,t.interpolateInferno=R,t.interpolateMagma=s,t.interpolateOrRd=qt,t.interpolateOranges=y,t.interpolatePRGn=It,t.interpolatePiYG=et,t.interpolatePlasma=u,t.interpolatePuBu=l,t.interpolatePuBuGn=zt,t.interpolatePuOr=V,t.interpolatePuRd=k,t.interpolatePurples=N,t.interpolateRainbow=Me,t.interpolateRdBu=v,t.interpolateRdGy=D,t.interpolateRdPu=r,t.interpolateRdYlBu=mt,t.interpolateRdYlGn=Z,t.interpolateReds=Kt,t.interpolateSinebow=en,t.interpolateSpectral=yt,t.interpolateTurbo=Xe,t.interpolateViridis=U,t.interpolateWarm=jt,t.interpolateYlGn=J,t.interpolateYlGnBu=H,t.interpolateYlOrBr=$t,t.interpolateYlOrRd=Ft,t.schemeAccent=Q,t.schemeBlues=te,t.schemeBrBG=lt,t.schemeBuGn=St,t.schemeBuPu=nt,t.schemeCategory10=g,t.schemeDark2=F,t.schemeGnBu=st,t.schemeGreens=Yt,t.schemeGreys=me,t.schemeOrRd=wt,t.schemeOranges=Dt,t.schemePRGn=vt,t.schemePaired=z,t.schemePastel1=I,t.schemePastel2=E,t.schemePiYG=kt,t.schemePuBu=ee,t.schemePuBuGn=Xt,t.schemePuOr=dt,t.schemePuRd=S,t.schemePurples=b,t.schemeRdBu=h,t.schemeRdGy=x,t.schemeRdPu=d,t.schemeRdYlBu=j,t.schemeRdYlGn=ot,t.schemeReds=Mt,t.schemeSet1=T,t.schemeSet2=Y,t.schemeSet3=C,t.schemeSpectral=tt,t.schemeTableau10=it,t.schemeYlGn=ht,t.schemeYlGnBu=M,t.schemeYlOrBr=Tt,t.schemeYlOrRd=Nt,Object.defineProperty(t,"__esModule",{value:!0})})});var _s=Ve((xa,ws)=>{(function(t,e){typeof xa=="object"&&typeof ws<"u"?e(xa,ia()):typeof define=="function"&&define.amd?define(["exports","d3-path"],e):(t=t||self,e(t.d3=t.d3||{},t.d3))})(xa,function(t,e){"use strict";function n(o){return function(){return o}}var m=Math.abs,g=Math.atan2,Q=Math.cos,F=Math.max,z=Math.min,I=Math.sin,E=Math.sqrt,T=1e-12,Y=Math.PI,C=Y/2,it=2*Y;function at(o){return o>1?0:o<-1?Y:Math.acos(o)}function lt(o){return o>=1?C:o<=-1?-C:Math.asin(o)}function Pt(o){return o.innerRadius}function vt(o){return o.outerRadius}function It(o){return o.startAngle}function kt(o){return o.endAngle}function et(o){return o&&o.padAngle}function dt(o,O,q,ut,At,ft,Gt,bt){var Vt=q-o,ce=ut-O,he=Gt-At,ke=bt-ft,Ie=ke*Vt-he*ce;if(!(Ie*Ie<T))return Ie=(he*(O-ft)-ke*(o-At))/Ie,[o+Ie*Vt,O+Ie*ce]}function V(o,O,q,ut,At,ft,Gt){var bt=o-q,Vt=O-ut,ce=(Gt?ft:-ft)/E(bt*bt+Vt*Vt),he=ce*Vt,ke=-ce*bt,Ie=o+he,Ke=O+ke,He=q+he,ln=ut+ke,Ge=(Ie+He)/2,Mn=(Ke+ln)/2,_n=He-Ie,vn=ln-Ke,Sn=_n*_n+vn*vn,Nn=At-ft,Pn=Ie*ln-He*Ke,Qn=(vn<0?-1:1)*E(F(0,Nn*Nn*Sn-Pn*Pn)),Hn=(Pn*vn-_n*Qn)/Sn,Dn=(-Pn*_n-vn*Qn)/Sn,In=(Pn*vn+_n*Qn)/Sn,En=(-Pn*_n+vn*Qn)/Sn,Be=Hn-Ge,un=Dn-Mn,Jn=In-Ge,ai=En-Mn;return Be*Be+un*un>Jn*Jn+ai*ai&&(Hn=In,Dn=En),{cx:Hn,cy:Dn,x01:-he,y01:-ke,x11:Hn*(At/Nn-1),y11:Dn*(At/Nn-1)}}function h(){var o=Pt,O=vt,q=n(0),ut=null,At=It,ft=kt,Gt=et,bt=null;function Vt(){var ce,he,ke=+o.apply(this,arguments),Ie=+O.apply(this,arguments),Ke=At.apply(this,arguments)-C,He=ft.apply(this,arguments)-C,ln=m(He-Ke),Ge=He>Ke;if(bt||(bt=ce=e.path()),Ie<ke&&(he=Ie,Ie=ke,ke=he),!(Ie>T))bt.moveTo(0,0);else if(ln>it-T)bt.moveTo(Ie*Q(Ke),Ie*I(Ke)),bt.arc(0,0,Ie,Ke,He,!Ge),ke>T&&(bt.moveTo(ke*Q(He),ke*I(He)),bt.arc(0,0,ke,He,Ke,Ge));else{var Mn=Ke,_n=He,vn=Ke,Sn=He,Nn=ln,Pn=ln,Qn=Gt.apply(this,arguments)/2,Hn=Qn>T&&(ut?+ut.apply(this,arguments):E(ke*ke+Ie*Ie)),Dn=z(m(Ie-ke)/2,+q.apply(this,arguments)),In=Dn,En=Dn,Be,un;if(Hn>T){var Jn=lt(Hn/ke*I(Qn)),ai=lt(Hn/Ie*I(Qn));(Nn-=Jn*2)>T?(Jn*=Ge?1:-1,vn+=Jn,Sn-=Jn):(Nn=0,vn=Sn=(Ke+He)/2),(Pn-=ai*2)>T?(ai*=Ge?1:-1,Mn+=ai,_n-=ai):(Pn=0,Mn=_n=(Ke+He)/2)}var oi=Ie*Q(Mn),mi=Ie*I(Mn),xi=ke*Q(Sn),Mi=ke*I(Sn);if(Dn>T){var Si=Ie*Q(_n),Ni=Ie*I(_n),Ji=ke*Q(vn),ui=ke*I(vn),Un;if(ln<Y&&(Un=dt(oi,mi,Ji,ui,Si,Ni,xi,Mi))){var ki=oi-Un[0],Di=mi-Un[1],Ii=Si-Un[0],Ci=Ni-Un[1],qi=1/I(at((ki*Ii+Di*Ci)/(E(ki*ki+Di*Di)*E(Ii*Ii+Ci*Ci)))/2),Wn=E(Un[0]*Un[0]+Un[1]*Un[1]);In=z(Dn,(ke-Wn)/(qi-1)),En=z(Dn,(Ie-Wn)/(qi+1))}}Pn>T?En>T?(Be=V(Ji,ui,oi,mi,Ie,En,Ge),un=V(Si,Ni,xi,Mi,Ie,En,Ge),bt.moveTo(Be.cx+Be.x01,Be.cy+Be.y01),En<Dn?bt.arc(Be.cx,Be.cy,En,g(Be.y01,Be.x01),g(un.y01,un.x01),!Ge):(bt.arc(Be.cx,Be.cy,En,g(Be.y01,Be.x01),g(Be.y11,Be.x11),!Ge),bt.arc(0,0,Ie,g(Be.cy+Be.y11,Be.cx+Be.x11),g(un.cy+un.y11,un.cx+un.x11),!Ge),bt.arc(un.cx,un.cy,En,g(un.y11,un.x11),g(un.y01,un.x01),!Ge))):(bt.moveTo(oi,mi),bt.arc(0,0,Ie,Mn,_n,!Ge)):bt.moveTo(oi,mi),!(ke>T)||!(Nn>T)?bt.lineTo(xi,Mi):In>T?(Be=V(xi,Mi,Si,Ni,ke,-In,Ge),un=V(oi,mi,Ji,ui,ke,-In,Ge),bt.lineTo(Be.cx+Be.x01,Be.cy+Be.y01),In<Dn?bt.arc(Be.cx,Be.cy,In,g(Be.y01,Be.x01),g(un.y01,un.x01),!Ge):(bt.arc(Be.cx,Be.cy,In,g(Be.y01,Be.x01),g(Be.y11,Be.x11),!Ge),bt.arc(0,0,ke,g(Be.cy+Be.y11,Be.cx+Be.x11),g(un.cy+un.y11,un.cx+un.x11),Ge),bt.arc(un.cx,un.cy,In,g(un.y11,un.x11),g(un.y01,un.x01),!Ge))):bt.arc(0,0,ke,Sn,vn,Ge)}if(bt.closePath(),ce)return bt=null,ce+""||null}return Vt.centroid=function(){var ce=(+o.apply(this,arguments)+ +O.apply(this,arguments))/2,he=(+At.apply(this,arguments)+ +ft.apply(this,arguments))/2-Y/2;return[Q(he)*ce,I(he)*ce]},Vt.innerRadius=function(ce){return arguments.length?(o=typeof ce=="function"?ce:n(+ce),Vt):o},Vt.outerRadius=function(ce){return arguments.length?(O=typeof ce=="function"?ce:n(+ce),Vt):O},Vt.cornerRadius=function(ce){return arguments.length?(q=typeof ce=="function"?ce:n(+ce),Vt):q},Vt.padRadius=function(ce){return arguments.length?(ut=ce==null?null:typeof ce=="function"?ce:n(+ce),Vt):ut},Vt.startAngle=function(ce){return arguments.length?(At=typeof ce=="function"?ce:n(+ce),Vt):At},Vt.endAngle=function(ce){return arguments.length?(ft=typeof ce=="function"?ce:n(+ce),Vt):ft},Vt.padAngle=function(ce){return arguments.length?(Gt=typeof ce=="function"?ce:n(+ce),Vt):Gt},Vt.context=function(ce){return arguments.length?(bt=ce??null,Vt):bt},Vt}function v(o){this._context=o}v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2;default:this._context.lineTo(o,O);break}}};function x(o){return new v(o)}function D(o){return o[0]}function j(o){return o[1]}function mt(){var o=D,O=j,q=n(!0),ut=null,At=x,ft=null;function Gt(bt){var Vt,ce=bt.length,he,ke=!1,Ie;for(ut==null&&(ft=At(Ie=e.path())),Vt=0;Vt<=ce;++Vt)!(Vt<ce&&q(he=bt[Vt],Vt,bt))===ke&&((ke=!ke)?ft.lineStart():ft.lineEnd()),ke&&ft.point(+o(he,Vt,bt),+O(he,Vt,bt));if(Ie)return ft=null,Ie+""||null}return Gt.x=function(bt){return arguments.length?(o=typeof bt=="function"?bt:n(+bt),Gt):o},Gt.y=function(bt){return arguments.length?(O=typeof bt=="function"?bt:n(+bt),Gt):O},Gt.defined=function(bt){return arguments.length?(q=typeof bt=="function"?bt:n(!!bt),Gt):q},Gt.curve=function(bt){return arguments.length?(At=bt,ut!=null&&(ft=At(ut)),Gt):At},Gt.context=function(bt){return arguments.length?(bt==null?ut=ft=null:ft=At(ut=bt),Gt):ut},Gt}function ot(){var o=D,O=null,q=n(0),ut=j,At=n(!0),ft=null,Gt=x,bt=null;function Vt(he){var ke,Ie,Ke,He=he.length,ln,Ge=!1,Mn,_n=new Array(He),vn=new Array(He);for(ft==null&&(bt=Gt(Mn=e.path())),ke=0;ke<=He;++ke){if(!(ke<He&&At(ln=he[ke],ke,he))===Ge)if(Ge=!Ge)Ie=ke,bt.areaStart(),bt.lineStart();else{for(bt.lineEnd(),bt.lineStart(),Ke=ke-1;Ke>=Ie;--Ke)bt.point(_n[Ke],vn[Ke]);bt.lineEnd(),bt.areaEnd()}Ge&&(_n[ke]=+o(ln,ke,he),vn[ke]=+q(ln,ke,he),bt.point(O?+O(ln,ke,he):_n[ke],ut?+ut(ln,ke,he):vn[ke]))}if(Mn)return bt=null,Mn+""||null}function ce(){return mt().defined(At).curve(Gt).context(ft)}return Vt.x=function(he){return arguments.length?(o=typeof he=="function"?he:n(+he),O=null,Vt):o},Vt.x0=function(he){return arguments.length?(o=typeof he=="function"?he:n(+he),Vt):o},Vt.x1=function(he){return arguments.length?(O=he==null?null:typeof he=="function"?he:n(+he),Vt):O},Vt.y=function(he){return arguments.length?(q=typeof he=="function"?he:n(+he),ut=null,Vt):q},Vt.y0=function(he){return arguments.length?(q=typeof he=="function"?he:n(+he),Vt):q},Vt.y1=function(he){return arguments.length?(ut=he==null?null:typeof he=="function"?he:n(+he),Vt):ut},Vt.lineX0=Vt.lineY0=function(){return ce().x(o).y(q)},Vt.lineY1=function(){return ce().x(o).y(ut)},Vt.lineX1=function(){return ce().x(O).y(q)},Vt.defined=function(he){return arguments.length?(At=typeof he=="function"?he:n(!!he),Vt):At},Vt.curve=function(he){return arguments.length?(Gt=he,ft!=null&&(bt=Gt(ft)),Vt):Gt},Vt.context=function(he){return arguments.length?(he==null?ft=bt=null:bt=Gt(ft=he),Vt):ft},Vt}function Z(o,O){return O<o?-1:O>o?1:O>=o?0:NaN}function tt(o){return o}function yt(){var o=tt,O=Z,q=null,ut=n(0),At=n(it),ft=n(0);function Gt(bt){var Vt,ce=bt.length,he,ke,Ie=0,Ke=new Array(ce),He=new Array(ce),ln=+ut.apply(this,arguments),Ge=Math.min(it,Math.max(-it,At.apply(this,arguments)-ln)),Mn,_n=Math.min(Math.abs(Ge)/ce,ft.apply(this,arguments)),vn=_n*(Ge<0?-1:1),Sn;for(Vt=0;Vt<ce;++Vt)(Sn=He[Ke[Vt]=Vt]=+o(bt[Vt],Vt,bt))>0&&(Ie+=Sn);for(O!=null?Ke.sort(function(Nn,Pn){return O(He[Nn],He[Pn])}):q!=null&&Ke.sort(function(Nn,Pn){return q(bt[Nn],bt[Pn])}),Vt=0,ke=Ie?(Ge-ce*vn)/Ie:0;Vt<ce;++Vt,ln=Mn)he=Ke[Vt],Sn=He[he],Mn=ln+(Sn>0?Sn*ke:0)+vn,He[he]={data:bt[he],index:Vt,value:Sn,startAngle:ln,endAngle:Mn,padAngle:_n};return He}return Gt.value=function(bt){return arguments.length?(o=typeof bt=="function"?bt:n(+bt),Gt):o},Gt.sortValues=function(bt){return arguments.length?(O=bt,q=null,Gt):O},Gt.sort=function(bt){return arguments.length?(q=bt,O=null,Gt):q},Gt.startAngle=function(bt){return arguments.length?(ut=typeof bt=="function"?bt:n(+bt),Gt):ut},Gt.endAngle=function(bt){return arguments.length?(At=typeof bt=="function"?bt:n(+bt),Gt):At},Gt.padAngle=function(bt){return arguments.length?(ft=typeof bt=="function"?bt:n(+bt),Gt):ft},Gt}var St=nt(x);function K(o){this._curve=o}K.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(o,O){this._curve.point(O*Math.sin(o),O*-Math.cos(o))}};function nt(o){function O(q){return new K(o(q))}return O._curve=o,O}function rt(o){var O=o.curve;return o.angle=o.x,delete o.x,o.radius=o.y,delete o.y,o.curve=function(q){return arguments.length?O(nt(q)):O()._curve},o}function st(){return rt(mt().curve(St))}function ct(){var o=ot().curve(St),O=o.curve,q=o.lineX0,ut=o.lineX1,At=o.lineY0,ft=o.lineY1;return o.angle=o.x,delete o.x,o.startAngle=o.x0,delete o.x0,o.endAngle=o.x1,delete o.x1,o.radius=o.y,delete o.y,o.innerRadius=o.y0,delete o.y0,o.outerRadius=o.y1,delete o.y1,o.lineStartAngle=function(){return rt(q())},delete o.lineX0,o.lineEndAngle=function(){return rt(ut())},delete o.lineX1,o.lineInnerRadius=function(){return rt(At())},delete o.lineY0,o.lineOuterRadius=function(){return rt(ft())},delete o.lineY1,o.curve=function(Gt){return arguments.length?O(nt(Gt)):O()._curve},o}function wt(o,O){return[(O=+O)*Math.cos(o-=Math.PI/2),O*Math.sin(o)]}var qt=Array.prototype.slice;function Xt(o){return o.source}function zt(o){return o.target}function ee(o){var O=Xt,q=zt,ut=D,At=j,ft=null;function Gt(){var bt,Vt=qt.call(arguments),ce=O.apply(this,Vt),he=q.apply(this,Vt);if(ft||(ft=bt=e.path()),o(ft,+ut.apply(this,(Vt[0]=ce,Vt)),+At.apply(this,Vt),+ut.apply(this,(Vt[0]=he,Vt)),+At.apply(this,Vt)),bt)return ft=null,bt+""||null}return Gt.source=function(bt){return arguments.length?(O=bt,Gt):O},Gt.target=function(bt){return arguments.length?(q=bt,Gt):q},Gt.x=function(bt){return arguments.length?(ut=typeof bt=="function"?bt:n(+bt),Gt):ut},Gt.y=function(bt){return arguments.length?(At=typeof bt=="function"?bt:n(+bt),Gt):At},Gt.context=function(bt){return arguments.length?(ft=bt??null,Gt):ft},Gt}function l(o,O,q,ut,At){o.moveTo(O,q),o.bezierCurveTo(O=(O+ut)/2,q,O,At,ut,At)}function S(o,O,q,ut,At){o.moveTo(O,q),o.bezierCurveTo(O,q=(q+At)/2,ut,q,ut,At)}function k(o,O,q,ut,At){var ft=wt(O,q),Gt=wt(O,q=(q+At)/2),bt=wt(ut,q),Vt=wt(ut,At);o.moveTo(ft[0],ft[1]),o.bezierCurveTo(Gt[0],Gt[1],bt[0],bt[1],Vt[0],Vt[1])}function d(){return ee(l)}function r(){return ee(S)}function M(){var o=ee(k);return o.angle=o.x,delete o.x,o.radius=o.y,delete o.y,o}var H={draw:function(o,O){var q=Math.sqrt(O/Y);o.moveTo(q,0),o.arc(0,0,q,0,it)}},ht={draw:function(o,O){var q=Math.sqrt(O/5)/2;o.moveTo(-3*q,-q),o.lineTo(-q,-q),o.lineTo(-q,-3*q),o.lineTo(q,-3*q),o.lineTo(q,-q),o.lineTo(3*q,-q),o.lineTo(3*q,q),o.lineTo(q,q),o.lineTo(q,3*q),o.lineTo(-q,3*q),o.lineTo(-q,q),o.lineTo(-3*q,q),o.closePath()}},J=Math.sqrt(1/3),Tt=J*2,$t={draw:function(o,O){var q=Math.sqrt(O/Tt),ut=q*J;o.moveTo(0,-q),o.lineTo(ut,0),o.lineTo(0,q),o.lineTo(-ut,0),o.closePath()}},Nt=.8908130915292852,Ft=Math.sin(Y/10)/Math.sin(7*Y/10),te=Math.sin(it/10)*Ft,ie=-Math.cos(it/10)*Ft,Yt={draw:function(o,O){var q=Math.sqrt(O*Nt),ut=te*q,At=ie*q;o.moveTo(0,-q),o.lineTo(ut,At);for(var ft=1;ft<5;++ft){var Gt=it*ft/5,bt=Math.cos(Gt),Vt=Math.sin(Gt);o.lineTo(Vt*q,-bt*q),o.lineTo(bt*ut-Vt*At,Vt*ut+bt*At)}o.closePath()}},pe={draw:function(o,O){var q=Math.sqrt(O),ut=-q/2;o.rect(ut,ut,q,q)}},me=Math.sqrt(3),Ee={draw:function(o,O){var q=-Math.sqrt(O/(me*3));o.moveTo(0,q*2),o.lineTo(-me*q,-q),o.lineTo(me*q,-q),o.closePath()}},b=-.5,N=Math.sqrt(3)/2,Mt=1/Math.sqrt(12),Kt=(Mt/2+1)*3,Dt={draw:function(o,O){var q=Math.sqrt(O/Kt),ut=q/2,At=q*Mt,ft=ut,Gt=q*Mt+q,bt=-ft,Vt=Gt;o.moveTo(ut,At),o.lineTo(ft,Gt),o.lineTo(bt,Vt),o.lineTo(b*ut-N*At,N*ut+b*At),o.lineTo(b*ft-N*Gt,N*ft+b*Gt),o.lineTo(b*bt-N*Vt,N*bt+b*Vt),o.lineTo(b*ut+N*At,b*At-N*ut),o.lineTo(b*ft+N*Gt,b*Gt-N*ft),o.lineTo(b*bt+N*Vt,b*Vt-N*bt),o.closePath()}},y=[H,ht,$t,pe,Yt,Ee,Dt];function X(){var o=n(H),O=n(64),q=null;function ut(){var At;if(q||(q=At=e.path()),o.apply(this,arguments).draw(q,+O.apply(this,arguments)),At)return q=null,At+""||null}return ut.type=function(At){return arguments.length?(o=typeof At=="function"?At:n(At),ut):o},ut.size=function(At){return arguments.length?(O=typeof At=="function"?At:n(+At),ut):O},ut.context=function(At){return arguments.length?(q=At??null,ut):q},ut}function xt(){}function jt(o,O,q){o._context.bezierCurveTo((2*o._x0+o._x1)/3,(2*o._y0+o._y1)/3,(o._x0+2*o._x1)/3,(o._y0+2*o._y1)/3,(o._x0+4*o._x1+O)/6,(o._y0+4*o._y1+q)/6)}function re(o){this._context=o}re.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jt(this,o,O);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=O}};function oe(o){return new re(o)}function Me(o){this._context=o}Me.prototype={areaStart:xt,areaEnd:xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._x2=o,this._y2=O;break;case 1:this._point=2,this._x3=o,this._y3=O;break;case 2:this._point=3,this._x4=o,this._y4=O,this._context.moveTo((this._x0+4*this._x1+o)/6,(this._y0+4*this._y1+O)/6);break;default:jt(this,o,O);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=O}};function ve(o){return new Me(o)}function Fe(o){this._context=o}Fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var q=(this._x0+4*this._x1+o)/6,ut=(this._y0+4*this._y1+O)/6;this._line?this._context.lineTo(q,ut):this._context.moveTo(q,ut);break;case 3:this._point=4;default:jt(this,o,O);break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=O}};function $e(o){return new Fe(o)}function en(o,O){this._basis=new re(o),this._beta=O}en.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var o=this._x,O=this._y,q=o.length-1;if(q>0)for(var ut=o[0],At=O[0],ft=o[q]-ut,Gt=O[q]-At,bt=-1,Vt;++bt<=q;)Vt=bt/q,this._basis.point(this._beta*o[bt]+(1-this._beta)*(ut+Vt*ft),this._beta*O[bt]+(1-this._beta)*(At+Vt*Gt));this._x=this._y=null,this._basis.lineEnd()},point:function(o,O){this._x.push(+o),this._y.push(+O)}};var Xe=function o(O){function q(ut){return O===1?new re(ut):new en(ut,O)}return q.beta=function(ut){return o(+ut)},q}(.85);function $(o,O,q){o._context.bezierCurveTo(o._x1+o._k*(o._x2-o._x0),o._y1+o._k*(o._y2-o._y0),o._x2+o._k*(o._x1-O),o._y2+o._k*(o._y1-q),o._x2,o._y2)}function U(o,O){this._context=o,this._k=(1-O)/6}U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2,this._x1=o,this._y1=O;break;case 2:this._point=3;default:$(this,o,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var s=function o(O){function q(ut){return new U(ut,O)}return q.tension=function(ut){return o(+ut)},q}(0);function R(o,O){this._context=o,this._k=(1-O)/6}R.prototype={areaStart:xt,areaEnd:xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._x3=o,this._y3=O;break;case 1:this._point=2,this._context.moveTo(this._x4=o,this._y4=O);break;case 2:this._point=3,this._x5=o,this._y5=O;break;default:$(this,o,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var u=function o(O){function q(ut){return new R(ut,O)}return q.tension=function(ut){return o(+ut)},q}(0);function f(o,O){this._context=o,this._k=(1-O)/6}f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$(this,o,O);break}this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var a=function o(O){function q(ut){return new f(ut,O)}return q.tension=function(ut){return o(+ut)},q}(0);function p(o,O,q){var ut=o._x1,At=o._y1,ft=o._x2,Gt=o._y2;if(o._l01_a>T){var bt=2*o._l01_2a+3*o._l01_a*o._l12_a+o._l12_2a,Vt=3*o._l01_a*(o._l01_a+o._l12_a);ut=(ut*bt-o._x0*o._l12_2a+o._x2*o._l01_2a)/Vt,At=(At*bt-o._y0*o._l12_2a+o._y2*o._l01_2a)/Vt}if(o._l23_a>T){var ce=2*o._l23_2a+3*o._l23_a*o._l12_a+o._l12_2a,he=3*o._l23_a*(o._l23_a+o._l12_a);ft=(ft*ce+o._x1*o._l23_2a-O*o._l12_2a)/he,Gt=(Gt*ce+o._y1*o._l23_2a-q*o._l12_2a)/he}o._context.bezierCurveTo(ut,At,ft,Gt,o._x2,o._y2)}function w(o,O){this._context=o,this._alpha=O}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){if(o=+o,O=+O,this._point){var q=this._x2-o,ut=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+ut*ut,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2;break;case 2:this._point=3;default:p(this,o,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var A=function o(O){function q(ut){return O?new w(ut,O):new U(ut,0)}return q.alpha=function(ut){return o(+ut)},q}(.5);function W(o,O){this._context=o,this._alpha=O}W.prototype={areaStart:xt,areaEnd:xt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(o,O){if(o=+o,O=+O,this._point){var q=this._x2-o,ut=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+ut*ut,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=o,this._y3=O;break;case 1:this._point=2,this._context.moveTo(this._x4=o,this._y4=O);break;case 2:this._point=3,this._x5=o,this._y5=O;break;default:p(this,o,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var pt=function o(O){function q(ut){return O?new W(ut,O):new R(ut,0)}return q.alpha=function(ut){return o(+ut)},q}(.5);function B(o,O){this._context=o,this._alpha=O}B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){if(o=+o,O=+O,this._point){var q=this._x2-o,ut=this._y2-O;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+ut*ut,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:p(this,o,O);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=o,this._y0=this._y1,this._y1=this._y2,this._y2=O}};var Et=function o(O){function q(ut){return O?new B(ut,O):new f(ut,0)}return q.alpha=function(ut){return o(+ut)},q}(.5);function Ot(o){this._context=o}Ot.prototype={areaStart:xt,areaEnd:xt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(o,O){o=+o,O=+O,this._point?this._context.lineTo(o,O):(this._point=1,this._context.moveTo(o,O))}};function Ut(o){return new Ot(o)}function ne(o){return o<0?-1:1}function ye(o,O,q){var ut=o._x1-o._x0,At=O-o._x1,ft=(o._y1-o._y0)/(ut||At<0&&-0),Gt=(q-o._y1)/(At||ut<0&&-0),bt=(ft*At+Gt*ut)/(ut+At);return(ne(ft)+ne(Gt))*Math.min(Math.abs(ft),Math.abs(Gt),.5*Math.abs(bt))||0}function be(o,O){var q=o._x1-o._x0;return q?(3*(o._y1-o._y0)/q-O)/2:O}function Ne(o,O,q){var ut=o._x0,At=o._y0,ft=o._x1,Gt=o._y1,bt=(ft-ut)/3;o._context.bezierCurveTo(ut+bt,At+bt*O,ft-bt,Gt-bt*q,ft,Gt)}function Ze(o){this._context=o}Ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ne(this,this._t0,be(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(o,O){var q=NaN;if(o=+o,O=+O,!(o===this._x1&&O===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2;break;case 2:this._point=3,Ne(this,be(this,q=ye(this,o,O)),q);break;default:Ne(this,this._t0,q=ye(this,o,O));break}this._x0=this._x1,this._x1=o,this._y0=this._y1,this._y1=O,this._t0=q}}};function We(o){this._context=new nn(o)}(We.prototype=Object.create(Ze.prototype)).point=function(o,O){Ze.prototype.point.call(this,O,o)};function nn(o){this._context=o}nn.prototype={moveTo:function(o,O){this._context.moveTo(O,o)},closePath:function(){this._context.closePath()},lineTo:function(o,O){this._context.lineTo(O,o)},bezierCurveTo:function(o,O,q,ut,At,ft){this._context.bezierCurveTo(O,o,ut,q,ft,At)}};function pn(o){return new Ze(o)}function fn(o){return new We(o)}function ze(o){this._context=o}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var o=this._x,O=this._y,q=o.length;if(q)if(this._line?this._context.lineTo(o[0],O[0]):this._context.moveTo(o[0],O[0]),q===2)this._context.lineTo(o[1],O[1]);else for(var ut=on(o),At=on(O),ft=0,Gt=1;Gt<q;++ft,++Gt)this._context.bezierCurveTo(ut[0][ft],At[0][ft],ut[1][ft],At[1][ft],o[Gt],O[Gt]);(this._line||this._line!==0&&q===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(o,O){this._x.push(+o),this._y.push(+O)}};function on(o){var O,q=o.length-1,ut,At=new Array(q),ft=new Array(q),Gt=new Array(q);for(At[0]=0,ft[0]=2,Gt[0]=o[0]+2*o[1],O=1;O<q-1;++O)At[O]=1,ft[O]=4,Gt[O]=4*o[O]+2*o[O+1];for(At[q-1]=2,ft[q-1]=7,Gt[q-1]=8*o[q-1]+o[q],O=1;O<q;++O)ut=At[O]/ft[O-1],ft[O]-=ut,Gt[O]-=ut*Gt[O-1];for(At[q-1]=Gt[q-1]/ft[q-1],O=q-2;O>=0;--O)At[O]=(Gt[O]-At[O+1])/ft[O];for(ft[q-1]=(o[q]+At[q-1])/2,O=0;O<q-1;++O)ft[O]=2*o[O+1]-At[O+1];return[At,ft]}function rn(o){return new ze(o)}function cn(o,O){this._context=o,this._t=O}cn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(o,O){switch(o=+o,O=+O,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,O):this._context.moveTo(o,O);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,O),this._context.lineTo(o,O);else{var q=this._x*(1-this._t)+o*this._t;this._context.lineTo(q,this._y),this._context.lineTo(q,O)}break}}this._x=o,this._y=O}};function L(o){return new cn(o,.5)}function gt(o){return new cn(o,0)}function Zt(o){return new cn(o,1)}function ue(o,O){if((Gt=o.length)>1)for(var q=1,ut,At,ft=o[O[0]],Gt,bt=ft.length;q<Gt;++q)for(At=ft,ft=o[O[q]],ut=0;ut<bt;++ut)ft[ut][1]+=ft[ut][0]=isNaN(At[ut][1])?At[ut][0]:At[ut][1]}function fe(o){for(var O=o.length,q=new Array(O);--O>=0;)q[O]=O;return q}function we(o,O){return o[O]}function Oe(){var o=n([]),O=fe,q=ue,ut=we;function At(ft){var Gt=o.apply(this,arguments),bt,Vt=ft.length,ce=Gt.length,he=new Array(ce),ke;for(bt=0;bt<ce;++bt){for(var Ie=Gt[bt],Ke=he[bt]=new Array(Vt),He=0,ln;He<Vt;++He)Ke[He]=ln=[0,+ut(ft[He],Ie,He,ft)],ln.data=ft[He];Ke.key=Ie}for(bt=0,ke=O(he);bt<ce;++bt)he[ke[bt]].index=bt;return q(he,ke),he}return At.keys=function(ft){return arguments.length?(o=typeof ft=="function"?ft:n(qt.call(ft)),At):o},At.value=function(ft){return arguments.length?(ut=typeof ft=="function"?ft:n(+ft),At):ut},At.order=function(ft){return arguments.length?(O=ft==null?fe:typeof ft=="function"?ft:n(qt.call(ft)),At):O},At.offset=function(ft){return arguments.length?(q=ft??ue,At):q},At}function xe(o,O){if((ut=o.length)>0){for(var q,ut,At=0,ft=o[0].length,Gt;At<ft;++At){for(Gt=q=0;q<ut;++q)Gt+=o[q][At][1]||0;if(Gt)for(q=0;q<ut;++q)o[q][At][1]/=Gt}ue(o,O)}}function Re(o,O){if((Vt=o.length)>0)for(var q,ut=0,At,ft,Gt,bt,Vt,ce=o[O[0]].length;ut<ce;++ut)for(Gt=bt=0,q=0;q<Vt;++q)(ft=(At=o[O[q]][ut])[1]-At[0])>0?(At[0]=Gt,At[1]=Gt+=ft):ft<0?(At[1]=bt,At[0]=bt+=ft):(At[0]=0,At[1]=ft)}function qe(o,O){if((At=o.length)>0){for(var q=0,ut=o[O[0]],At,ft=ut.length;q<ft;++q){for(var Gt=0,bt=0;Gt<At;++Gt)bt+=o[Gt][q][1]||0;ut[q][1]+=ut[q][0]=-bt/2}ue(o,O)}}function Ue(o,O){if(!(!((Gt=o.length)>0)||!((ft=(At=o[O[0]]).length)>0))){for(var q=0,ut=1,At,ft,Gt;ut<ft;++ut){for(var bt=0,Vt=0,ce=0;bt<Gt;++bt){for(var he=o[O[bt]],ke=he[ut][1]||0,Ie=he[ut-1][1]||0,Ke=(ke-Ie)/2,He=0;He<bt;++He){var ln=o[O[He]],Ge=ln[ut][1]||0,Mn=ln[ut-1][1]||0;Ke+=Ge-Mn}Vt+=ke,ce+=Ke*ke}At[ut-1][1]+=At[ut-1][0]=q,Vt&&(q-=ce/Vt)}At[ut-1][1]+=At[ut-1][0]=q,ue(o,O)}}function yn(o){var O=o.map(An);return fe(o).sort(function(q,ut){return O[q]-O[ut]})}function An(o){for(var O=-1,q=0,ut=o.length,At,ft=-1/0;++O<ut;)(At=+o[O][1])>ft&&(ft=At,q=O);return q}function gn(o){var O=o.map(Bn);return fe(o).sort(function(q,ut){return O[q]-O[ut]})}function Bn(o){for(var O=0,q=-1,ut=o.length,At;++q<ut;)(At=+o[q][1])&&(O+=At);return O}function Kn(o){return gn(o).reverse()}function ri(o){var O=o.length,q,ut,At=o.map(Bn),ft=yn(o),Gt=0,bt=0,Vt=[],ce=[];for(q=0;q<O;++q)ut=ft[q],Gt<bt?(Gt+=At[ut],Vt.push(ut)):(bt+=At[ut],ce.push(ut));return ce.reverse().concat(Vt)}function gi(o){return fe(o).reverse()}t.arc=h,t.area=ot,t.areaRadial=ct,t.curveBasis=oe,t.curveBasisClosed=ve,t.curveBasisOpen=$e,t.curveBundle=Xe,t.curveCardinal=s,t.curveCardinalClosed=u,t.curveCardinalOpen=a,t.curveCatmullRom=A,t.curveCatmullRomClosed=pt,t.curveCatmullRomOpen=Et,t.curveLinear=x,t.curveLinearClosed=Ut,t.curveMonotoneX=pn,t.curveMonotoneY=fn,t.curveNatural=rn,t.curveStep=L,t.curveStepAfter=Zt,t.curveStepBefore=gt,t.line=mt,t.lineRadial=st,t.linkHorizontal=d,t.linkRadial=M,t.linkVertical=r,t.pie=yt,t.pointRadial=wt,t.radialArea=ct,t.radialLine=st,t.stack=Oe,t.stackOffsetDiverging=Re,t.stackOffsetExpand=xe,t.stackOffsetNone=ue,t.stackOffsetSilhouette=qe,t.stackOffsetWiggle=Ue,t.stackOrderAppearance=yn,t.stackOrderAscending=gn,t.stackOrderDescending=Kn,t.stackOrderInsideOut=ri,t.stackOrderNone=fe,t.stackOrderReverse=gi,t.symbol=X,t.symbolCircle=H,t.symbolCross=ht,t.symbolDiamond=$t,t.symbolSquare=pe,t.symbolStar=Yt,t.symbolTriangle=Ee,t.symbolWye=Dt,t.symbols=y,Object.defineProperty(t,"__esModule",{value:!0})})});var Ms=Ve((Ma,xs)=>{(function(t,e){typeof Ma=="object"&&typeof xs<"u"?e(Ma):typeof define=="function"&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})})(Ma,function(t){"use strict";function e(l){return function(){return l}}function n(l){return l[0]}function m(l){return l[1]}function g(){this._=null}function Q(l){l.U=l.C=l.L=l.R=l.P=l.N=null}g.prototype={constructor:g,insert:function(l,S){var k,d,r;if(l){if(S.P=l,S.N=l.N,l.N&&(l.N.P=S),l.N=S,l.R){for(l=l.R;l.L;)l=l.L;l.L=S}else l.R=S;k=l}else this._?(l=I(this._),S.P=null,S.N=l,l.P=l.L=S,k=l):(S.P=S.N=null,this._=S,k=null);for(S.L=S.R=null,S.U=k,S.C=!0,l=S;k&&k.C;)d=k.U,k===d.L?(r=d.R,r&&r.C?(k.C=r.C=!1,d.C=!0,l=d):(l===k.R&&(F(this,k),l=k,k=l.U),k.C=!1,d.C=!0,z(this,d))):(r=d.L,r&&r.C?(k.C=r.C=!1,d.C=!0,l=d):(l===k.L&&(z(this,k),l=k,k=l.U),k.C=!1,d.C=!0,F(this,d))),k=l.U;this._.C=!1},remove:function(l){l.N&&(l.N.P=l.P),l.P&&(l.P.N=l.N),l.N=l.P=null;var S=l.U,k,d=l.L,r=l.R,M,H;if(d?r?M=I(r):M=d:M=r,S?S.L===l?S.L=M:S.R=M:this._=M,d&&r?(H=M.C,M.C=l.C,M.L=d,d.U=M,M!==r?(S=M.U,M.U=l.U,l=M.R,S.L=l,M.R=r,r.U=M):(M.U=S,S=M,l=M.R)):(H=l.C,l=M),l&&(l.U=S),!H){if(l&&l.C){l.C=!1;return}do{if(l===this._)break;if(l===S.L){if(k=S.R,k.C&&(k.C=!1,S.C=!0,F(this,S),k=S.R),k.L&&k.L.C||k.R&&k.R.C){(!k.R||!k.R.C)&&(k.L.C=!1,k.C=!0,z(this,k),k=S.R),k.C=S.C,S.C=k.R.C=!1,F(this,S),l=this._;break}}else if(k=S.L,k.C&&(k.C=!1,S.C=!0,z(this,S),k=S.L),k.L&&k.L.C||k.R&&k.R.C){(!k.L||!k.L.C)&&(k.R.C=!1,k.C=!0,F(this,k),k=S.L),k.C=S.C,S.C=k.L.C=!1,z(this,S),l=this._;break}k.C=!0,l=S,S=S.U}while(!l.C);l&&(l.C=!1)}}};function F(l,S){var k=S,d=S.R,r=k.U;r?r.L===k?r.L=d:r.R=d:l._=d,d.U=r,k.U=d,k.R=d.L,k.R&&(k.R.U=k),d.L=k}function z(l,S){var k=S,d=S.L,r=k.U;r?r.L===k?r.L=d:r.R=d:l._=d,d.U=r,k.U=d,k.L=d.R,k.L&&(k.L.U=k),d.R=k}function I(l){for(;l.L;)l=l.L;return l}function E(l,S,k,d){var r=[null,null],M=wt.push(r)-1;return r.left=l,r.right=S,k&&Y(r,l,S,k),d&&Y(r,S,l,d),st[l.index].halfedges.push(M),st[S.index].halfedges.push(M),r}function T(l,S,k){var d=[S,k];return d.left=l,d}function Y(l,S,k,d){!l[0]&&!l[1]?(l[0]=d,l.left=S,l.right=k):l.left===k?l[1]=d:l[0]=d}function C(l,S,k,d,r){var M=l[0],H=l[1],ht=M[0],J=M[1],Tt=H[0],$t=H[1],Nt=0,Ft=1,te=Tt-ht,ie=$t-J,Yt;if(Yt=S-ht,!(!te&&Yt>0)){if(Yt/=te,te<0){if(Yt<Nt)return;Yt<Ft&&(Ft=Yt)}else if(te>0){if(Yt>Ft)return;Yt>Nt&&(Nt=Yt)}if(Yt=d-ht,!(!te&&Yt<0)){if(Yt/=te,te<0){if(Yt>Ft)return;Yt>Nt&&(Nt=Yt)}else if(te>0){if(Yt<Nt)return;Yt<Ft&&(Ft=Yt)}if(Yt=k-J,!(!ie&&Yt>0)){if(Yt/=ie,ie<0){if(Yt<Nt)return;Yt<Ft&&(Ft=Yt)}else if(ie>0){if(Yt>Ft)return;Yt>Nt&&(Nt=Yt)}if(Yt=r-J,!(!ie&&Yt<0)){if(Yt/=ie,ie<0){if(Yt>Ft)return;Yt>Nt&&(Nt=Yt)}else if(ie>0){if(Yt<Nt)return;Yt<Ft&&(Ft=Yt)}return!(Nt>0)&&!(Ft<1)||(Nt>0&&(l[0]=[ht+Nt*te,J+Nt*ie]),Ft<1&&(l[1]=[ht+Ft*te,J+Ft*ie])),!0}}}}}function it(l,S,k,d,r){var M=l[1];if(M)return!0;var H=l[0],ht=l.left,J=l.right,Tt=ht[0],$t=ht[1],Nt=J[0],Ft=J[1],te=(Tt+Nt)/2,ie=($t+Ft)/2,Yt,pe;if(Ft===$t){if(te<S||te>=d)return;if(Tt>Nt){if(!H)H=[te,k];else if(H[1]>=r)return;M=[te,r]}else{if(!H)H=[te,r];else if(H[1]<k)return;M=[te,k]}}else if(Yt=(Tt-Nt)/(Ft-$t),pe=ie-Yt*te,Yt<-1||Yt>1)if(Tt>Nt){if(!H)H=[(k-pe)/Yt,k];else if(H[1]>=r)return;M=[(r-pe)/Yt,r]}else{if(!H)H=[(r-pe)/Yt,r];else if(H[1]<k)return;M=[(k-pe)/Yt,k]}else if($t<Ft){if(!H)H=[S,Yt*S+pe];else if(H[0]>=d)return;M=[d,Yt*d+pe]}else{if(!H)H=[d,Yt*d+pe];else if(H[0]<S)return;M=[S,Yt*S+pe]}return l[0]=H,l[1]=M,!0}function at(l,S,k,d){for(var r=wt.length,M;r--;)(!it(M=wt[r],l,S,k,d)||!C(M,l,S,k,d)||!(Math.abs(M[0][0]-M[1][0])>K||Math.abs(M[0][1]-M[1][1])>K))&&delete wt[r]}function lt(l){return st[l.index]={site:l,halfedges:[]}}function Pt(l,S){var k=l.site,d=S.left,r=S.right;return k===r&&(r=d,d=k),r?Math.atan2(r[1]-d[1],r[0]-d[0]):(k===d?(d=S[1],r=S[0]):(d=S[0],r=S[1]),Math.atan2(d[0]-r[0],r[1]-d[1]))}function vt(l,S){return S[+(S.left!==l.site)]}function It(l,S){return S[+(S.left===l.site)]}function kt(){for(var l=0,S=st.length,k,d,r,M;l<S;++l)if((k=st[l])&&(M=(d=k.halfedges).length)){var H=new Array(M),ht=new Array(M);for(r=0;r<M;++r)H[r]=r,ht[r]=Pt(k,wt[d[r]]);for(H.sort(function(J,Tt){return ht[Tt]-ht[J]}),r=0;r<M;++r)ht[r]=d[H[r]];for(r=0;r<M;++r)d[r]=ht[r]}}function et(l,S,k,d){var r=st.length,M,H,ht,J,Tt,$t,Nt,Ft,te,ie,Yt,pe,me=!0;for(M=0;M<r;++M)if(H=st[M]){for(ht=H.site,Tt=H.halfedges,J=Tt.length;J--;)wt[Tt[J]]||Tt.splice(J,1);for(J=0,$t=Tt.length;J<$t;)ie=It(H,wt[Tt[J]]),Yt=ie[0],pe=ie[1],Nt=vt(H,wt[Tt[++J%$t]]),Ft=Nt[0],te=Nt[1],(Math.abs(Yt-Ft)>K||Math.abs(pe-te)>K)&&(Tt.splice(J,0,wt.push(T(ht,ie,Math.abs(Yt-l)<K&&d-pe>K?[l,Math.abs(Ft-l)<K?te:d]:Math.abs(pe-d)<K&&k-Yt>K?[Math.abs(te-d)<K?Ft:k,d]:Math.abs(Yt-k)<K&&pe-S>K?[k,Math.abs(Ft-k)<K?te:S]:Math.abs(pe-S)<K&&Yt-l>K?[Math.abs(te-S)<K?Ft:l,S]:null))-1),++$t);$t&&(me=!1)}if(me){var Ee,b,N,Mt=1/0;for(M=0,me=null;M<r;++M)(H=st[M])&&(ht=H.site,Ee=ht[0]-l,b=ht[1]-S,N=Ee*Ee+b*b,N<Mt&&(Mt=N,me=H));if(me){var Kt=[l,S],Dt=[l,d],y=[k,d],X=[k,S];me.halfedges.push(wt.push(T(ht=me.site,Kt,Dt))-1,wt.push(T(ht,Dt,y))-1,wt.push(T(ht,y,X))-1,wt.push(T(ht,X,Kt))-1)}}for(M=0;M<r;++M)(H=st[M])&&(H.halfedges.length||delete st[M])}var dt=[],V;function h(){Q(this),this.x=this.y=this.arc=this.site=this.cy=null}function v(l){var S=l.P,k=l.N;if(!(!S||!k)){var d=S.site,r=l.site,M=k.site;if(d!==M){var H=r[0],ht=r[1],J=d[0]-H,Tt=d[1]-ht,$t=M[0]-H,Nt=M[1]-ht,Ft=2*(J*Nt-Tt*$t);if(!(Ft>=-nt)){var te=J*J+Tt*Tt,ie=$t*$t+Nt*Nt,Yt=(Nt*te-Tt*ie)/Ft,pe=(J*ie-$t*te)/Ft,me=dt.pop()||new h;me.arc=l,me.site=r,me.x=Yt+H,me.y=(me.cy=pe+ht)+Math.sqrt(Yt*Yt+pe*pe),l.circle=me;for(var Ee=null,b=ct._;b;)if(me.y<b.y||me.y===b.y&&me.x<=b.x)if(b.L)b=b.L;else{Ee=b.P;break}else if(b.R)b=b.R;else{Ee=b;break}ct.insert(Ee,me),Ee||(V=me)}}}}function x(l){var S=l.circle;S&&(S.P||(V=S.N),ct.remove(S),dt.push(S),Q(S),l.circle=null)}var D=[];function j(){Q(this),this.edge=this.site=this.circle=null}function mt(l){var S=D.pop()||new j;return S.site=l,S}function ot(l){x(l),rt.remove(l),D.push(l),Q(l)}function Z(l){var S=l.circle,k=S.x,d=S.cy,r=[k,d],M=l.P,H=l.N,ht=[l];ot(l);for(var J=M;J.circle&&Math.abs(k-J.circle.x)<K&&Math.abs(d-J.circle.cy)<K;)M=J.P,ht.unshift(J),ot(J),J=M;ht.unshift(J),x(J);for(var Tt=H;Tt.circle&&Math.abs(k-Tt.circle.x)<K&&Math.abs(d-Tt.circle.cy)<K;)H=Tt.N,ht.push(Tt),ot(Tt),Tt=H;ht.push(Tt),x(Tt);var $t=ht.length,Nt;for(Nt=1;Nt<$t;++Nt)Tt=ht[Nt],J=ht[Nt-1],Y(Tt.edge,J.site,Tt.site,r);J=ht[0],Tt=ht[$t-1],Tt.edge=E(J.site,Tt.site,null,r),v(J),v(Tt)}function tt(l){for(var S=l[0],k=l[1],d,r,M,H,ht=rt._;ht;)if(M=yt(ht,k)-S,M>K)ht=ht.L;else if(H=S-St(ht,k),H>K){if(!ht.R){d=ht;break}ht=ht.R}else{M>-K?(d=ht.P,r=ht):H>-K?(d=ht,r=ht.N):d=r=ht;break}lt(l);var J=mt(l);if(rt.insert(d,J),!(!d&&!r)){if(d===r){x(d),r=mt(d.site),rt.insert(J,r),J.edge=r.edge=E(d.site,J.site),v(d),v(r);return}if(!r){J.edge=E(d.site,J.site);return}x(d),x(r);var Tt=d.site,$t=Tt[0],Nt=Tt[1],Ft=l[0]-$t,te=l[1]-Nt,ie=r.site,Yt=ie[0]-$t,pe=ie[1]-Nt,me=2*(Ft*pe-te*Yt),Ee=Ft*Ft+te*te,b=Yt*Yt+pe*pe,N=[(pe*Ee-te*b)/me+$t,(Ft*b-Yt*Ee)/me+Nt];Y(r.edge,Tt,ie,N),J.edge=E(Tt,l,null,N),r.edge=E(l,ie,null,N),v(d),v(r)}}function yt(l,S){var k=l.site,d=k[0],r=k[1],M=r-S;if(!M)return d;var H=l.P;if(!H)return-1/0;k=H.site;var ht=k[0],J=k[1],Tt=J-S;if(!Tt)return ht;var $t=ht-d,Nt=1/M-1/Tt,Ft=$t/Tt;return Nt?(-Ft+Math.sqrt(Ft*Ft-2*Nt*($t*$t/(-2*Tt)-J+Tt/2+r-M/2)))/Nt+d:(d+ht)/2}function St(l,S){var k=l.N;if(k)return yt(k,S);var d=l.site;return d[1]===S?d[0]:1/0}var K=1e-6,nt=1e-12,rt,st,ct,wt;function qt(l,S,k){return(l[0]-k[0])*(S[1]-l[1])-(l[0]-S[0])*(k[1]-l[1])}function Xt(l,S){return S[1]-l[1]||S[0]-l[0]}function zt(l,S){var k=l.sort(Xt).pop(),d,r,M;for(wt=[],st=new Array(l.length),rt=new g,ct=new g;;)if(M=V,k&&(!M||k[1]<M.y||k[1]===M.y&&k[0]<M.x))(k[0]!==d||k[1]!==r)&&(tt(k),d=k[0],r=k[1]),k=l.pop();else if(M)Z(M.arc);else break;if(kt(),S){var H=+S[0][0],ht=+S[0][1],J=+S[1][0],Tt=+S[1][1];at(H,ht,J,Tt),et(H,ht,J,Tt)}this.edges=wt,this.cells=st,rt=ct=wt=st=null}zt.prototype={constructor:zt,polygons:function(){var l=this.edges;return this.cells.map(function(S){var k=S.halfedges.map(function(d){return vt(S,l[d])});return k.data=S.site.data,k})},triangles:function(){var l=[],S=this.edges;return this.cells.forEach(function(k,d){if(!!(ht=(M=k.halfedges).length))for(var r=k.site,M,H=-1,ht,J,Tt=S[M[ht-1]],$t=Tt.left===r?Tt.right:Tt.left;++H<ht;)J=$t,Tt=S[M[H]],$t=Tt.left===r?Tt.right:Tt.left,J&&$t&&d<J.index&&d<$t.index&&qt(r,J,$t)<0&&l.push([r.data,J.data,$t.data])}),l},links:function(){return this.edges.filter(function(l){return l.right}).map(function(l){return{source:l.left.data,target:l.right.data}})},find:function(l,S,k){for(var d=this,r,M=d._found||0,H=d.cells.length,ht;!(ht=d.cells[M]);)if(++M>=H)return null;var J=l-ht.site[0],Tt=S-ht.site[1],$t=J*J+Tt*Tt;do ht=d.cells[r=M],M=null,ht.halfedges.forEach(function(Nt){var Ft=d.edges[Nt],te=Ft.left;if(!((te===ht.site||!te)&&!(te=Ft.right))){var ie=l-te[0],Yt=S-te[1],pe=ie*ie+Yt*Yt;pe<$t&&($t=pe,M=te.index)}});while(M!==null);return d._found=r,k==null||$t<=k*k?ht.site:null}};function ee(){var l=n,S=m,k=null;function d(r){return new zt(r.map(function(M,H){var ht=[Math.round(l(M,H,r)/K)*K,Math.round(S(M,H,r)/K)*K];return ht.index=H,ht.data=M,ht}),k)}return d.polygons=function(r){return d(r).polygons()},d.links=function(r){return d(r).links()},d.triangles=function(r){return d(r).triangles()},d.x=function(r){return arguments.length?(l=typeof r=="function"?r:e(+r),d):l},d.y=function(r){return arguments.length?(S=typeof r=="function"?r:e(+r),d):S},d.extent=function(r){return arguments.length?(k=r==null?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],d):k&&[[k[0][0],k[0][1]],[k[1][0],k[1][1]]]},d.size=function(r){return arguments.length?(k=r==null?null:[[0,0],[+r[0],+r[1]]],d):k&&[k[1][0]-k[0][0],k[1][1]-k[0][1]]},d}t.voronoi=ee,Object.defineProperty(t,"__esModule",{value:!0})})});var ks=Ve((Sa,Ss)=>{(function(t,e){typeof Sa=="object"&&typeof Ss<"u"?e(Sa,Ri(),Vr(),Ti(),Hi(),ta()):typeof define=="function"&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],e):(t=t||self,e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3))})(Sa,function(t,e,n,m,g,Q){"use strict";function F(et){return function(){return et}}function z(et,dt,V){this.target=et,this.type=dt,this.transform=V}function I(et,dt,V){this.k=et,this.x=dt,this.y=V}I.prototype={constructor:I,scale:function(et){return et===1?this:new I(this.k*et,this.x,this.y)},translate:function(et,dt){return et===0&dt===0?this:new I(this.k,this.x+this.k*et,this.y+this.k*dt)},apply:function(et){return[et[0]*this.k+this.x,et[1]*this.k+this.y]},applyX:function(et){return et*this.k+this.x},applyY:function(et){return et*this.k+this.y},invert:function(et){return[(et[0]-this.x)/this.k,(et[1]-this.y)/this.k]},invertX:function(et){return(et-this.x)/this.k},invertY:function(et){return(et-this.y)/this.k},rescaleX:function(et){return et.copy().domain(et.range().map(this.invertX,this).map(et.invert,et))},rescaleY:function(et){return et.copy().domain(et.range().map(this.invertY,this).map(et.invert,et))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var E=new I(1,0,0);T.prototype=I.prototype;function T(et){for(;!et.__zoom;)if(!(et=et.parentNode))return E;return et.__zoom}function Y(){g.event.stopImmediatePropagation()}function C(){g.event.preventDefault(),g.event.stopImmediatePropagation()}function it(){return!g.event.ctrlKey&&!g.event.button}function at(){var et=this;return et instanceof SVGElement?(et=et.ownerSVGElement||et,et.hasAttribute("viewBox")?(et=et.viewBox.baseVal,[[et.x,et.y],[et.x+et.width,et.y+et.height]]):[[0,0],[et.width.baseVal.value,et.height.baseVal.value]]):[[0,0],[et.clientWidth,et.clientHeight]]}function lt(){return this.__zoom||E}function Pt(){return-g.event.deltaY*(g.event.deltaMode===1?.05:g.event.deltaMode?1:.002)}function vt(){return navigator.maxTouchPoints||"ontouchstart"in this}function It(et,dt,V){var h=et.invertX(dt[0][0])-V[0][0],v=et.invertX(dt[1][0])-V[1][0],x=et.invertY(dt[0][1])-V[0][1],D=et.invertY(dt[1][1])-V[1][1];return et.translate(v>h?(h+v)/2:Math.min(0,h)||Math.max(0,v),D>x?(x+D)/2:Math.min(0,x)||Math.max(0,D))}function kt(){var et=it,dt=at,V=It,h=Pt,v=vt,x=[0,1/0],D=[[-1/0,-1/0],[1/0,1/0]],j=250,mt=m.interpolateZoom,ot=e.dispatch("start","zoom","end"),Z,tt,yt=500,St=150,K=0;function nt(r){r.property("__zoom",lt).on("wheel.zoom",zt).on("mousedown.zoom",ee).on("dblclick.zoom",l).filter(v).on("touchstart.zoom",S).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}nt.transform=function(r,M,H){var ht=r.selection?r.selection():r;ht.property("__zoom",lt),r!==ht?wt(r,M,H):ht.interrupt().each(function(){qt(this,arguments).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},nt.scaleBy=function(r,M,H){nt.scaleTo(r,function(){var ht=this.__zoom.k,J=typeof M=="function"?M.apply(this,arguments):M;return ht*J},H)},nt.scaleTo=function(r,M,H){nt.transform(r,function(){var ht=dt.apply(this,arguments),J=this.__zoom,Tt=H==null?ct(ht):typeof H=="function"?H.apply(this,arguments):H,$t=J.invert(Tt),Nt=typeof M=="function"?M.apply(this,arguments):M;return V(st(rt(J,Nt),Tt,$t),ht,D)},H)},nt.translateBy=function(r,M,H){nt.transform(r,function(){return V(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof H=="function"?H.apply(this,arguments):H),dt.apply(this,arguments),D)})},nt.translateTo=function(r,M,H,ht){nt.transform(r,function(){var J=dt.apply(this,arguments),Tt=this.__zoom,$t=ht==null?ct(J):typeof ht=="function"?ht.apply(this,arguments):ht;return V(E.translate($t[0],$t[1]).scale(Tt.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof H=="function"?-H.apply(this,arguments):-H),J,D)},ht)};function rt(r,M){return M=Math.max(x[0],Math.min(x[1],M)),M===r.k?r:new I(M,r.x,r.y)}function st(r,M,H){var ht=M[0]-H[0]*r.k,J=M[1]-H[1]*r.k;return ht===r.x&&J===r.y?r:new I(r.k,ht,J)}function ct(r){return[(+r[0][0]+ +r[1][0])/2,(+r[0][1]+ +r[1][1])/2]}function wt(r,M,H){r.on("start.zoom",function(){qt(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){qt(this,arguments).end()}).tween("zoom",function(){var ht=this,J=arguments,Tt=qt(ht,J),$t=dt.apply(ht,J),Nt=H==null?ct($t):typeof H=="function"?H.apply(ht,J):H,Ft=Math.max($t[1][0]-$t[0][0],$t[1][1]-$t[0][1]),te=ht.__zoom,ie=typeof M=="function"?M.apply(ht,J):M,Yt=mt(te.invert(Nt).concat(Ft/te.k),ie.invert(Nt).concat(Ft/ie.k));return function(pe){if(pe===1)pe=ie;else{var me=Yt(pe),Ee=Ft/me[2];pe=new I(Ee,Nt[0]-me[0]*Ee,Nt[1]-me[1]*Ee)}Tt.zoom(null,pe)}})}function qt(r,M,H){return!H&&r.__zooming||new Xt(r,M)}function Xt(r,M){this.that=r,this.args=M,this.active=0,this.extent=dt.apply(r,M),this.taps=0}Xt.prototype={start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(r,M){return this.mouse&&r!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&r!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&r!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(r){g.customEvent(new z(nt,r,this.that.__zoom),ot.apply,ot,[r,this.that,this.args])}};function zt(){if(!et.apply(this,arguments))return;var r=qt(this,arguments),M=this.__zoom,H=Math.max(x[0],Math.min(x[1],M.k*Math.pow(2,h.apply(this,arguments)))),ht=g.mouse(this);if(r.wheel)(r.mouse[0][0]!==ht[0]||r.mouse[0][1]!==ht[1])&&(r.mouse[1]=M.invert(r.mouse[0]=ht)),clearTimeout(r.wheel);else{if(M.k===H)return;r.mouse=[ht,M.invert(ht)],Q.interrupt(this),r.start()}C(),r.wheel=setTimeout(J,St),r.zoom("mouse",V(st(rt(M,H),r.mouse[0],r.mouse[1]),r.extent,D));function J(){r.wheel=null,r.end()}}function ee(){if(tt||!et.apply(this,arguments))return;var r=qt(this,arguments,!0),M=g.select(g.event.view).on("mousemove.zoom",Tt,!0).on("mouseup.zoom",$t,!0),H=g.mouse(this),ht=g.event.clientX,J=g.event.clientY;n.dragDisable(g.event.view),Y(),r.mouse=[H,this.__zoom.invert(H)],Q.interrupt(this),r.start();function Tt(){if(C(),!r.moved){var Nt=g.event.clientX-ht,Ft=g.event.clientY-J;r.moved=Nt*Nt+Ft*Ft>K}r.zoom("mouse",V(st(r.that.__zoom,r.mouse[0]=g.mouse(r.that),r.mouse[1]),r.extent,D))}function $t(){M.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(g.event.view,r.moved),C(),r.end()}}function l(){if(!!et.apply(this,arguments)){var r=this.__zoom,M=g.mouse(this),H=r.invert(M),ht=r.k*(g.event.shiftKey?.5:2),J=V(st(rt(r,ht),M,H),dt.apply(this,arguments),D);C(),j>0?g.select(this).transition().duration(j).call(wt,J,M):g.select(this).call(nt.transform,J)}}function S(){if(!!et.apply(this,arguments)){var r=g.event.touches,M=r.length,H=qt(this,arguments,g.event.changedTouches.length===M),ht,J,Tt,$t;for(Y(),J=0;J<M;++J)Tt=r[J],$t=g.touch(this,r,Tt.identifier),$t=[$t,this.__zoom.invert($t),Tt.identifier],H.touch0?!H.touch1&&H.touch0[2]!==$t[2]&&(H.touch1=$t,H.taps=0):(H.touch0=$t,ht=!0,H.taps=1+!!Z);Z&&(Z=clearTimeout(Z)),ht&&(H.taps<2&&(Z=setTimeout(function(){Z=null},yt)),Q.interrupt(this),H.start())}}function k(){if(!!this.__zooming){var r=qt(this,arguments),M=g.event.changedTouches,H=M.length,ht,J,Tt,$t;for(C(),Z&&(Z=clearTimeout(Z)),r.taps=0,ht=0;ht<H;++ht)J=M[ht],Tt=g.touch(this,M,J.identifier),r.touch0&&r.touch0[2]===J.identifier?r.touch0[0]=Tt:r.touch1&&r.touch1[2]===J.identifier&&(r.touch1[0]=Tt);if(J=r.that.__zoom,r.touch1){var Nt=r.touch0[0],Ft=r.touch0[1],te=r.touch1[0],ie=r.touch1[1],Yt=(Yt=te[0]-Nt[0])*Yt+(Yt=te[1]-Nt[1])*Yt,pe=(pe=ie[0]-Ft[0])*pe+(pe=ie[1]-Ft[1])*pe;J=rt(J,Math.sqrt(Yt/pe)),Tt=[(Nt[0]+te[0])/2,(Nt[1]+te[1])/2],$t=[(Ft[0]+ie[0])/2,(Ft[1]+ie[1])/2]}else if(r.touch0)Tt=r.touch0[0],$t=r.touch0[1];else return;r.zoom("touch",V(st(J,Tt,$t),r.extent,D))}}function d(){if(!!this.__zooming){var r=qt(this,arguments),M=g.event.changedTouches,H=M.length,ht,J;for(Y(),tt&&clearTimeout(tt),tt=setTimeout(function(){tt=null},yt),ht=0;ht<H;++ht)J=M[ht],r.touch0&&r.touch0[2]===J.identifier?delete r.touch0:r.touch1&&r.touch1[2]===J.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),r.taps===2){var Tt=g.select(this).on("dblclick.zoom");Tt&&Tt.apply(this,arguments)}}}return nt.wheelDelta=function(r){return arguments.length?(h=typeof r=="function"?r:F(+r),nt):h},nt.filter=function(r){return arguments.length?(et=typeof r=="function"?r:F(!!r),nt):et},nt.touchable=function(r){return arguments.length?(v=typeof r=="function"?r:F(!!r),nt):v},nt.extent=function(r){return arguments.length?(dt=typeof r=="function"?r:F([[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]]),nt):dt},nt.scaleExtent=function(r){return arguments.length?(x[0]=+r[0],x[1]=+r[1],nt):[x[0],x[1]]},nt.translateExtent=function(r){return arguments.length?(D[0][0]=+r[0][0],D[1][0]=+r[1][0],D[0][1]=+r[0][1],D[1][1]=+r[1][1],nt):[[D[0][0],D[0][1]],[D[1][0],D[1][1]]]},nt.constrain=function(r){return arguments.length?(V=r,nt):V},nt.duration=function(r){return arguments.length?(j=+r,nt):j},nt.interpolate=function(r){return arguments.length?(mt=r,nt):mt},nt.on=function(){var r=ot.on.apply(ot,arguments);return r===ot?nt:r},nt.clickDistance=function(r){return arguments.length?(K=(r=+r)*r,nt):Math.sqrt(K)},nt}t.zoom=kt,t.zoomIdentity=E,t.zoomTransform=T,Object.defineProperty(t,"__esModule",{value:!0})})});var wn=Ve(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});var Cs=Bi(),As=Iu(),Ps=Gu(),Rs=Xu(),Ts=oa(),Es=vr(),Os=Qu(),zs=Ri(),Ns=Vr(),Ds=So(),Is=Mo(),qs=es(),Ls=rs(),Fs=Co(),$s=us(),Bs=fs(),Hs=Ti(),Us=ia(),Ys=ls(),Ws=ko(),Gs=ds(),Vs=ys(),js=bs(),Xs=Hi(),Zs=_s(),Ks=va(),Qs=Ao(),Js=Kr(),tf=ta(),ef=Ms(),nf=ks(),zl="5.15.0";Object.keys(Cs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Cs[t]}})});Object.keys(As).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return As[t]}})});Object.keys(Ps).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ps[t]}})});Object.keys(Rs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Rs[t]}})});Object.keys(Ts).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ts[t]}})});Object.keys(Es).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Es[t]}})});Object.keys(Os).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Os[t]}})});Object.keys(zs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return zs[t]}})});Object.keys(Ns).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ns[t]}})});Object.keys(Ds).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ds[t]}})});Object.keys(Is).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Is[t]}})});Object.keys(qs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return qs[t]}})});Object.keys(Ls).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ls[t]}})});Object.keys(Fs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Fs[t]}})});Object.keys($s).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return $s[t]}})});Object.keys(Bs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Bs[t]}})});Object.keys(Hs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Hs[t]}})});Object.keys(Us).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Us[t]}})});Object.keys(Ys).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ys[t]}})});Object.keys(Ws).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ws[t]}})});Object.keys(Gs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Gs[t]}})});Object.keys(Vs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Vs[t]}})});Object.keys(js).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return js[t]}})});Object.keys(Xs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Xs[t]}})});Object.keys(Zs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Zs[t]}})});Object.keys(Ks).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Ks[t]}})});Object.keys(Qs).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Qs[t]}})});Object.keys(Js).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return Js[t]}})});Object.keys(tf).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return tf[t]}})});Object.keys(ef).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return ef[t]}})});Object.keys(nf).forEach(function(t){t!=="default"&&Object.defineProperty(an,t,{enumerable:!0,get:function(){return nf[t]}})});an.version=zl});function ka(t,e){if(e==Fn.Bottom)return bi.axisBottom(t);if(e==Fn.Top)return bi.axisTop(t);if(e==Fn.Left)return bi.axisLeft(t);if(e==Fn.Right)return bi.axisRight(t);throw"Invalid AxisType "+e+" on getAxis() call"}var bi,Fn,br=Te(()=>{bi=xn(wn(),1);(function(t){t.Bottom="bottom",t.Top="top",t.Left="left",t.Right="right"})(Fn||(Fn={}))});function Po(){return Array.from(Ui.keys())}function Ro(t){let e=Ui.get(t);if(e==null)throw`The Annotation id ${t} is not mapped to any Annotation`;return e}var Ui,wr=Te(()=>{Ui=new Map});function rf(t){return t.annotations!=null&&t.selector!=null&&t.chart!=null}var af=Te(()=>{});function uf(t){wi=t}function Ei(t){let e=t.datum(),n=t.attr("class");return`${e.a.id}${wi}${n}${wi}${e.c.id}`}function sf(t){t.binding.merge.each((e,n,m)=>{Ui.set(e.a.id,e.a);let g=of.select(m[n]),Q=Ei(g);Ca.set(Q,g)})}function ff(t){for(let e of t)Ca.delete(e)}function Nl(t={}){let n=Array.from(Ca.keys()).map(m=>m.split(wi));if(t.selector!=null&&(n=n.filter(m=>m[1]==t.selector)),t.chart!=null&&(n=n.filter(m=>m[2]==t.chart.id)),t.annotations!=null){let m=t.annotations.map(g=>g.id);n=n.filter(g=>m.includes(g[0]))}return n.map(m=>`${m[0]}${wi}${m[1]}${wi}${m[2]}`)}function _i(t={}){let e=[];if(rf(t))for(let m of t.annotations)e.push(`${m.id}${wi}${t.selector}${wi}${t.chart.id}`);else e=Nl(t);let n=[];for(let m of e){let g=Ca.get(m);g==null?console.error(`glyphMap returned undefined with key ${m}`):n.push(g)}return n}var of,Ca,wi,ci=Te(()=>{of=xn(wn(),1);wr();af();Ca=new Map,wi="|"});function je(t){let e;t.target==li.Viewport?e=t.chart.viewportSelection:t.target==li.Overflow?e=t.chart.overflowViewportSelection:t.target==li.Defs?e=t.chart.defSelection:e=t.target||t.chart.viewportSelection;let n=`${t.selector}-group`,m,g=e.selectAll(`g.${n}`);g.node()!=null?m=cf.select(g.node()):m=g.data([n],Y=>Y).enter().append("g").attr("class",Y=>Y);let Q=t.annotations.map(Y=>({a:Y,c:t.chart})),F=m.selectAll(`${t.elementType}.${t.selector}`).data(Q,Y=>Y.a.id),z=F.enter().append(t.elementType).attr("class",t.selector),I=z.merge(F),E=F.exit();F.exit().remove();let T={g:m,enter:z,merge:I,exit:E};return sf({binding:T,selector:t.selector}),T}var cf,li,Tn=Te(()=>{cf=xn(wn(),1);ci();(function(t){t.Viewport="viewport",t.Overflow="overflow",t.Defs="defs"})(li||(li={}))});function Dl(t){return typeof t=="function"}function ge(t,e){return Dl(t)?t(e):t}var tn,kn=Te(()=>{tn=class{constructor(e){this.selector=e.selector,this.selection=e.selection,this.chart=e.chart,this.annotations=e.annotations,this.x=e.x!=null?e.x:n=>n.c.xScale(n.a.start),this.row=e.row!=null?e.row:n=>n.c.layout.row(n),this.y=e.y!=null?e.y:n=>ge(this.row,n)*n.c.rowHeight+2,this.width=e.width!=null?e.width:n=>n.c.xScale(n.a.end)-n.c.xScale(n.a.start),this.height=e.height!=null?e.height:n=>n.c.rowHeight-4,this.strokeWidth=e.strokeWidth,this.strokeColor=e.strokeColor||"none",this.strokeOpacity=e.strokeOpacity,this.strokeDashArray=e.strokeDashArray,this.strokeDashOffset=e.strokeDashOffset,this.strokeLineCap=e.strokeLineCap,this.strokeLineJoin=e.strokeLineJoin,this.strokeLineCap=e.strokeLineCap,this.fillColor=e.fillColor,this.fillOpacity=e.fillOpacity,this.initializeFn=e.initializeFn||this.defaultInitialize,this.zoomFn=e.zoomFn||this.defaultZoom}initialize(){this.initializeFn()}zoom(){this.zoomFn()}defaultInitialize(){this.applyId(),this.applyStrokeWidth(),this.applyStrokeColor(),this.applyStrokeOpacity(),this.applyStrokeDashArray(),this.applyStrokeDashOffset(),this.applyStrokeLineCap(),this.applyStrokeLineJoin(),this.applyFillColor(),this.applyFillOpacity(),this.zoom()}defaultZoom(){this.applyX(),this.applyWidth(),this.applyY(),this.applyHeight()}applyAttr(e,n){typeof n=="function"?this.selection.attr(e,n):n===null?this.selection.attr(e,n):n!==void 0&&this.selection.attr(e,n)}applyStyle(e,n){typeof n=="function"?this.selection.style(e,n):n===null?this.selection.style(e,n):n!==void 0&&this.selection.style(e,n)}applyId(){this.selection.attr("id",e=>e.a.id)}applyClass(){this.selection.attr("class",this.selector)}applyX(){this.applyAttr("x",this.x)}applyY(){this.applyAttr("y",this.y)}applyWidth(){this.applyAttr("width",this.width)}applyHeight(){this.applyAttr("height",this.height)}applyStrokeWidth(){this.applyStyle("stroke-width",this.strokeWidth)}applyStrokeColor(){this.applyStyle("stroke",this.strokeColor)}applyStrokeOpacity(){this.applyStyle("stroke-opacity",this.strokeOpacity)}applyStrokeDashArray(){this.applyStyle("stroke-dasharray",this.strokeDashArray)}applyStrokeDashOffset(){this.applyStyle("stroke-dashoffset",this.strokeDashOffset)}applyStrokeLineCap(){this.applyStyle("stroke-linecap",this.strokeLineCap)}applyStrokeLineJoin(){this.applyStyle("stroke-linejoin",this.strokeLineJoin)}applyFillColor(){this.applyStyle("fill",this.fillColor)}applyFillOpacity(){this.applyStyle("opacity",this.fillOpacity)}}});function Aa(t){let e=t.selector||Le("soda-horizontal-axis-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"g"})),m=new To(Object.assign({selector:e,selection:n.merge},t));return t.chart.addGlyphModifier(m),n.g}var _r,Il,ql,To,Eo=Te(()=>{_r=xn(wn(),1);br();bn();Tn();kn();Il=new Map,ql=new Map,To=class extends tn{constructor(e){super(e),e.fixed?(this.domain=e.domain||(n=>[n.c.xScale.invert(0),n.c.xScale.invert(n.c.viewportWidthPx-1)]),this.range=e.range||(n=>[0,n.c.viewportWidthPx-1])):(this.domain=e.domain||(n=>[n.a.start,n.a.start+(n.a.end-n.a.start)]),this.range=e.range||(n=>[n.c.xScale(n.a.start),n.c.xScale(n.a.start+(n.a.end-n.a.start))])),this.strokeColor=e.strokeColor||"none",this.ticks=e.ticks||5,this.tickSizeOuter=e.tickSizeOuter||6,this.axisType=e.axisType||Fn.Bottom,this.scaleToBinHeight=e.scaleToBinHeight||!1,this.applyUserSelect()}defaultZoom(){this.selection.attr("transform",e=>`translate(0, ${ge(this.y,e)})`).each((e,n,m)=>{let g=_r.scaleLinear().domain(ge(this.domain,e)).range(ge(this.range,e)),Q=ka(g,this.axisType);if(Q.ticks(ge(this.ticks,e)).tickSizeOuter(ge(this.tickSizeOuter,e)),_r.select(m[n]).call(Q),ql.set(e.a.id,g),Il.set(e.a.id,Q),this.scaleToBinHeight){let F=m[n].getBBox(),z=this.chart.rowHeight/F.height;_r.select(m[n]).attr("transform",`scale(1, ${z})`)}})}applyUserSelect(){this.applyStyle("-webkit-user-select","none"),this.applyStyle("-khtml-user-select","none"),this.applyStyle("-moz-user-select","none"),this.applyStyle("-ms-user-select","none"),this.applyStyle("-o-user-select","none"),this.applyStyle("user-select","none")}}});function Pa(t){let e=t.selector||Le("soda-rect-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"rect"})),m=new tn(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var Oo=Te(()=>{bn();Tn();kn()});function xr(t,e){let n=Ei(t),m=e.get(n);return m==null&&(m=[],e.set(n,m)),m}var zo=Te(()=>{ci()});function df(t){return xr(t,lf)}function pf(t){return xr(t,hf)}function gf(t){for(let e of t)lf.delete(e),hf.delete(e)}function Yi(t){let e=_i(t);if(e==null){console.warn("Glyph query failed when attempting to map click behavior");return}for(let n of e)Ll(n,t)}function Ll(t,e){df(t).push(e.mouseover),pf(t).push(e.mouseout),t.on("mouseover",()=>Fl(t)).on("mouseout",()=>$l(t))}function Fl(t){let e=t.datum(),n=df(t);for(let m of n)m(t,e)}function $l(t){let e=t.datum(),n=pf(t);for(let m of n)m(t,e)}var lf,hf,Ra=Te(()=>{ci();zo();lf=new Map,hf=new Map});function yf(t){return xr(t,mf)}function vf(t){for(let e of t)mf.delete(e)}function bf(t){let e=_i(t);if(e==null){console.warn("Glyph query failed when attempting to map click behavior");return}for(let n of e)Bl(n,t)}function Bl(t,e){yf(t).push(e.click),t.on("click",()=>Hl(t))}function Hl(t){let e=t.datum(),n=yf(t);for(let m of n)m(t,e)}var mf,No=Te(()=>{ci();zo();mf=new Map});function Ta(t){let e=_i(t);if(e!=null){Array.isArray(e)||(e=[e]),Ul(e);let n=e.map(m=>Ei(m));ff(n),gf(n),vf(n)}}function Ul(t){for(let e of t){let n=e.datum().a.id;Ui.delete(n),e.remove()}}var Do=Te(()=>{ci();Ra();No();wr()});var wf,_f=Te(()=>{wf={row:()=>0,rowCount:1}});function Yl(t,e,n=0){return t.start-n<=e.end&&t.end+n>=e.start}var ii,Mr=Te(()=>{ii=class{constructor(e,n=0,m=Yl){this.idMap=new Map,this.edges=new Map;for(let g of e){this.idMap.set(g.id,g),this.edges.set(g.id,[]);for(let Q of e)g!=Q&&m(g,Q,n)&&this.edges.set(g.id,this.edges.get(g.id).concat(Q.id))}}getVertices(){return Array.from(this.edges.keys())}getEdges(e){let n=this.edges.get(e);return n==null&&(n=[]),n}getAnnotationFromId(e){let n=this.idMap.get(e);if(n==null)throw`No annotation with id: ${e} in annotation graph`;return n}}});function Wl(t,e){t.sort((n,m)=>e.getAnnotationFromId(n).start>e.getAnnotationFromId(m).start?1:-1)}function Ea(t,e=0){let n=new ii(t,e),m=new Map,g=0,Q=n.getVertices();Wl(Q,n);let F=new Map;F.set(0,[Q[0]]),m.set(Q[0],0);for(let I of Q.slice(1)){let E=n.getEdges(I),T=0;for(let C=0;C<=g;C++){let it=F.get(C),at=it[it.length-1];if(E.indexOf(at)>-1)T++;else break}let Y=F.get(T);Y==null?(F.set(T,[I]),g++):Y.push(I),m.set(I,T)}return{rowMap:m,row:function(I){return this.rowMap.get(I.a.id)||0},rowCount:g+1}}var Io=Te(()=>{Mr()});var hi,qo=Te(()=>{hi=class{constructor(e,n,m){this.k=e,this.x=n,this.y=m}scale(e){return e===1?this:new hi(this.k*e,this.x,this.y)}translate(e,n){return e===0&&n===0?this:new hi(this.k,this.x+this.k*e,this.y+this.k*n)}apply(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]}applyX(e){return e*this.k+this.x}applyY(e){return e*this.k+this.y}invert(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]}invertX(e){return(e-this.x)/this.k}invertY(e){return(e-this.y)/this.k}rescaleX(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))}rescaleY(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))}toString(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}}});function Sr(t){return t==null?t:typeof t=="number"?`${t}px`:t}function Oa(t){let e=t.node();if(e==null)throw"null selection on call to getSelectionDomRect()";return e.getBoundingClientRect()}var $n,Xn,xf=Te(()=>{$n=xn(wn(),1);Eo();Oo();Tn();bn();Do();br();_f();Io();qo();Xn=class{constructor(e){this.viewportWidthPx=0,this.viewportHeightPx=0,this.initialDomain=[0,1],this.yScale=function(n){return n*this.rowHeight},this.layout=wf,this.rowOpacity=1,this.observers=[],this.glyphModifiers=[],this.id=e.id||Le("soda-chart"),this.selector=e.selector,this.containerSelection=$n.select(this.selector),this.divSelection=this.containerSelection.append("div"),this.padSelection=this.divSelection.append("svg"),this.padSelection.attr("xmlns","http://www.w3.org/2000/svg"),this._transform=new hi(1,0,0),this.padSelection.node().__zoom=this._transform,this.highlightSelection=this.padSelection.append("g").attr("class","highlight"),this.viewportSelection=this.padSelection.append("svg").attr("overflow","hidden"),this.overflowViewportSelection=this.padSelection.append("svg").attr("overflow","visible"),this.defSelection=this.viewportSelection.append("defs"),this.rowHeight=e.rowHeight||10,this.rowCount=1,this.padSize=e.padSize!=null?e.padSize:25,this.leftPadSize=e.leftPadSize!=null?e.leftPadSize:this.padSize,this.rightPadSize=e.rightPadSize!=null?e.rightPadSize:this.padSize,this.upperPadSize=e.upperPadSize!=null?e.upperPadSize:this.padSize,this.lowerPadSize=e.lowerPadSize!=null?e.lowerPadSize:this.padSize,this.divHeight=e.divHeight,this.divWidth=e.divWidth,this.divOverflowX=e.divOverflowX||"hidden",this.divOverflowY=e.divOverflowY||"hidden",this.divOutline=e.divOutline,this.divMargin=e.divMargin,this.padSelection.attr("width","100%").attr("height",this.upperPadSize+this.lowerPadSize+this.rowHeight),this.updateViewportProperties(),this.xScale=$n.scaleLinear(),this.initializeXScale(0,1),this.rowColors=e.rowColors,this.rowOpacity=e.rowOpacity!=null?e.rowOpacity:this.rowOpacity,this.addRowStripes(),this.resizable=e.resizable||!1,this.zoomable=e.zoomable||!1,this.updateLayout=e.updateLayout||this.defaultUpdateLayout,this.updateRowCount=e.updateRowCount||this.defaultUpdateRowCount,this.updateDimensions=e.updateDimensions||this.defaultUpdateDimensions,this.updateDomain=e.updateDomain||this.defaultUpdateDomain,this.draw=e.draw||this.defaultDraw,this.postRender=e.postRender||this.defaultPostRender,this.postZoom=e.postZoom||(()=>{}),this.postResize=e.postResize||(()=>{}),this.zoomConstraint=e.zoomConstraint||[1,1/0],this.domainConstraint=e.domainConstraint||(n=>n.initialDomain),this.zoomable&&this.configureZoom(),this.resizable&&this.configureResize(),e.debugShading&&(this.padSelection.append("rect").attr("width","100%").attr("height","100%").attr("fill","blue").attr("fill-opacity",.03),this.viewportSelection.append("rect").attr("width","100%").attr("height","100%").attr("fill","red").attr("fill-opacity",.03))}render(e){this.renderParams=e,this.updateLayout(e),this.updateRowCount(e),this.updateDimensions(e),this.updateDomain(e),this.draw(e),this.postRender(e)}defaultUpdateLayout(e){e.annotations!=null&&(this.layout=Ea(e.annotations))}defaultUpdateRowCount(e){this.rowCount=e.rowCount!=null?e.rowCount:this.layout.rowCount}defaultUpdateDimensions(e){this.updateDivHeight(),this.updatePadHeight(),this.updateViewportHeight()}defaultUpdateDomain(e){let n=this.domain;e.start!=null&&e.end!=null?n=[e.start,e.end]:e.annotations!=null&&(n=Xn.getDomainFromAnnotations(e.annotations)),this.initialDomain=n,this.domain=n}defaultDraw(e){this.addAxis(),Pa({chart:this,annotations:e.annotations||[],selector:"soda-rect"})}defaultPostRender(){this.applyGlyphModifiers()}addAxis(){Aa({chart:this,selector:"soda-default-axis",annotations:[{id:"axis",start:0,end:this.xScale.range()[1]}],y:-5,fixed:!0,axisType:Fn.Top,target:li.Overflow})}removeRowStripes(){this.defSelection.selectAll("pattern#row-stripes-pattern").remove(),this.viewportSelection.selectAll("rect#row-stripes-rect").remove()}addRowStripes(){if(this.rowColors==null)return;this.removeRowStripes(),this.defSelection.append("pattern").attr("id","row-stripes-pattern").attr("height",this.rowColors.length*this.rowHeight).attr("width","100%").attr("patternUnits","userSpaceOnUse").attr("preserveAspectRatio","xMinYMid meet").selectAll("rect").data(this.rowColors).enter().append("rect").style("fill",n=>n).style("fill-opacity",this.rowOpacity).attr("y",(n,m)=>m*this.rowHeight).attr("height",this.rowHeight).attr("width","100%"),this.viewportSelection.insert("rect",":first-child").attr("id","row-stripes-rect").style("fill","url(#row-stripes-pattern)").style("fill-opacity",.5).attr("height","100%").attr("width","100%")}setDivStyle(e,n){n==null?this.divSelection.style(e,null):this.divSelection.style(e,n)}setPadAttribute(e,n){n==null?this.padSelection.attr(e,null):this.padSelection.attr(e,n)}setViewportAttribute(e,n){n==null?(this.viewportSelection.attr(e,null),this.overflowViewportSelection.attr(e,null)):(this.viewportSelection.attr(e,n),this.overflowViewportSelection.attr(e,n))}set divHeight(e){e=Sr(e),this._divHeight=e,this.setDivStyle("height",e)}get divHeight(){return this.divSelection.style("height")}set divWidth(e){e=Sr(e),this._divWidth=e,this.setDivStyle("width",e)}get divWidth(){return this.divSelection.style("width")}set divOverflowY(e){this._divOverflowY=e,this.setDivStyle("overflow-y",e)}get divOverflowY(){return this.divSelection.style("overflow-y")}set divOverflowX(e){this._divOverflowX=e,this.setDivStyle("overflow-x",e)}get divOverflowX(){return this.divSelection.style("overflow-x")}set divOutline(e){this._divOutline=e,this.setDivStyle("outline",e)}get divOutline(){return this.divSelection.style("outline")}set divMargin(e){e=Sr(e),this._divMargin=e,this.setDivStyle("margin",e)}get divMargin(){return this.divSelection.style("margin")}set viewportHeight(e){e=Sr(e),this._viewportHeight=e,this.setViewportAttribute("height",e)}get viewportHeight(){return this.viewportSelection.attr("height")}set viewportWidth(e){e=Sr(e),this._viewportWidth=e,this.setViewportAttribute("width",e)}get viewportWidth(){return this.viewportSelection.attr("width")}set domain(e){this.xScale.domain(e)}get domain(){let e=this.xScale.domain();return[e[0],e[1]]}set range(e){this.xScale.range(e)}get range(){let e=this.xScale.range();return[e[0],e[1]]}updateDivHeight(){if(this._divHeight!=null)return;let e=this.rowHeight*this.rowCount+this.upperPadSize+this.lowerPadSize;this.divSelection.style("height",`${e}px`)}updateDivWidth(){this._divWidth==null&&this.divSelection.style("width","100%")}updatePadHeight(){if(this._padHeight!=null)return;let e=this.rowCount*this.rowHeight+this.upperPadSize+this.lowerPadSize;this.padSelection.attr("height",e)}updateViewportHeight(){if(this._viewportHeight!=null)return;let e=this.rowCount*this.rowHeight;this.viewportHeightPx=e,this.setViewportAttribute("height",`${e}`)}updateViewportWidth(){if(this._viewportWidth!=null)return;let e=this.calculatePadWidth()-(this.leftPadSize+this.rightPadSize);this.viewportWidthPx=e,this.setViewportAttribute("width",`${e}`)}updateViewportPosition(){this.viewportSelection.attr("x",this.leftPadSize).attr("y",this.upperPadSize),this.overflowViewportSelection.attr("x",this.leftPadSize).attr("y",this.upperPadSize)}updateViewportProperties(){this.updateViewportHeight(),this.updateViewportWidth(),this.updateViewportPosition()}updateRange(){this.range=[0,this.viewportWidthPx]}calculateContainerDimensions(){return Oa(this.containerSelection)}calculateContainerWidth(){return this.calculateContainerDimensions().width}calculateContainerHeight(){return this.calculateContainerDimensions().height}calculateDivDimensions(){return Oa(this.divSelection)}calculatePadDimensions(){return Oa(this.padSelection)}calculatePadWidth(){return this.calculatePadDimensions().width}calculatePadHeight(){return this.calculatePadDimensions().height}calculateViewportDimensions(){return Oa(this.viewportSelection)}calculateViewportWidth(){return this.calculateViewportDimensions().width}calculateViewportHeight(){return this.calculateViewportDimensions().height}configureZoom(){let e=this;this.padSelection.call($n.zoom().filter(()=>$n.event.type==="wheel"?$n.event.ctrlKey:!0).on("zoom",()=>e.zoom())).on("dblclick.zoom",null)}disableZoom(){this.viewportSelection.call($n.zoom().filter(()=>!1).on("zoom",()=>{})).on("dblclick.zoom",null)}set transform(e){this.padSelection.node().__zoom=e,this._transform=e}get transform(){return this._transform=this.padSelection.node().__zoom,this._transform}resetTransform(){let e=this.transform;e.x=0,e.y=0,e.k=1}addGlyphModifier(e,n=!0){n&&e.initialize();for(let[m,g]of this.glyphModifiers.entries())if(g.selector==e.selector){this.glyphModifiers[m]=e;return}this.glyphModifiers.push(e)}applyGlyphModifiers(){for(let e of this.glyphModifiers)e.zoom();this.zoomHighlight()}zoom(){let e,n;$n.event!=null?(e=$n.event.transform,n=$n.event.sourceEvent):console.warn(`d3.event is undefined in zoom() call on chart: ${this.id}`);let m=this.domainConstraint(this),g=m[1]-m[0],F=(this.initialDomain[1]-this.initialDomain[0])/g,z=Math.max(this.zoomConstraint[0],F);e.k<z?e.k=z:e.k>this.zoomConstraint[1]&&(e.k=this.zoomConstraint[1]);let I;n.type=="wheel"?I=this.domainFromWheelEvent(e,n,m):n.type=="mousemove"?I=this.domainFromMousemoveEvent(e,n,m):console.error(`Unhandled event type: ${n.type} in zoom() call on chart: ${this.id}`),I!=null&&(this.domain=I),this.applyGlyphModifiers(),this.alertObservers(),this.postZoom()}domainFromWheelEvent(e,n,m){let g=this.xScale.domain(),Q=g[1]-g[0],F=this.initialDomain[1]-this.initialDomain[0],z=n.offsetX-this.leftPadSize,I=this.xScale.invert(z),E=(I-g[0])/Q,T=(g[1]-I)/Q,Y=F/e.k,C=Y*E,it=Y*T,at=[I-C,I+it];return at[0]=Math.max(at[0],m[0]),at[1]=Math.min(at[1],m[1]),at}domainFromMousemoveEvent(e,n,m){let g=this.xScale.domain(),Q=[g[0],g[1]],F=-(this.xScale.invert(n.movementX)-g[0]);return Q[0]+F<=m[0]?F=m[0]-Q[0]:Q[1]+F>=m[1]&&(F=m[1]-Q[1]),Q[0]+=F,Q[1]+=F,Q}initializeXScale(e,n){this.initialDomain[0]=e,this.initialDomain[1]=n,this.xScale=$n.scaleLinear(),this.domain=[e,n],this.updateRange()}configureResize(){if(this.containerSelection==null){console.warn(`No containerSelection defined on chart: ${this.id}, can't run configureResize()`);return}new ResizeObserver(n=>{for(let m of n)m.target==this.containerSelection.node()&&this.resize()}).observe(this.containerSelection.node())}resize(){this.updatePadHeight(),this.updateViewportProperties(),this.updateRange(),this.applyGlyphModifiers(),this.postResize()}alertObservers(){for(let e of this.observers)e.alert(this)}get renderParams(){if(this._renderParams==null)throw console.error(`_renderParams is not defined on chart: ${this.id}`),"_renderParams undefined";return this._renderParams}set renderParams(e){this._renderParams=e}clear(){this.glyphModifiers=[],Ta({chart:this})}highlight(e){let n=e.selector||Le("highlight"),m=this.highlightSelection.selectAll(`rect.${n}`).data([e]);return m.enter().append("rect").attr("class",n).attr("y",0).attr("height","100%").merge(m).attr("x",this.xScale(e.start)+this.leftPadSize).attr("width",this.xScale(e.end)-this.xScale(e.start)).attr("fill",e.color||"black").attr("fill-opacity",e.opacity||.1),m.exit().remove(),n}clearHighlight(e){e==null?this.highlightSelection.selectAll("rect").remove():this.highlightSelection.selectAll(`rect.${e}`).remove()}zoomHighlight(){this.highlightSelection.selectAll("rect").attr("x",e=>this.xScale(e.start)+this.leftPadSize).attr("width",e=>this.xScale(e.end)-this.xScale(e.start))}static getDomainFromAnnotations(e){if(e==null||e==[])return[0,1];{let n=1/0,m=0;for(let g of e)n=Math.min(g.start,n),m=Math.max(g.end,m);return[n,m]}}}});function Gl(t){return t}function Vl(t,e){return"translate("+t+","+e+")"}function jl(t,e,n){let m=null,g=null,Q=6,F=6,z=12;function I(Y,C){return Vl(...E(Y,C))}function E(Y,C){return[Math.sin(Y)*C,-Math.cos(Y)*C]}function T(Y){let C=m??(t.ticks!=null?t.ticks():t.domain()),it=g??(t.tickFormat?t.tickFormat():Gl),at=Math.max(Q,0)+z,lt=t.range(),Pt=t.copy(),vt=Y.selectAll(".domain").data([null]),It=Y.selectAll(".tick").data(C,t).order(),kt=It.exit(),et=It.enter().append("g").attr("class","tick"),dt=It.select("line"),V=It.select("text");vt=vt.merge(vt.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),It=It.merge(et),dt=dt.merge(et.append("line").attr("stroke","#000")),V=V.merge(et.append("text").attr("fill","#000").attr("dy",".35em").attr("text-anchor","middle")),kt.remove();function h(x,D){return"M"+E(x,D+F*(n?1:-1)).join(",")+"L"+E(x,D).join(",")}function v(x,D,j){return"M"+E(x,j).join(",")+(Math.abs(D-x)>=2*Math.PI?"A"+[j,j,0,1,1].concat(E(x+Math.PI,j)).join(",")+"A"+[j,j,0,1,1].concat(E(x,j)).join(","):"")+"A"+[j,j,0,Math.abs(D-x)%(2*Math.PI)>Math.PI?1:0,D>x?1:0].concat(E(D,j)).join(",")}vt.attr("d",v(lt[0],lt[1],e)+h(lt[0],e)+h(lt[1],e)),It.attr("opacity",1).attr("transform",x=>I(Pt(x),e)),dt.attr("x1",0).attr("y1",0).attr("x2",x=>E(Pt(x),Q)[0]*(n?1:-1)).attr("y2",x=>E(Pt(x),Q)[1]*(n?1:-1)),V.attr("x",x=>E(Pt(x),at)[0]*(n?1:-1)).attr("y",x=>E(Pt(x),at)[1]*(n?1:-1)).text(it),Y.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif")}return T.angleScale=Y=>Y!=null?(t=Y,T):t,T.radius=Y=>Y!=null?(e=Y,T):e,T}function Mf(t,e){return jl(t,e,!0)}var Sf=Te(()=>{});function Xl(t){return e=>kf.arc().innerRadius(n=>n.c.outerRadius-ge(t.y,n)).outerRadius(n=>n.c.outerRadius-(ge(t.y,n)+ge(t.height,n))).startAngle(n=>Math.max(n.c.xScale(n.a.start),0)).endAngle(n=>Math.min(n.c.xScale(n.a.end),2*Math.PI))(e)||""}function za(t){let e=t.selector||Le("soda-radial-rect-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"path"})),m=new Lo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var kf,Zl,Kl,Lo,Fo=Te(()=>{kf=xn(wn(),1);di();Zl=t=>`translate(${t.c.viewportWidthPx/2}, ${t.c.viewportWidthPx/2})`,Kl=t=>{let e=t.c.xScale.domain();return t.a.start<e[1]&&t.a.end>e[0]?"visible":"hidden"},Lo=class extends tn{constructor(e){super(e),this.pathData=Xl(this),this.transform=Zl,this.visibility=Kl}defaultZoom(){this.applyD(),this.applyTransform(),this.applyVisibility()}applyD(){this.applyAttr("d",this.pathData)}applyTransform(){this.applyAttr("transform",this.transform)}applyVisibility(){this.applyAttr("visibility",this.visibility)}}});var pi,Na,Cf=Te(()=>{pi=xn(wn(),1);Sf();di();Fo();Na=class extends Xn{constructor(e){super(e),this.trackHeight=e.trackHeight||this.viewportWidthPx/4,this.outerRadius=this.viewportWidthPx/2,this.innerRadius=this.outerRadius-this.trackHeight,this.rowCount=e.rowCount||1,this.rowHeight=this.trackHeight/this.rowCount,this.setPadAttribute("height","100%"),this.updateDimensions=e.updateDimensions||function(){this.squareToDivWidth(),this.updateViewportProperties(),this.fitRadialDimensions(),this.renderTrackOutline()},this.draw=e.draw||function(n){this.addAxis(),za({chart:this,annotations:n.annotations||[]})},this.configureZoom()}fitRadialDimensions(){this.trackHeight=this.viewportWidthPx/4,this.outerRadius=this.viewportWidthPx/2,this.innerRadius=this.outerRadius-this.trackHeight,this.rowHeight=this.trackHeight/this.rowCount}configureZoom(){let e=this;this.padSelection.call(pi.zoom().filter(()=>pi.event.type==="wheel"?pi.event.ctrlKey:!0).scaleExtent([1,1/0]).on("zoom",()=>e.zoom())).on("dblclick.zoom",null)}addTrackOutline(){this.trackOutlineSelection=this.viewportSelection.selectAll("path.track-outline").data(["track-outline"]).enter().append("path").attr("class","track-outline"),this.renderTrackOutline()}renderTrackOutline(){this.trackOutlineSelection!=null&&this.trackOutlineSelection.attr("transform",`translate(${this.viewportWidthPx/2}, ${this.viewportWidthPx/2})`).attr("d",pi.arc().innerRadius(this.innerRadius-1).outerRadius(this.innerRadius).startAngle(0).endAngle(2*Math.PI)(null))}addAxis(){this.overflowViewportSelection.selectAll("g.radial-axis").data(["radial-axis"]).enter().append("g").attr("class","radial-axis"),this.renderAxis()}renderAxis(){let e=Mf(this.xScale,this.outerRadius);this.overflowViewportSelection.selectAll("g.radial-axis").call(e).attr("transform",`translate(${this.viewportWidthPx/2}, ${this.viewportWidthPx/2})`)}squareToDivWidth(){let e=this.calculateDivDimensions();this.divHeight=e.width}updateViewportHeight(){if(this._viewportHeight!=null)return;let e=this.calculatePadHeight()-(this.upperPadSize+this.lowerPadSize);this.viewportHeightPx=e,this.setViewportAttribute("height",`${e}`)}updateViewportWidth(){if(this._viewportWidth!=null)return;let e=this.calculatePadWidth()-(this.leftPadSize+this.rightPadSize);this.viewportWidthPx=e,this.setViewportAttribute("width",`${e}`)}resize(){this.squareToDivWidth(),this.updateViewportProperties(),this.fitRadialDimensions(),this.renderAxis(),this.renderTrackOutline(),this.applyGlyphModifiers(),this.postResize()}zoom(){super.zoom(),this.renderAxis(),this.renderTrackOutline()}domainFromWheelEvent(e,n){let m=this.xScale.domain(),g=m[1]-m[0],Q=this.initialDomain[1]-this.initialDomain[0],F=n.offsetY-this.upperPadSize-this.viewportWidthPx/2,z=n.offsetX-this.leftPadSize-this.viewportWidthPx/2,I=Math.sqrt(F*F+z*z),E=Math.asin(z/I);F<0?z<0&&(E+=2*Math.PI):E=Math.PI-E;let T=this.xScale.invert(E),Y=(T-m[0])/g,C=(m[1]-T)/g,it=Q/e.k,at=it*Y,lt=it*C,Pt=[T-at,T+lt];return Pt[0]=Math.max(Pt[0],this.initialDomain[0]),Pt[1]=Math.min(Pt[1],this.initialDomain[1]),Pt}domainFromMousemoveEvent(e,n){let m=this.xScale.domain(),g=[m[0],m[1]],F=n.movementX/this.outerRadius*Math.PI*-1,z=this.xScale.invert(F)-this.xScale.invert(0);return g[0]+z<=this.initialDomain[0]?z=this.initialDomain[0]-g[0]:g[1]+z>=this.initialDomain[1]&&(z=this.initialDomain[1]-g[1]),g[0]+=z,g[1]+=z,g}updateRange(){this.xScale.range([0,2*Math.PI])}highlight(e){let n=e.selector||Le("highlight"),m=this.highlightSelection.selectAll(`path.${n}`).data([e]);return m.enter().append("path").attr("class",n).attr("transform",`translate(${this.viewportWidthPx/2+this.leftPadSize}, ${this.viewportWidthPx/2+this.upperPadSize})`).merge(m).attr("d",Q=>pi.arc().innerRadius(()=>this.innerRadius).outerRadius(()=>this.outerRadius).startAngle(F=>Math.max(this.xScale(F.start),0)).endAngle(F=>Math.min(this.xScale(F.end),2*Math.PI))(Q)).attr("fill",e.color||"black").attr("fill-opacity",e.opacity||.1),m.exit().remove(),n}clearHighlight(e){e==null?this.highlightSelection.selectAll("rect").remove():this.highlightSelection.selectAll(`rect.${e}`).remove()}zoomHighlight(){this.highlightSelection.selectAll("path").attr("transform",`translate(${this.viewportWidthPx/2+this.leftPadSize}, ${this.viewportWidthPx/2+this.upperPadSize})`).attr("d",e=>pi.arc().innerRadius(n=>this.innerRadius).outerRadius(n=>this.outerRadius).startAngle(n=>Math.max(this.xScale(n.start),0)).endAngle(n=>Math.min(this.xScale(n.end),2*Math.PI))(e))}}});var Af=Te(()=>{xf();Cf();qo()});var Pf=Te(()=>{Tn();ci();kn();Do();wr();ci();ci()});function Ql(t,e,n,m){return g=>{let Q=ge(e,g),F=ge(t,g),z=ge(n,g),I=F+Q/2,E=z-ge(m,g)*2,T=F+Q;return`M ${F},${z} Q ${I},${E} ${T},${z}`}}function Rf(t){let e=t.selector||Le("soda-arc-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"path"})),m=new $o(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var $o,Tf=Te(()=>{bn();Tn();kn();$o=class extends tn{constructor(e){super(e),this.y=n=>(ge(this.row,n)+1)*n.c.rowHeight-2,this.d=Ql(this.x,this.width,this.y,this.height),this.fillColor=e.fillColor||"none"}defaultZoom(){this.setD()}setD(){this.applyAttr("d",this.d)}}});function Ef(t){let e=t.selector||Le("soda-vertical-axis-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"g"})),m=new Bo(Object.assign({selector:e,selection:n.merge},t));return t.chart.addGlyphModifier(m),n.g}var Da,Bo,Of=Te(()=>{Da=xn(wn(),1);br();bn();Tn();kn();Bo=class extends tn{constructor(e){super(e),this.strokeColor=e.strokeColor||"none",this.domain=e.domain||[0,1],this.rowSpan=e.rowSpan||1,this.range=e.range||(n=>[0,n.c.rowHeight*this.rowSpan-4]),this.ticks=e.ticks||5,this.tickSizeOuter=e.tickSizeOuter||6,this.axisType=e.axisType||Fn.Left,this.applyUserSelect()}defaultZoom(){this.selection.attr("transform",e=>`translate(${ge(this.x,e)}, ${ge(this.y,e)})`).each((e,n,m)=>{let g=ge(this.domain,e),Q=Da.scaleLinear().domain([g[1],g[0]]).range(ge(this.range,e)),F=ka(Q,this.axisType);F.ticks(ge(this.ticks,e)).tickSizeOuter(ge(this.ticks,e)),Da.select(m[n]).call(F)})}applyUserSelect(){this.applyStyle("-webkit-user-select","none"),this.applyStyle("-khtml-user-select","none"),this.applyStyle("-moz-user-select","none"),this.applyStyle("-ms-user-select","none"),this.applyStyle("-o-user-select","none"),this.applyStyle("user-select","none")}}});function zf(t){let e=t.selector||Le("soda-line-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"line"})),m=new kr(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return m.initialize(),t.chart.glyphModifiers.push(m),n.g}var kr,Ho=Te(()=>{bn();Tn();kn();kr=class extends tn{constructor(e){super(e),this.x1=e.x1||e.x||(n=>n.c.xScale(n.a.start)),this.x2=e.x2||(n=>n.c.xScale(n.a.end)),this.y1=e.y1||e.y||(n=>(ge(this.row,n)+.5)*n.c.rowHeight),this.y2=e.y2||this.y1,this.strokeColor=e.strokeColor||"black"}defaultZoom(){this.applyX1(),this.applyX2(),this.applyY1(),this.applyY2()}applyX1(){this.applyAttr("x1",this.x1)}applyX2(){this.applyAttr("x2",this.x2)}applyY1(){this.applyAttr("y1",this.y1)}applyY2(){this.applyAttr("y2",this.y2)}}});function Jl(t,e,n,m){return g=>{let Q=ge(t,g),F=ge(e,g),z=ge(n,g),I=ge(m,g),E=Q-F,T,Y,C,it,at,lt;if(I==Ln.Forward)T=0,it=E/2,Y=z,at=it+F/2,C=0,lt=at+F/2;else if(I==Ln.Reverse)T=z,it=E/2,Y=0,at=it+F/2,C=z,lt=at+F/2;else return console.error("Bad orientation in chevron pattern path D callback"),"";return`M ${T},${it} L ${Y},${at} L ${C},${lt}`}}function th(t){return e=>{let n=ge(t,e);return n==Ln.Forward?e.c.xScale(e.a.start):n==Ln.Reverse?e.c.xScale(e.a.end):(console.error("Bad orientation in chevron pattern x callback"),0)}}var Oi,Wi,Uo=Te(()=>{kn();yr();Oi=xn(wn(),1);Wi=class extends tn{constructor(e){super(e),this.orientation=e.orientation||Ln.Forward,this.x=e.x||th(this.orientation),this.height=e.height||(n=>n.c.rowHeight-4),this.width=e.width||(n=>ge(this.height,n)/2+ge(this.chevronSpacing,n)),this.fillColor=e.fillColor||"None",this.fillOpacity=e.fillOpacity||1,this.disableAt=e.disableAt||1/0,this.chevronFillColor=e.chevronFillColor||"None",this.chevronFillOpacity=e.chevronFillOpacity||0,this.chevronStrokeColor=e.chevronStrokeColor||"black",this.chevronStrokeOpacity=e.chevronStrokeOpacity||1,this.chevronHeight=e.chevronHeight||this.height,this.chevronWidth=e.chevronWidth||(n=>ge(this.chevronHeight,n)/2),this.chevronSpacing=e.chevronSpacing||0,this.pathD=Jl(this.height,this.chevronHeight,this.chevronWidth,this.orientation)}defaultInitialize(){this.applyId(),this.applyClass(),this.applyAttr("patternUnits","userSpaceOnUse"),this.selection.append("rect").attr("x",0).attr("y",0).attr("width",e=>ge(this.width,e)).attr("height",e=>ge(this.height,e)),this.selection.append("path").style("stroke-linejoin","miter").attr("d",e=>ge(this.pathD,e)),this.applyFillColor(),this.applyFillOpacity(),this.applyChevronFillColor(),this.applyChevronFillOpacity(),this.applyChevronStrokeColor(),this.applyChevronStrokeOpacity(),this.zoom()}applyFillColor(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("rect").style("fill",ge(this.fillColor,e))})}applyFillOpacity(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("rect").attr("fill-opacity",ge(this.fillOpacity,e))})}applyChevronStrokeColor(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("path").style("stroke",ge(this.chevronStrokeColor,e))})}applyChevronStrokeOpacity(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("path").attr("stroke-opacity",ge(this.chevronStrokeOpacity,e))})}applyChevronFillColor(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("path").style("fill",ge(this.chevronFillColor,e))})}applyChevronFillOpacity(){this.selection.each((e,n,m)=>{Oi.select(m[n]).selectAll("path").attr("fill-opacity",ge(this.chevronFillOpacity,e))})}}});function Nf(t){let e=t.selector||Le("soda-chevron-line-glyph"),n=e+"-pattern",m=e+"-rect",g=e+"-line",Q=je(Object.assign(Object.assign({},t),{annotations:[],selector:e,elementType:"g"})),F=je(Object.assign(Object.assign({},t),{selector:e,elementType:"pattern",target:Q.g})),z=je(Object.assign(Object.assign({},t),{selector:e,elementType:"rect",target:Q.g})),I=je(Object.assign(Object.assign({},t),{selector:e,elementType:"line",target:Q.g})),E=new Wi(Object.assign(Object.assign({},t),{selector:n,selection:F.merge})),T=new tn(Object.assign(Object.assign({},t),{selector:m,selection:z.merge,fillColor:C=>`url(#${C.a.id})`,strokeColor:"none"})),Y=new kr(Object.assign(Object.assign({},t),{selector:g,selection:I.merge}));return t.chart.addGlyphModifier(E),t.chart.addGlyphModifier(T),t.chart.addGlyphModifier(Y),Q.g}var Df=Te(()=>{bn();Tn();kn();Ho();Uo()});function If(t){let e=t.selector||Le("soda-chevron-rect-glyph"),n=e+"-pattern",m=n+"-internal",g=e+"-rect",Q=g+"-internal",F=je(Object.assign(Object.assign({},t),{annotations:[],selector:e,elementType:"g"})),z=je(Object.assign(Object.assign({},t),{selector:n,elementType:"pattern",target:F.g})),I=je(Object.assign(Object.assign({},t),{selector:g,elementType:"rect",target:F.g})),E=new Wi(Object.assign(Object.assign({},t),{selector:m,selection:z.merge})),T=new tn(Object.assign(Object.assign({},t),{selector:Q,selection:I.merge,fillColor:Y=>`url(#${Y.a.id})`,strokeColor:t.strokeColor||"black"}));return E.initialize(),T.initialize(),t.chart.glyphModifiers.push(E),t.chart.glyphModifiers.push(T),F.g}var qf=Te(()=>{bn();Tn();kn();Uo()});function Gi(t,e){let n=e.rowSpan||1,m=e.domain||[0,1],g=e.range||(Q=>[0,Q.c.rowHeight*n-4]);for(let Q of e.data)t.set(Q.a.id,Lf.scaleLinear().domain(ge(m,Q)).range(ge(g,Q)))}var Lf,Ia=Te(()=>{Lf=xn(wn(),1);kn()});function Bf(t){let e=t.selector||Le("soda-bar-plot-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"g"})),m=n.g.selectAll(`g.${e}`).data();Gi($f,Object.assign(Object.assign({},t),{data:m}));let g=new Yo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(g),n.g}var Ff,$f,eh,Yo,Hf=Te(()=>{Ff=xn(wn(),1);bn();Tn();Ia();kn();$f=new Map,eh=(t,e)=>{let n=$f.get(t.id);return n==null?(console.error(`yScale not defined for annotation: ${t.id} in call to barPlot()`),0):n(e)},Yo=class extends tn{constructor(e){super(e),this.y=e.y!=null?e.y:n=>ge(this.row,n)*n.c.rowHeight-2,this.strokeColor=e.strokeColor||"none",this.barHeightFn=e.barHeightFn||eh}defaultInitialize(){super.defaultInitialize(),this.selection.selectAll("rect").data(e=>Array.from(e.a.values.entries())).enter().append("rect"),this.zoom()}defaultZoom(){this.applyY(),this.selection.each((e,n,m)=>{Ff.select(m[n]).selectAll("rect").attr("x",g=>e.c.xScale(e.a.start+g[0])).attr("y",g=>e.c.rowHeight-this.barHeightFn(e.a,g[1])).attr("width",()=>this.chart.xScale(1)-this.chart.xScale(0)).attr("height",g=>this.barHeightFn(e.a,g[1]))})}applyY(){this.applyAttr("transform",e=>`translate(0, ${ge(this.y,e)})`)}}});function qa(t){let e=t.selector||Le("soda-heatmap-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"g"}));if(t.outlineColor||t.backgroundColor){let g=e+"-background",Q=je(Object.assign(Object.assign({},t),{selector:g,target:n.g,elementType:"rect"})),F=new tn(Object.assign(Object.assign({},t),{strokeColor:t.outlineColor||"none",fillColor:t.backgroundColor||"none",selector:g,selection:Q.merge}));t.chart.addGlyphModifier(F)}let m=new Wo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var zi,Wo,Uf=Te(()=>{zi=xn(wn(),1);bn();Tn();kn();Wo=class extends tn{constructor(e){super(e),this.strokeColor=e.strokeColor||"none",this.colorScheme=e.colorScheme||zi.interpolateViridis,this.domain=e.domain||[0,1]}defaultInitialize(){super.defaultInitialize(),this.selection.selectAll("rect").remove(),this.selection.each((e,n,m)=>{let g=zi.scaleSequential(this.colorScheme).domain(ge(this.domain,e));zi.select(m[n]).selectAll("rect").data(Array.from(e.a.values.entries())).enter().append("rect").attr("fill",Q=>g(Q[1]))}),this.zoom()}defaultZoom(){this.applyY(),this.selection.each((e,n,m)=>{zi.select(m[n]).selectAll("rect").attr("x",g=>this.chart.xScale(e.a.start+g[0])).attr("width",()=>this.chart.xScale(1)-this.chart.xScale(0)).attr("height",ge(this.height,e))})}applyY(){this.applyAttr("transform",e=>`translate(0, ${ge(this.y,e)})`)}}});function Wf(t){let e=t.selector||Le("soda-line-plot-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"path"})),m=n.g.selectAll(`path.${e}`).data();Gi(Yf,Object.assign(Object.assign({},t),{data:m}));let g=new Go(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(g),n.g}var La,Yf,nh,Go,Gf=Te(()=>{La=xn(wn(),1);bn();Tn();Ia();kn();Yf=new Map,nh=t=>{let e=Yf.get(t.a.id);if(e==null)return console.error(`yScale not defined for annotation: ${t.a.id} in call to linePlot()`),"";let n=La.path(),m=La.curveLinear(n);m.lineStart();for(let[g,Q]of t.a.values.entries())m.point(t.c.xScale(t.a.start+g),e(Q));return m.lineEnd(),n.toString()},Go=class extends tn{constructor(e){super(e),this.pathData=e.pathData||nh,this.strokeColor=e.strokeColor||"black",this.fillColor=e.fillColor||"none"}defaultZoom(){this.applyY(),this.applyD()}applyD(){this.applyAttr("d",this.pathData)}applyY(){this.applyAttr("transform",e=>`translate(0, ${ge(this.y,e)})`)}}});function ih(t){return e=>{let n=Vf.get(e.a.id);if(n==null)return console.error("yScale not defined for",e.a,"in call to area()"),"";let m=Fa.path(),g=Fa.curveLinear(m);g.lineStart();let Q=ge(t.fillDirection,e),F=n.range();Q==Cr.Down?g.point(e.c.xScale(e.a.start),F[1]):g.point(e.c.xScale(e.a.start),e.c.rowHeight);for(let[z,I]of e.a.values.entries())g.point(e.c.xScale(e.a.start+z),n(I));return Q==Cr.Down?(g.point(e.c.xScale(e.a.start+e.a.values.length),F[1]),g.point(e.c.xScale(e.a.start),F[1])):(g.point(e.c.xScale(e.a.start+e.a.values.length),e.c.rowHeight),g.point(e.c.xScale(e.a.start),e.c.rowHeight)),g.lineEnd(),m.toString()}}function jf(t){let e=t.selector||Le("soda-area-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"path"})),m=n.g.selectAll(`path.${e}`).data();Gi(Vf,Object.assign(Object.assign({},t),{data:m}));let g=new Vo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(g),n.g}var Fa,Cr,Vf,Vo,Xf=Te(()=>{Tn();Fa=xn(wn(),1);kn();bn();Ia();(function(t){t.Up="up",t.Down="down"})(Cr||(Cr={}));Vf=new Map;Vo=class extends tn{constructor(e){super(e),this.pathData=ih(this),this.fillDirection=e.fillDirection||Cr.Down}defaultZoom(){this.applyY(),this.applyD()}applyD(){this.applyAttr("d",this.pathData)}applyY(){this.applyAttr("transform",e=>`translate(0, ${ge(this.y,e)})`)}}});function Ar(t){let e=t.selector||Le("soda-sequence-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"text"})),m=new jo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var Zf,jo,Kf=Te(()=>{Zf=xn(wn(),1);bn();Tn();kn();jo=class extends tn{constructor(e){super(e),this.offset=0,this.strokeColor=e.strokeColor||"none",this.y=e.y||(n=>(ge(this.row,n)+1)*n.c.rowHeight-2),this.x=e.x||(n=>n.c.xScale(n.a.start)-this.offset),this.fontFamily="monospace",this.updateOffset()}defaultInitialize(){super.defaultInitialize(),this.selection.text(e=>e.a.sequence),this.applyFontFamily()}defaultZoom(){this.updateOffset(),this.applyTextLength(),this.applyX(),this.applyY()}updateOffset(){let e=Zf.select("body").append("svg"),n=e.append("text").text("A").attr("font-family",this.fontFamily).node().getComputedTextLength();e.remove(),this.offset=n/2}applyFontFamily(){this.applyStyle("font-family",this.fontFamily)}applyTextLength(){this.applyAttr("textLength",e=>e.c.xScale(e.a.start+(e.a.end-e.a.start)-1)-e.c.xScale(e.a.start)+2*this.offset)}}});var Vi,Xo=Te(()=>{kn();Vi=class extends tn{constructor(e){super(e),this.fillColor=e.fillColor||"black",this.strokeColor=e.strokeColor||"none",this.textAnchor=e.textAnchor||"start",this.fontSize=e.fontSize||12,this.fontWeight=e.fontWeight||"normal",this.fontFamily=e.fontFamily||"Titillium Web, Arial, sans-serif",this.fontStyle=e.fontStyle||"normal",this.alignmentBaseline=e.alignmentBaseline||"hanging"}defaultInitialize(){super.defaultInitialize(),this.applyUserSelect(),this.applyTextAnchor(),this.applyFontSize(),this.applyFontWeight(),this.applyFontFamily(),this.applyFontStyle(),this.applyAlignmentBaseline()}defaultZoom(){this.applyX(),this.applyY()}applyUserSelect(){this.applyStyle("-webkit-user-select","none"),this.applyStyle("-khtml-user-select","none"),this.applyStyle("-moz-user-select","none"),this.applyStyle("-ms-user-select","none"),this.applyStyle("-o-user-select","none"),this.applyStyle("user-select","none")}applyTextAnchor(){this.applyStyle("text-anchor",this.textAnchor)}applyFontSize(){this.applyStyle("font-size",this.fontSize)}applyFontWeight(){this.applyStyle("font-weight",this.fontWeight)}applyFontFamily(){this.applyStyle("font-family",this.fontFamily)}applyFontStyle(){this.applyStyle("font-style",this.fontStyle)}applyAlignmentBaseline(){this.applyStyle("alignment-baseline",this.alignmentBaseline)}}});function rh(t,e){let n=tc.get(t.id);if(n===void 0)return console.error(`text thresholds undefined for annotation: ${t.id}, returning empty string`),"";let m=Jf.get(t.id);if(m===void 0)return console.error(`text undefined for annotation: ${t.id} returning empty string`),"";let g=0,Q=e.domain,F=Q[1]-Q[0];for(let z of n){if(F<=z)return m[g];g++}return""}function ah(t){let e=Qf.select("body").append("svg").append("text").attr("class","tmp-text");for(let n of t.annotations){let m=ge(t.text,{a:n,c:t.chart});Jf.set(n.id,m);let g=m.map(Q=>{t.fontSize&&e.style("font-size",ge(t.fontSize,{a:n,c:t.chart})),t.fontFamily&&e.style("font-family",ge(t.fontFamily,{a:n,c:t.chart})),t.fontWeight&&e.style("font-weight",ge(t.fontWeight,{a:n,c:t.chart})),t.fontStyle&&e.style("font-style",ge(t.fontStyle,{a:n,c:t.chart}));let F=e.text(Q).node().getComputedTextLength();return(n.end-n.start)*t.chart.viewportWidthPx/F});tc.set(n.id,g)}e.remove()}function ec(t){let e=t.selector||Le("soda-text-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"text"})),m=new Zo(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var Qf,Jf,tc,Zo,nc=Te(()=>{Qf=xn(wn(),1);bn();Tn();kn();Xo();Jf=new Map,tc=new Map;Zo=class extends Vi{constructor(e){super(e),this.text=e.text,ah(this)}defaultInitialize(){super.defaultInitialize(),this.applyText()}defaultZoom(){super.defaultZoom(),this.applyText()}applyText(){this.selection.text(e=>rh(e.a,e.c))}}});function Pr(t){let e=t.selector||Le("soda-text-glyph"),n=je(Object.assign(Object.assign({},t),{selector:e,elementType:"text"})),m=new Ko(Object.assign(Object.assign({},t),{selector:e,selection:n.merge}));return t.chart.addGlyphModifier(m),n.g}var Ko,ic=Te(()=>{bn();Tn();Xo();kn();Ko=class extends Vi{constructor(e){super(e),this.text=e.text}defaultInitialize(){super.defaultInitialize(),this.applyText()}defaultZoom(){super.defaultZoom(),this.applyText()}applyText(){this.selection.text(e=>ge(this.text,e))}}});var rc=Te(()=>{Tf();br();Eo();Of();Df();qf();wr();Ho();Hf();Uf();Gf();Xf();Fo();Oo();Kf();nc();ic()});function oh(){if(!ac){Tr=Rr.select("body").append("div").attr("class","soda-tooltip").style("background-color","lightsteelblue").style("border-radius","8px").style("padding","4px").style("position","absolute").style("opacity",0),ac=!0;return}}function oc(t){oh(),Yi(Object.assign(Object.assign({},t),{mouseover:(e,n)=>{uh(e,n,t)},mouseout:()=>{sh()}}))}function uh(t,e,n){let m=n.textColor||"black",g=n.fontSize||10,Q=n.fontWeight||"normal",F=n.fontFamily||"Titillium Web, Arial, sans-serif",z=n.fontStyle||"normal",I=n.opacity||1,E=n.backgroundColor||"lightsteelblue",T=n.borderRadius||8,Y=n.padding||6;Tr.style("background-color",ge(E,e)).style("border-radius",ge(T,e)+"px").style("padding",ge(Y,e)+"px").interrupt().transition().duration(200).style("opacity",ge(I,e)),Tr.html(ge(n.text,e)).style("color",ge(m,e)).style("font-size",ge(g,e)).style("font-weight",ge(Q,e)).style("font-family",ge(F,e)).style("font-style",ge(z,e)).style("left",Rr.event.pageX+"px").style("top",Rr.event.pageY+20+"px")}function sh(){Tr.transition().duration(500).style("opacity",0).on("end",()=>{Tr.html("").style("left","0px").style("top","0px")})}var Rr,ac,Tr,uc=Te(()=>{Rr=xn(wn(),1);Ra();kn();ac=!1});var sc=Te(()=>{No();Ra();uc()});function fc(t,e=0,n=fh){let m=new ii(t,e),g=new Map,Q=0;for(;m.edges.size>0;){let z=new Map,I=m.getVertices();n(I,m);for(let E of I)z.set(E,!0);for(let E of I)if(z.get(E)){g.set(m.getAnnotationFromId(E).id,Q);for(let T of m.getEdges(E))z.delete(T);z.delete(E),m.edges.delete(E)}Q++}return{rowMap:g,row:function(z){return this.rowMap.get(z.a.id)||0},rowCount:Q}}var fh,cc=Te(()=>{Mr();fh=(t,e)=>{t.sort((n,m)=>{let g=e.getAnnotationFromId(n),Q=e.getAnnotationFromId(m),F=g.end-g.start,z=Q.end-Q.start;return F>z?-1:1})}});function hc(t,e=100,n=0){let m=new ii(t,n),g=lc(m.edges),Q=1/0,F=new Map,z=-1;for(let E=0;E<e;E++){let T=new Map;for(z=0;g.size>0;){let Y=new Map,C=ch(Array.from(g.keys()));for(let it of C)Y.set(it,!0);for(let it of C)if(Y.get(it)){T.set(it,z);for(let at of g.get(it))Y.delete(at);Y.delete(it),g.delete(it)}z++}g=lc(m.edges),z<Q&&(Q=z,F=T)}return{rowMap:F,row:function(E){return this.rowMap.get(E.a.id)||0},rowCount:Q}}function lc(t){let e=new Map;for(let n of t.keys())e.set(n,t.get(n));return e}function ch(t){for(let e=t.length-1;e>0;e--){let n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}return t}var dc=Te(()=>{Mr()});var pc=Te(()=>{Mr();Io();cc();dc()});var ji,Qo=Te(()=>{ji=class{constructor(){this.charts=[]}add(e){if(Array.isArray(e))for(let n of e)this.addChart(n);else this.addChart(e)}addChart(e){this.charts.push(e),e.observers.push(this)}}});var $a,gc=Te(()=>{Qo();$a=class extends ji{constructor(){super()}alert(e){let n=e.transform,m=e.xScale.domain();for(let g of this.charts)if(g.id!==e.id){let Q=g.transform;Q.k=n.k,g.domain=[m[0],m[1]],g.applyGlyphModifiers(),g.postZoom()}}}});var mc=Te(()=>{Qo();gc()});function yc(t){Array.isArray(t)||(t=t.split(`
`));let e=[],n=/^\s*$/;for(let m of t){if(n.exec(m))continue;let g=m.split(/\s+/);e.push({id:Le("bed-ann"),start:parseInt(g[1]),end:parseInt(g[2]),chrom:g[0],name:g[3],score:g[4]!=null?parseFloat(g[4]):void 0,strand:g[5]!=null?Br(g[5]):void 0,thickStart:g[6]!=null?parseInt(g[6]):void 0,thickEnd:g[7]!=null?parseInt(g[7]):void 0,itemRgb:g[8],blockCount:g[9]!=null?parseInt(g[9]):void 0,blockSizes:g[10]!=null?g[10].split(",").map(Q=>parseInt(Q)):void 0,blockStarts:g[11]!=null?g[11].split(",").map(Q=>parseInt(Q)):void 0})}return e}var vc=Te(()=>{yr();bn()});function bc(t){Array.isArray(t)||(t=t.split(`
`));let e=[],n=/^\s*$/;for(let m of t){if(n.exec(m))continue;let g=m.split("	");g.length<9&&console.warn("GFF3 split length less than 9");let Q,F;if(g[8]!="."){Q=new Map;let z=g[8].split(";");for(let I of z){let E=I.split("=");Q.set(E[0],E[1])}F=Q.get("ID")}e.push({id:F||Le("gff3-annotation"),start:g[3]!=null&&g[0]!="."?parseInt(g[3]):0,end:g[4]!=null&&g[4]!="."?parseInt(g[4]):0,seqid:g[0]!="."?g[0]:void 0,source:g[1]!="."?g[1]:void 0,type:g[2]!="."?g[2]:void 0,score:g[5]!=null&&g[5]!="."?parseFloat(g[5]):void 0,strand:g[6]!=null&&g[6]!="."?Br(g[6]):void 0,phase:g[7]!=null&&g[7]!="."?lh(g[7]):void 0,attributes:Q})}return e}function lh(t){let e=parseInt(t);if(e==1||e==2||e==3)return e}var wc=Te(()=>{bn();yr()});var _c=Te(()=>{vc();wc()});function xc(t){let e=t.annotations.slice(),n=[];for(;e.length>0;){let m=new Yn({id:Le(t.idPrefix||"transitively-aggregated-group")}),g=e[0];m.add(g),Ba(e,0);for(let Q=0;Q<e.length;Q++)t.criterion(g,e[Q])&&(m.add(e[Q]),Ba(e,Q),Q--);n.push(m)}return n}function Mc(t){let e=t.annotations.slice(),n=[];for(;e.length>0;){let m=new Yn({id:Le("transitively-aggregated-group")});m.add(e[0]),Ba(e,0);for(let g=0;g<e.length;g++){let Q=e[g];for(let F of m.annotations)if(t.criterion(Q,F)){m.add(e[g]),Ba(e,g),g--;break}}n.push(m)}return n}function Ba(t,e){t[e]=t[t.length-1],t.pop()}var Sc=Te(()=>{xo();bn()});function Ha(t){let e=t.target.split(""),n=t.query.split(""),m=[],g=[],Q=[],F=[],z=!1,I=0,E=0,T=0;for(let et=0;et<e.length;et++){let dt=e[et],V=n[et];dt=="-"||dt=="."?z||(z=!0,I=et):(dt==V?(m.push(V),g.push(Xi),Q.push(Xi)):V=="-"||V=="."?(m.push(Xi),g.push(Xi),Q.push(V)):(m.push(Xi),g.push(V),Q.push(Xi)),z&&(T=et-I,F.push([I-E,T]),E+=T,z=!1))}let Y=m.join(""),C=g.join(""),it=Q.join(""),at=t.end||t.start+Y.length,lt=0,Pt={id:t.id+"-matches",start:t.start,end:at,sequence:Y},vt={id:t.id+"-substitutions",start:t.start,end:at,sequence:C},It={id:t.id+"-gaps",start:t.start,end:at,sequence:it},kt=F.map(et=>{let dt=t.start+et[0]-.5;return{id:t.id+`-insertion-${lt++}`,start:dt,end:dt+et[1],sequence:n.splice(et[0],et[1]).join("")}});return{matches:Pt,substitutions:vt,gaps:It,inserts:kt}}var Xi,kc=Te(()=>{Xi="\u2000"});function Ya(t){let e=[];if(t.generationPattern==Zi.Sequential||t.generationPattern==null)for(let n=0;n<t.n;n++){let m=n*((t.width||100)+(t.pad||0)),g=m+(t.width||100);e.push({id:Le("soda-gen-ann"),start:m,end:g})}else if(t.generationPattern==Zi.Random)for(let n=0;n<t.n;n++){let m=Ua(t.maxX||1e3),g=m+Ua(t.width||100);e.push({id:Le("soda-gen-ann"),start:m,end:g})}return e}function Cc(t){return Ya(t).map(n=>{let m="";for(let g=0;g<(t.width||100);g++)m+=hh[Ua(4)];return Object.assign(Object.assign({},n),{sequence:m})})}function Ac(t){return Ya(t).map(n=>{let m=[];for(let g=0;g<(t.width||100);g++)m[g]=Ua(100)/100;return Object.assign(Object.assign({},n),{values:m})})}function Ua(t){return Math.floor(Math.random()*Math.floor(t))}var Zi,hh,Pc=Te(()=>{bn();(function(t){t.Sequential="sequential",t.Random="random"})(Zi||(Zi={}));hh=["A","C","T","G"]});function Rc(t,e,n){let m=e-t.start,g=t.end-n,Q=t.end-t.start;return{start:Math.max(t.start,e),end:Math.min(t.end,n),relativeStart:Math.max(0,m),relativeEnd:Math.min(Q,Q-g)}}function Wa(t){let e=[];for(let n of t.annotations)if(n.start<t.end&&n.end>t.start){let m=Rc(n,t.start,t.end);e.push({id:n.id,start:m.start,end:m.end,sequence:n.sequence.slice(m.relativeStart,m.relativeEnd)})}if(e.length>0)return new Yn({annotations:e})}function Ga(t){let e=[];for(let n of t.annotations)if(n.start<t.end&&n.end>t.start){let m=Rc(n,t.start,t.end);e.push({id:n.id,start:m.start,end:m.end,values:n.values.slice(m.relativeStart,m.relativeEnd)})}if(e.length>0)return new Yn({annotations:e})}var Tc=Te(()=>{di()});var Ec=Ve((Jo,tu)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Jo<"u"?e():(e(),t.FileSaver={})})(Jo,function(){"use strict";function t(z,I){return typeof I>"u"?I={autoBom:!1}:typeof I!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),I={autoBom:!I}),I.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(z.type)?new Blob(["\uFEFF",z],{type:z.type}):z}function e(z,I,E){var T=new XMLHttpRequest;T.open("GET",z),T.responseType="blob",T.onload=function(){F(T.response,I,E)},T.onerror=function(){console.error("could not download file")},T.send()}function n(z){var I=new XMLHttpRequest;I.open("HEAD",z,!1);try{I.send()}catch{}return 200<=I.status&&299>=I.status}function m(z){try{z.dispatchEvent(new MouseEvent("click"))}catch{var I=document.createEvent("MouseEvents");I.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),z.dispatchEvent(I)}}var g=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,Q=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),F=g.saveAs||(typeof window!="object"||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!Q?function(z,I,E){var T=g.URL||g.webkitURL,Y=document.createElement("a");I=I||z.name||"download",Y.download=I,Y.rel="noopener",typeof z=="string"?(Y.href=z,Y.origin===location.origin?m(Y):n(Y.href)?e(z,I,E):m(Y,Y.target="_blank")):(Y.href=T.createObjectURL(z),setTimeout(function(){T.revokeObjectURL(Y.href)},4e4),setTimeout(function(){m(Y)},0))}:"msSaveOrOpenBlob"in navigator?function(z,I,E){if(I=I||z.name||"download",typeof z!="string")navigator.msSaveOrOpenBlob(t(z,E),I);else if(n(z))e(z,I,E);else{var T=document.createElement("a");T.href=z,T.target="_blank",setTimeout(function(){m(T)})}}:function(z,I,E,T){if(T=T||open("","_blank"),T&&(T.document.title=T.document.body.innerText="downloading..."),typeof z=="string")return e(z,I,E);var Y=z.type==="application/octet-stream",C=/constructor/i.test(g.HTMLElement)||g.safari,it=/CriOS\/[\d]+/.test(navigator.userAgent);if((it||Y&&C||Q)&&typeof FileReader<"u"){var at=new FileReader;at.onloadend=function(){var vt=at.result;vt=it?vt:vt.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=vt:location=vt,T=null},at.readAsDataURL(z)}else{var lt=g.URL||g.webkitURL,Pt=lt.createObjectURL(z);T?T.location=Pt:location.href=Pt,T=null,setTimeout(function(){lt.revokeObjectURL(Pt)},4e4)}});g.saveAs=F.saveAs=F,typeof tu<"u"&&(tu.exports=F)})});function Nc(t){let e=t.filename||"soda-chart.png",n=t.pixelRatio||window.devicePixelRatio||1;n<1&&console.warn("pixelRatio < 1 in exportPng(), this probably won't work well");let m=t.chart.padSelection.node(),g=Oc.create("canvas").node();if(g==null)throw"canvas node undefined after initialization during exportPng()";let Q=m.getBoundingClientRect();g.width=Q.width*n,g.height=Q.height*n;let F=g.getContext("2d");if(F==null)throw"canvas context undefined after initialization during exportPng()";F.scale(n,n);let z=new Blob([m.outerHTML],{type:"image/svg+xml"}),I=URL.createObjectURL(z),E=new Image;E.onload=()=>{if(F==null)throw"canvas context undefined in image.onload event callback during exportPng()";if(F.drawImage(E,0,0),g==null)throw"canvas node undefined in image.onload event during exportPng()";(0,zc.saveAs)(g.toDataURL(),e)},E.src=I}var Oc,zc,Dc=Te(()=>{Oc=xn(wn(),1),zc=xn(Ec(),1)});var dh,Va,Ic=Te(()=>{dh=xn(wn(),1),Va=dh});var qc=Te(()=>{Sc();kc();Pc();Tc();Dc();bn();Ic()});var Ki={};Tu(Ki,{AnnotationGraph:()=>ii,AnnotationGroup:()=>Yn,AxisType:()=>Fn,BindTarget:()=>li,Chart:()=>Xn,ChartObserver:()=>ji,GenerationPattern:()=>Zi,GlyphModifier:()=>tn,Orientation:()=>Ln,RadialChart:()=>Na,Transform:()=>hi,ZoomSyncer:()=>$a,aggregateIntransitive:()=>Mc,aggregateTransitive:()=>xc,arc:()=>Rf,area:()=>jf,barPlot:()=>Bf,bind:()=>je,chevronLine:()=>Nf,chevronRectangle:()=>If,clickBehavior:()=>bf,dynamicText:()=>ec,exportPng:()=>Nc,generateAnnotations:()=>Ya,generateId:()=>Le,generatePlotAnnotations:()=>Ac,generateSequenceAnnotations:()=>Cc,getAlignmentAnnotations:()=>Ha,getAllAnnotationIds:()=>Po,getAnnotationById:()=>Ro,greedyGraphLayout:()=>fc,heatmap:()=>qa,heuristicGraphLayout:()=>hc,horizontalAxis:()=>Aa,hoverBehavior:()=>Yi,internalD3:()=>Va,intervalGraphLayout:()=>Ea,keyFromSelection:()=>Ei,line:()=>zf,linePlot:()=>Wf,parseBedRecords:()=>yc,parseGff3Records:()=>bc,queryGlyphMap:()=>_i,radialRectangle:()=>za,rectangle:()=>Pa,removeGlyphsByQuery:()=>Ta,resolveValue:()=>ge,sequence:()=>Ar,setKeySeparator:()=>uf,simpleText:()=>Pr,slicePlotAnnotations:()=>Ga,sliceSequenceAnnotations:()=>Wa,tooltip:()=>oc,verticalAxis:()=>Ef});var di=Te(()=>{zu();Af();Pf();rc();sc();pc();mc();_c();qc()});var nu=Ve(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.RmskAnnotationGroup=void 0;var ph=(di(),mr(Ki)),eu=class extends ph.AnnotationGroup{constructor(e){super(e),this.alignedStart=this.annotations.filter(n=>n.type=="aligned").reduce((n,m)=>n.start<m.start?n:m).start,this.alignedEnd=this.annotations.filter(n=>n.type=="aligned").reduce((n,m)=>n.end>m.end?n:m).end,this.alignedWidth=this.alignedEnd-this.alignedStart}};ja.RmskAnnotationGroup=eu});var iu=Ve(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.RmskBedParse=void 0;var Lc=(di(),mr(Ki)),gh=nu();function mh(t){let e=[],n=t.name.split("#"),m=n[0],g="",Q="";if(n.length>1){let it=n[1].split("/");g=it[0]||"",Q=it[1]||""}let F=[],z=t.blockSizes[0],I=t.blockStarts[0];z>0&&I==-1&&F.push([z,0,"left-unaligned"]),F.push([500,I-500,"label"]);let E=t.blockSizes[t.blockCount-1],T=t.blockStarts[t.blockCount-1],Y=t.blockSizes[t.blockCount-2]+t.blockStarts[t.blockCount-2];E>0&&T==-1&&F.push([E,Y,"right-unaligned"]);for(let it=1;it<t.blockCount-1;it++){let at=t.blockSizes[it],lt=t.blockStarts[it];if(lt>=0)F.push([at,lt,"aligned"]);else{let Pt=t.blockSizes[it-1],vt=t.blockStarts[it-1],It=t.blockStarts[it+1],kt=vt+Pt,et=It-kt;if(at>0)if(et<at){let dt=(at-et)/2,V=kt-dt,h=kt+1,v=It+dt;F.push([at,V,"inner-unaligned"]),F.push([-dt,h,"left-joining"]),F.push([-dt,v,"right-joining"])}else{let dt=(et-at)/2,V=kt+dt,h=kt+1,v=V+at;F.push([at,V,"inner-unaligned"]),F.push([dt,h,"left-joining"]),F.push([dt,v,"right-joining"])}else{let dt=(et-at)/2,V=Math.max(0,kt+at),h=V+dt;F.push([dt,V,"left-joining"]),F.push([dt,h,"right-joining"])}}}for(let[it,[at,lt,Pt]]of F.entries())e.push({id:`${t.id}.${it}`,start:t.chromStart+lt-1,end:t.chromStart+lt+at,type:Pt,className:g,familyName:Q,subfamilyName:m,score:t.score,orientation:t.strand=="+"?Lc.Orientation.Forward:Lc.Orientation.Reverse});let C={id:`group.${t.id}`,annotations:e,start:t.chromStart,end:t.chromEnd};return new gh.RmskAnnotationGroup(C)}Xa.RmskBedParse=mh});var Fc=Ve(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.RmskChart=void 0;var Qi=wn(),jn=(di(),mr(Ki)),yh=iu(),ru=class extends jn.Chart{constructor(e){super(e),this.divergenceColorScale=Qi.scaleSequential(Qi.interpolateGreys).domain([0,7e3]);let n=["SINE","LINE","LTR","DNA","Simple","Low_complexity","Satellite","RNA","Other","Unknown"];this.classColorScale=Qi.scaleOrdinal(Qi.schemeCategory10).domain(n),this.densityColorScale=Qi.scaleSequential(Qi.interpolateViridis).domain([0,.1]),this.updateLayout=function(m){let g=jn.greedyGraphLayout(m.annotations,0,vh);for(let Q of m.annotations)for(let F of Q.annotations)g.rowMap.set(F.id,g.rowMap.get(Q.id));g.rowCount++,this.layout=g},this.draw=function(m){this.addAxis();let g=m.annotations.reduce((C,it)=>C.concat(it.annotations),[]),Q=g.filter(C=>C.type=="aligned"),F=g.filter(C=>C.type=="left-unaligned"),z=g.filter(C=>C.type=="right-unaligned"),I=g.filter(C=>C.type=="inner-unaligned"),E=g.filter(C=>C.type=="left-joining"),T=g.filter(C=>C.type=="right-joining"),Y=g.filter(C=>C.type=="label");for(let C=0;C<this.layout.rowCount;C++){let it=g.filter(at=>this.layout.row({a:at,c:this})==C);it=it.sort((at,lt)=>at.start>lt.start?1:-1);for(let[at,lt]of it.entries())if(lt.type=="label"){let Pt=it[at-1];Pt!=null?lt.start=Pt.end+1:lt.start-=1e4}}jn.chevronRectangle({chart:this,annotations:Q,selector:"aligned",y:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/2,height:C=>C.c.rowHeight/2,orientation:C=>C.a.orientation,strokeColor:C=>C.c.classColorScale(C.a.className),fillColor:C=>C.c.divergenceColorScale(7e3-C.a.score),chevronStrokeColor:"#F9F6EE",chevronSpacing:5}),jn.line({chart:this,annotations:F,selector:"left-unaligned",y:C=>(C.c.layout.row(C)+1)*C.c.rowHeight-C.c.rowHeight/4,strokeDashArray:"3, 3",strokeColor:C=>C.c.classColorScale(C.a.className)}),jn.line({chart:this,annotations:F,selector:"left-endpoint",x1:C=>C.c.xScale(C.a.start),x2:C=>C.c.xScale(C.a.start),x:C=>C.a.start,y1:C=>(C.c.layout.row(C)+1)*C.c.rowHeight,y2:C=>(C.c.layout.row(C)+1)*C.c.rowHeight-C.c.rowHeight/2,strokeColor:C=>C.c.classColorScale(C.a.className)}),jn.line({chart:this,annotations:z,selector:"right-unaligned",strokeDashArray:"3, 3",y:C=>(C.c.layout.row(C)+1)*C.c.rowHeight-C.c.rowHeight/4,strokeColor:C=>C.c.classColorScale(C.a.className)}),jn.line({chart:this,annotations:z,selector:"right-endpoint",x1:C=>C.c.xScale(C.a.end),x2:C=>C.c.xScale(C.a.end),y1:C=>(C.c.layout.row(C)+1)*C.c.rowHeight,y2:C=>(C.c.layout.row(C)+1)*C.c.rowHeight-C.c.rowHeight/2,strokeColor:C=>C.c.classColorScale(C.a.className)}),jn.line({chart:this,annotations:I,selector:"inner-unaligned",strokeDashArray:()=>"3, 3",y:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/4}),jn.line({chart:this,annotations:E,selector:"left-join",y1:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/2,y2:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/4}),jn.line({chart:this,annotations:T,selector:"right-join",y1:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/4,y2:C=>C.c.layout.row(C)*C.c.rowHeight+C.c.rowHeight/2}),jn.dynamicText({chart:this,annotations:Y,selector:"label",textAnchor:"end",x:C=>C.c.xScale(C.a.end)-1,y:C=>(C.c.layout.row(C)+.45)*C.c.rowHeight,text:C=>[`${C.a.subfamilyName}#${C.a.className}/${C.a.familyName}`,`${C.a.subfamilyName}#${C.a.className}...`,`${C.a.subfamilyName}...`]}),jn.tooltip({chart:this,annotations:Q,text:C=>`${C.a.subfamilyName}#${C.a.className}/${C.a.familyName}: ${C.a.id}`})}}query(e){fetch(`https://sodaviz.org/data/rmsk/${e.chromosome}/${e.start}/${e.end}`).then(n=>n.json()).then(n=>n.map(m=>yh.RmskBedParse(m))).then(n=>{this.render({annotations:n,start:e.start,end:e.end})})}};Za.RmskChart=ru;function vh(t,e){t.sort((n,m)=>e.getAnnotationFromId(n).alignedWidth>e.getAnnotationFromId(m).alignedWidth?-1:1)}});var Bc=Ve($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0})});var Uc=Ve(zn=>{"use strict";var bh=zn&&zn.__createBinding||(Object.create?function(t,e,n,m){m===void 0&&(m=n),Object.defineProperty(t,m,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,m){m===void 0&&(m=n),t[m]=e[n]}),Ka=zn&&zn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bh(e,t,n)};Object.defineProperty(zn,"__esModule",{value:!0});zn.internalSoda=zn.sodaInternalD3=zn.internalD3=void 0;var Hc=(di(),mr(Ki)),wh=wn();Ka(Fc(),zn);Ka(nu(),zn);Ka(Bc(),zn);Ka(iu(),zn);zn.internalD3=wh;zn.sodaInternalD3=Hc.internalD3;zn.internalSoda=Hc});var _h={};Tu(_h,{PolyaContainer:()=>au});di();var Zn=xn(Uc());var Qa=["#17becf","#ff7f0e","#2ca02c","#d62728"],Yc=new Map,au=class{constructor(e){this.charts=[];this.annotationCache=[];this.ucscAnnotationCache=[];this.confidenceCache=[];this.alignmentCache=[];this.confidenceVisible=!0;this.alignmentsVisible=!0;let n=vi(yi({},e),{resizable:!0,divOutline:"1px solid black",rowHeight:16,padSize:0});this.ucscChart=new Zn.RmskChart(vi(yi({},n),{upperPadSize:25}));let m=this;this.polyaChart=new Zn.RmskChart(vi(yi({},n),{lowerPadSize:20,postResize(){m.initializeBrush()}})),this.polyaSelectionChart=new Zn.RmskChart(vi(yi({},n),{upperPadSize:25})),this.genomeChart=new Xn(vi(yi({},n),{draw(F){Ar({chart:this,selector:"genome",annotations:F.annotations,y:z=>z.c.rowHeight*(z.c.layout.row(z)+1)-3})}})),this.confidenceChart=new Xn(vi(yi({},n),{rowHeight:30,divHeight:200,divOverflowY:"scroll",draw(F){qa({annotations:F.confidence,chart:this,colorScheme:Va.interpolateGreys,fillOpacity:.8,outlineColor:"black",selector:"confidence"}),Pr({chart:this,selector:"labels",annotations:F.labels,y:E=>E.c.rowHeight*E.c.layout.row(E)+4,fillColor:Qa[0],text:E=>Yc.get(E.a.id)});let z=F.alignments.filter(E=>!E.id.includes("insert")),I=F.alignments.filter(E=>E.id.includes("insert"));Ar({chart:this,selector:"alignments",annotations:z,y:E=>E.c.rowHeight*(E.c.layout.row(E)+1)-3,fillColor:E=>E.a.id.includes("matches")?Qa[2]:Qa[1]}),Pr({chart:this,selector:"insertions",annotations:I,y:E=>E.c.rowHeight*E.c.layout.row(E)+4,fillColor:Qa[3],textAnchor:"middle",text:"\u25BC"}),Yi({chart:this,annotations:I,mouseover:(E,T)=>{this.viewportSelection.selectAll("text.labels-internal").style("fill-opacity",.2),E.text(T.a.sequence)},mouseout:E=>{this.viewportSelection.selectAll("text.labels-internal").style("fill-opacity",1),E.text("\u25BC")}})}}));let g=parseInt(this.confidenceChart.viewportSelection.attr("width")),Q=this.genomeChart.calculateContainerWidth();this.polyaSelectionChart.rightPadSize=Q-g,this.genomeChart.rightPadSize=Q-g,this.charts=[this.ucscChart,this.polyaChart,this.polyaSelectionChart,this.genomeChart,this.confidenceChart]}clear(){this.annotationCache=[],this.confidenceCache=[],this.alignmentCache=[];for(let e of this.charts)e.clear()}render(e){this.clear(),this.chromosome=e.chr,this.annotationCache=e.annotations.map(n=>Zn.RmskBedParse(n)),this.ucscAnnotationCache=e.ucscAnnotations.map(n=>Zn.RmskBedParse(n)),this.genomeAnn={id:"genome",start:e.start+.5,end:e.end+1.5,sequence:e.genomeSeq},this.initializeBrush(),this.polyaChart.render({annotations:this.annotationCache,start:e.start,end:e.end}),this.ucscChart.render({annotations:this.ucscAnnotationCache,start:e.start,end:e.end});for(let[n,m]of e.heatmap.entries()){let g=`row-${n}`;Yc.set(`${g}-conf`,m.name);let Q=new Yn({id:`${g}-conf`}),F=new Yn({id:`${g}-ali`});for(let z=0;z<m.confidence.length;z++){let I=m.confidence[z];Q.add(vi(yi({},I),{id:`${g}-conf-${z}`,end:I.start+I.values.length}));let E=m.alignments[z];if(E!=null){let T=Ha({id:`${g}-ali-${z}`,start:I.start+.5,target:E.target.slice(E.relativeStart,E.relativeEnd),query:E.query.slice(E.relativeStart,E.relativeEnd)});F.add([T.matches,T.substitutions,T.gaps,...T.inserts])}}this.confidenceCache.push(Q),this.alignmentCache.push(F)}}renderBrushSelection(){if(this.genomeAnn!=null&&this.semanticBrushRange!=null){let e=this.semanticBrushRange[0],n=this.semanticBrushRange[1];this.genomeChart.render({start:e,end:n,annotations:[this.genomeAnn]});let m=[],g=[],Q=[],F=new Map;this.confidenceChart.layout.row=Y=>F.get(Y.a.id)||0;let z=this.confidenceCache.filter(Y=>Y.start<n&&Y.end>e),I=0;for(let Y of z){let C=Ga({annotations:Y.annotations,start:e,end:n});if(C!=null){for(let it of C.annotations)g.push(it),F.set(it.id,I);m.push({id:Y.id,start:Math.max(e,C.start),end:n}),F.set(Y.id,I),I++}}let E=this.alignmentCache.filter(Y=>Y.start<n&&Y.end>e);I=0;for(let Y of E){let C=Wa({annotations:Y.annotations,start:e+.5,end:n+.5});if(C!=null){for(let it of C.annotations)Q.push(it),F.set(it.id,I+1);I++}}I++,this.confidenceChart.render({labels:m,confidence:g,alignments:Q,start:e,end:n,rowCount:I});let T=this.annotationCache.filter(Y=>Y.start<n&&Y.end>e);this.polyaSelectionChart.render({annotations:T,start:e,end:n})}}toggleConfidence(){this.confidenceVisible=!this.confidenceVisible;let e=this.confidenceVisible?"visible":"hidden";this.confidenceChart.viewportSelection.selectAll("g.confidence-group").style("visibility",e)}toggleAlignments(){this.alignmentsVisible=!this.alignmentsVisible;let e=this.alignmentsVisible?"visible":"hidden";this.confidenceChart.viewportSelection.selectAll("g.alignments-group, g.insertions-group").style("visibility",e)}initializeBrush(){if(this.polyaChart.viewportSelection.call(Zn.sodaInternalD3.brushX().extent([[0,0],[this.polyaChart.viewportWidthPx,this.polyaChart.viewportHeightPx+1]]).on("start",()=>this.initializeBrushExtension()).on("brush",()=>{let e=Zn.sodaInternalD3.event.selection;this.semanticBrushRange=[Math.round(this.polyaChart.xScale.invert(e[0])),Math.round(this.polyaChart.xScale.invert(e[1]))],this.moveBrushExtension(e[0],e[1])}).on("end",()=>this.renderBrushSelection())),this.semanticBrushRange!=null){let e=this.polyaChart.xScale(this.semanticBrushRange[0]),n=this.polyaChart.xScale(this.semanticBrushRange[1]);this.polyaChart.viewportSelection.call(Zn.sodaInternalD3.brushX().move,[e,n]),this.moveBrushExtension(e,n)}}initializeBrushExtension(){this.polyaChart.overflowViewportSelection.selectAll("path.brush-extension").data(["brush-extension"]).enter().append("path").attr("class","brush-extension").style("fill","#777").style("fill-opacity","0.3")}moveBrushExtension(e,n){this.semanticBrushRange!=null&&this.polyaChart.overflowViewportSelection.selectAll("path.brush-extension").attr("d",`M 0 ${this.polyaChart.calculatePadHeight()}L ${e} ${this.polyaChart.viewportHeight}L ${n} ${this.polyaChart.viewportHeight}L ${this.polyaChart.viewportWidth} ${this.polyaChart.calculatePadHeight()} Z`)}};return mr(_h);})();
